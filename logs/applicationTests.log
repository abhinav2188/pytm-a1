2022-02-17 13:19:07.854  INFO 22531 --- [main] c.p.a.controllers.UserControllerIT       : Starting UserControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 22531 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 13:19:07.864 DEBUG 22531 --- [main] c.p.a.controllers.UserControllerIT       : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 13:19:07.864  INFO 22531 --- [main] c.p.a.controllers.UserControllerIT       : No active profile set, falling back to default profiles: default
2022-02-17 13:19:09.200  INFO 22531 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 13:19:09.307  INFO 22531 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 97 ms. Found 3 JPA repository interfaces.
2022-02-17 13:19:10.941  INFO 22531 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 13:19:10.957  INFO 22531 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 13:19:10.960  INFO 22531 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 13:19:11.164  INFO 22531 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 13:19:11.167  INFO 22531 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3267 ms
2022-02-17 13:19:11.755  INFO 22531 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 13:19:11.795  INFO 22531 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 13:19:11.968  INFO 22531 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 13:19:12.065  INFO 22531 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 13:19:12.772  INFO 22531 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 13:19:12.802  INFO 22531 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 13:19:13.970 DEBUG 22531 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 13:19:14.038 DEBUG 22531 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 13:19:14.045 DEBUG 22531 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 13:19:14.051 DEBUG 22531 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 13:19:14.058 DEBUG 22531 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 13:19:14.064 DEBUG 22531 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 13:19:14.071 DEBUG 22531 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 13:19:14.083 DEBUG 22531 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 13:19:14.092 DEBUG 22531 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 13:19:14.096 DEBUG 22531 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 13:19:14.110 DEBUG 22531 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 13:19:14.118 DEBUG 22531 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 13:19:14.125 DEBUG 22531 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 13:19:14.134 DEBUG 22531 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 13:19:14.142 DEBUG 22531 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 13:19:14.152 DEBUG 22531 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 13:19:14.165 DEBUG 22531 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 13:19:14.179 DEBUG 22531 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 13:19:14.198  INFO 22531 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 13:19:14.214  INFO 22531 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:19:15.166 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 13:19:15.168 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 13:19:15.287  WARN 22531 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 13:19:16.085  INFO 22531 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@694b1ddb, org.springframework.security.web.context.SecurityContextPersistenceFilter@4679554d, org.springframework.security.web.header.HeaderWriterFilter@323eecf8, org.springframework.security.web.authentication.logout.LogoutFilter@3d2eb7fa, com.paytm.assignment1.filters.JwtRequestFilter@69ab2d6a, com.paytm.assignment1.filters.UserAuthorizationFilter@57afe44b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@49353d43, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@744fb110, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5690c2a8, org.springframework.security.web.session.SessionManagementFilter@7affee54, org.springframework.security.web.access.ExceptionTranslationFilter@64d53f0d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@10301d6f]
2022-02-17 13:19:17.294  INFO 22531 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 13:19:17.296  INFO 22531 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 13:19:17.300  INFO 22531 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 4 ms
2022-02-17 13:19:17.426  INFO 22531 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 13:19:17.578  INFO 22531 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:19:17.578  INFO 22531 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:19:17.579  INFO 22531 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645084157574
2022-02-17 13:19:17.999  INFO 22531 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 13:19:18.006  INFO 22531 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:19:18.007  INFO 22531 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:19:18.007  INFO 22531 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:19:18.062  INFO 22531 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:19:18.115  INFO 22531 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:19:18.116  INFO 22531 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:19:18.116  INFO 22531 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645084158115
2022-02-17 13:19:18.118  INFO 22531 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 13:19:18.147  INFO 22531 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:19:18.176  INFO 22531 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:19:18.177  INFO 22531 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:19:18.178  INFO 22531 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645084158175
2022-02-17 13:19:18.180  INFO 22531 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 13:19:18.200  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:19:18.199  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:19:18.202  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:19:18.202  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:19:18.208  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:19:18.209  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:19:18.249  INFO 22531 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 56569 (http) with context path ''
2022-02-17 13:19:18.290  INFO 22531 --- [main] c.p.a.controllers.UserControllerIT       : Started UserControllerIT in 10.992 seconds (JVM running for 13.468)
2022-02-17 13:19:18.295  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:19:18.297  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:19:18.308  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:19:18.312  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:19:18.398  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=32, memberId='consumer-user-wallet-group-2-1862aec6-5d33-4042-97f5-74ed77e7b1d7', protocol='range'}
2022-02-17 13:19:18.398  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=32, memberId='consumer-user-wallet-group-1-18630dd2-a1ae-4b42-8b13-96b65a96e2ac', protocol='range'}
2022-02-17 13:19:18.426  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=32, memberId='consumer-user-wallet-group-2-1862aec6-5d33-4042-97f5-74ed77e7b1d7', protocol='range'}
2022-02-17 13:19:18.426  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=32, memberId='consumer-user-wallet-group-1-18630dd2-a1ae-4b42-8b13-96b65a96e2ac', protocol='range'}
2022-02-17 13:19:18.435  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[])
2022-02-17 13:19:18.436  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[transactions-0])
2022-02-17 13:19:18.436  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Adding newly assigned partitions: 
2022-02-17 13:19:18.441  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Adding newly assigned partitions: transactions-0
2022-02-17 13:19:18.442  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: []
2022-02-17 13:19:18.478  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Setting offset for partition transactions-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 13:19:18.483  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [transactions-0]
2022-02-17 13:19:18.797  INFO 22531 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-17 13:19:18.801  INFO 22531 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-17 13:19:18.803  INFO 22531 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-02-17 13:19:18.820 TRACE 22531 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:18.821 DEBUG 22531 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:19:18.821 TRACE 22531 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:18.821 DEBUG 22531 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:19:19.012 TRACE 22531 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:19.014 DEBUG 22531 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:19:19.015 TRACE 22531 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:19.015 DEBUG 22531 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:19:19.097 TRACE 22531 --- [http-nio-auto-1-exec-2] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:19:19.124 TRACE 22531 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:19:19.124 DEBUG 22531 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:19:19.182 DEBUG 22531 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:19:19.244 DEBUG 22531 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:19:19.251 DEBUG 22531 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:19:19.254 DEBUG 22531 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : user validations done
2022-02-17 13:19:19.313 DEBUG 22531 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 13:19:19.316 DEBUG 22531 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 13:19:19.340 DEBUG 22531 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 13:19:19.437 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:19.439 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:19:19.439 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:19.439 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:19:19.454 TRACE 22531 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:19:19.454 TRACE 22531 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:19:19.454 DEBUG 22531 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:19:19.457 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:19:19.471 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:19:19.479 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:19:19.486  WARN 22531 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 13:19:19.570 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:19.571 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:19:19.571 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:19.571 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:19:19.574 TRACE 22531 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:19:19.575 TRACE 22531 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:19:19.576 DEBUG 22531 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:19:19.576 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:19:19.583 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:19:19.585  WARN 22531 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :email
2022-02-17 13:19:19.609 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:19.609 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:19:19.609 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:19.609 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:19:19.611 TRACE 22531 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:19:19.611 TRACE 22531 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:19:19.611 DEBUG 22531 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:19:19.612  WARN 22531 --- [main] c.p.a.exceptions.EmptyFieldException     : Empty Field: userName
2022-02-17 13:19:19.621 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:19.622 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:19:19.622 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:19.622 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:19:19.623 TRACE 22531 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:19:19.623 TRACE 22531 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:19:19.623 DEBUG 22531 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:19:19.623 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:19:19.625 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:19:19.628 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:19:19.630 DEBUG 22531 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 13:19:19.631 DEBUG 22531 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 13:19:19.633 DEBUG 22531 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 13:19:19.636 DEBUG 22531 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 13:19:19.654 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:19.655 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:19:19.655 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:19.655 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:19:19.662 TRACE 22531 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 13:19:19.664 TRACE 22531 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:19:19.677 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:19:19.699 TRACE 22531 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:19:19.700 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:19:19.800 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:19.801 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:19:19.801 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:19.802 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:19:19.806 TRACE 22531 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 13:19:19.806 TRACE 22531 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:19:19.807 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:19:19.833 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:19.859 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:19:19.859 TRACE 22531 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:19:19.895 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:19:19.909 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:19.910 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:19:19.910 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:19:19.910 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:19:19.926 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:19:19.943 TRACE 22531 --- [main] c.p.a.controllers.UserController         : /user/{id} getUser() request
2022-02-17 13:19:19.944 TRACE 22531 --- [main] c.p.assignment1.services.UserService     : getUser()
2022-02-17 13:19:19.965 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:19:20.015 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:20.016 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:19:20.016 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:20.016 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:19:20.031 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:20.034 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:19:20.034 TRACE 22531 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:19:20.036 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:19:20.044 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:20.044 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:19:20.044 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 13:19:20.044 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 13:19:20.045 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:19:20.049 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:19:20.052 TRACE 22531 --- [main] c.p.a.controllers.UserController         : /user/{id} getUser() request
2022-02-17 13:19:20.052 TRACE 22531 --- [main] c.p.assignment1.services.UserService     : getUser()
2022-02-17 13:19:20.053 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:19:20.057  WARN 22531 --- [main] c.p.a.exceptions.UserNotFoundException   : 3
2022-02-17 13:19:20.099 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:20.103 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:19:20.103 TRACE 22531 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:19:20.104 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:19:20.110 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:20.110 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:19:20.110 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 13:19:20.110 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 13:19:20.111 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:19:20.112 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:19:20.114 TRACE 22531 --- [main] c.p.a.controllers.UserController         : /user/{id} getUser() request
2022-02-17 13:19:20.114 TRACE 22531 --- [main] c.p.assignment1.services.UserService     : getUser()
2022-02-17 13:19:20.115 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:19:20.127 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:20.130 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:19:20.130 TRACE 22531 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:19:20.131 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:19:20.134 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:20.134 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:19:20.134 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:19:20.134 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:19:20.135 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:19:20.141 TRACE 22531 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:19:20.145 TRACE 22531 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:19:20.145 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:19:20.153 DEBUG 22531 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:19:20.155 DEBUG 22531 --- [main] c.p.assignment1.services.UserService     : validation complete
2022-02-17 13:19:20.165 DEBUG 22531 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 13:19:20.202 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:20.204 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:19:20.204 TRACE 22531 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:19:20.204 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:19:20.211 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:20.211 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:19:20.211 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 13:19:20.211 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 13:19:20.212 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:19:20.213 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:19:20.215 TRACE 22531 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:19:20.216 TRACE 22531 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:19:20.216 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:19:20.218  WARN 22531 --- [main] c.p.a.exceptions.UserNotFoundException   : 3
2022-02-17 13:19:20.230 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:20.230 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:19:20.231 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:20.231 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:19:20.243 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:20.244 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:19:20.244 TRACE 22531 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:19:20.245 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:19:20.249 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:20.249 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:19:20.249 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:19:20.249 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:19:20.250 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:19:20.252 TRACE 22531 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:19:20.253 TRACE 22531 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:19:20.255 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:19:20.259 DEBUG 22531 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:19:20.261 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:19:20.262  WARN 22531 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 13:19:20.272 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:20.273 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:19:20.274 TRACE 22531 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:19:20.275 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:19:20.279 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:20.279 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:19:20.279 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 13:19:20.279 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 13:19:20.279 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:19:20.281 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:19:20.286 TRACE 22531 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:19:20.287 TRACE 22531 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:19:20.288 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:19:20.291 DEBUG 22531 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:19:20.292 DEBUG 22531 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 13:19:20.294 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:19:20.296 DEBUG 22531 --- [main] c.p.assignment1.services.UserService     : validation complete
2022-02-17 13:19:20.297 DEBUG 22531 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 13:19:20.306 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:20.308 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:19:20.308 TRACE 22531 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:19:20.308 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:19:20.313 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:20.314 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:19:20.314 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:19:20.314 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:19:20.315 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:19:20.320 TRACE 22531 --- [main] c.p.a.controllers.UserController         : /user/{id} deleteUser() request
2022-02-17 13:19:20.322 TRACE 22531 --- [main] c.p.assignment1.services.UserService     : deleteUser()
2022-02-17 13:19:20.336 DEBUG 22531 --- [main] org.hibernate.SQL                        : select count(*) as col_0_0_ from user user0_ where user0_.id=?
2022-02-17 13:19:20.350 DEBUG 22531 --- [main] org.hibernate.SQL                        : update user set is_active=? where id=?
2022-02-17 13:19:20.368 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 13:19:20.381 DEBUG 22531 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 13:19:20.383 DEBUG 22531 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 13:19:20.386 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:20.386 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:19:20.386 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:20.386 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:19:20.424  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Revoke previously assigned partitions transactions-0
2022-02-17 13:19:20.424  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-1862aec6-5d33-4042-97f5-74ed77e7b1d7 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:19:20.428  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [transactions-0]
2022-02-17 13:19:20.429  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:19:20.429  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:19:20.429  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:19:20.429  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:19:20.430  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:19:20.430  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-18630dd2-a1ae-4b42-8b13-96b65a96e2ac sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:19:20.430  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:19:20.430  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:19:20.430  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:19:20.431  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:19:20.431  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:19:20.433  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:19:20.433  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:19:20.434  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:19:20.433  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:19:20.434  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:19:20.434  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:19:20.440  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 13:19:20.440  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 13:19:20.443  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:19:20.443  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:19:20.454  INFO 22531 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:19:20.461  INFO 22531 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 13:19:20.475  INFO 22531 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 13:20:55.754  INFO 22617 --- [main] c.p.a.controllers.UserControllerIT       : Starting UserControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 22617 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 13:20:55.756 DEBUG 22617 --- [main] c.p.a.controllers.UserControllerIT       : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 13:20:55.756  INFO 22617 --- [main] c.p.a.controllers.UserControllerIT       : No active profile set, falling back to default profiles: default
2022-02-17 13:20:57.087  INFO 22617 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 13:20:57.200  INFO 22617 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 104 ms. Found 3 JPA repository interfaces.
2022-02-17 13:20:58.850  INFO 22617 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 13:20:58.869  INFO 22617 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 13:20:58.870  INFO 22617 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 13:20:59.071  INFO 22617 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 13:20:59.072  INFO 22617 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3292 ms
2022-02-17 13:20:59.719  INFO 22617 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 13:20:59.753  INFO 22617 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 13:20:59.893  INFO 22617 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 13:20:59.981  INFO 22617 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 13:21:00.683  INFO 22617 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 13:21:00.710  INFO 22617 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 13:21:01.817 DEBUG 22617 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 13:21:01.860 DEBUG 22617 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 13:21:01.870 DEBUG 22617 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 13:21:01.877 DEBUG 22617 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 13:21:01.881 DEBUG 22617 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 13:21:01.888 DEBUG 22617 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 13:21:01.897 DEBUG 22617 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 13:21:01.905 DEBUG 22617 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 13:21:01.914 DEBUG 22617 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 13:21:01.917 DEBUG 22617 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 13:21:01.928 DEBUG 22617 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 13:21:01.938 DEBUG 22617 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 13:21:01.944 DEBUG 22617 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 13:21:01.954 DEBUG 22617 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 13:21:01.961 DEBUG 22617 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 13:21:01.973 DEBUG 22617 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 13:21:01.989 DEBUG 22617 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 13:21:02.004 DEBUG 22617 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 13:21:02.024  INFO 22617 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 13:21:02.031  INFO 22617 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:21:02.969 DEBUG 22617 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 13:21:02.972 DEBUG 22617 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 13:21:03.124  WARN 22617 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 13:21:03.847  INFO 22617 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@59cde35, org.springframework.security.web.context.SecurityContextPersistenceFilter@73852720, org.springframework.security.web.header.HeaderWriterFilter@1835b783, org.springframework.security.web.authentication.logout.LogoutFilter@6c8ad6d7, com.paytm.assignment1.filters.JwtRequestFilter@b81938d, com.paytm.assignment1.filters.UserAuthorizationFilter@2aa0feb2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ae0a26, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7845ee8a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@43de9fc9, org.springframework.security.web.session.SessionManagementFilter@f6bc75c, org.springframework.security.web.access.ExceptionTranslationFilter@4b240276, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6f67ece5]
2022-02-17 13:21:05.111  INFO 22617 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 13:21:05.114  INFO 22617 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 13:21:05.117  INFO 22617 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2022-02-17 13:21:05.304  INFO 22617 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 13:21:05.479  INFO 22617 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:21:05.480  INFO 22617 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:21:05.481  INFO 22617 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645084265475
2022-02-17 13:21:05.915  INFO 22617 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 13:21:05.922  INFO 22617 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:21:05.922  INFO 22617 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:21:05.922  INFO 22617 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:21:05.982  INFO 22617 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:21:06.050  INFO 22617 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:21:06.052  INFO 22617 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:21:06.053  INFO 22617 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645084266050
2022-02-17 13:21:06.055  INFO 22617 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 13:21:06.093  INFO 22617 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:21:06.128  INFO 22617 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:21:06.130  INFO 22617 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:21:06.130  INFO 22617 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645084266128
2022-02-17 13:21:06.133  INFO 22617 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 13:21:06.146  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:21:06.146  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:21:06.149  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:21:06.150  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:21:06.159  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:21:06.159  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:21:06.206  INFO 22617 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 56611 (http) with context path ''
2022-02-17 13:21:06.233  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:21:06.233  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:21:06.237  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:21:06.237  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:21:06.246  INFO 22617 --- [main] c.p.a.controllers.UserControllerIT       : Started UserControllerIT in 11.219 seconds (JVM running for 13.524)
2022-02-17 13:21:06.621  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=34, memberId='consumer-user-wallet-group-2-32a59b60-27e8-4119-b842-e6d5b5426a4a', protocol='range'}
2022-02-17 13:21:06.621  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=34, memberId='consumer-user-wallet-group-1-e665870b-f6d2-4e08-802a-700e6c7a7418', protocol='range'}
2022-02-17 13:21:06.700  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-e665870b-f6d2-4e08-802a-700e6c7a7418 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:21:06.700  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-32a59b60-27e8-4119-b842-e6d5b5426a4a sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:21:06.704  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:21:06.704  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:21:06.704  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:21:06.704  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:21:06.704  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:21:06.704  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:21:06.705  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:21:06.706  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:21:06.706  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:21:06.706  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:21:06.728  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Generation data was cleared by heartbeat thread to Generation{generationId=-1, memberId='', protocol='null'} and state is now UNJOINED before receiving SyncGroup response, marking this rebalance as failed and retry
2022-02-17 13:21:06.728  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Generation data was cleared by heartbeat thread to Generation{generationId=-1, memberId='', protocol='null'} and state is now UNJOINED before receiving SyncGroup response, marking this rebalance as failed and retry
2022-02-17 13:21:06.738  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:21:06.738  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:21:06.738  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:21:06.738  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:21:06.738  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:21:06.738  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:21:06.745  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 13:21:06.756  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:21:06.757  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 13:21:06.757  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:21:06.768  INFO 22617 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:21:06.776  INFO 22617 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 13:21:06.801  INFO 22617 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 13:21:45.755  INFO 22698 --- [main] c.p.a.controllers.UserControllerIT       : Starting UserControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 22698 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 13:21:45.758 DEBUG 22698 --- [main] c.p.a.controllers.UserControllerIT       : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 13:21:45.758  INFO 22698 --- [main] c.p.a.controllers.UserControllerIT       : No active profile set, falling back to default profiles: default
2022-02-17 13:21:47.023  INFO 22698 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 13:21:47.127  INFO 22698 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 96 ms. Found 3 JPA repository interfaces.
2022-02-17 13:21:48.696  INFO 22698 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 13:21:48.729  INFO 22698 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 13:21:48.729  INFO 22698 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 13:21:49.000  INFO 22698 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 13:21:49.001  INFO 22698 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3221 ms
2022-02-17 13:21:49.680  INFO 22698 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 13:21:49.726  INFO 22698 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 13:21:49.934  INFO 22698 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 13:21:50.062  INFO 22698 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 13:21:50.958  INFO 22698 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 13:21:50.992  INFO 22698 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 13:21:52.304 DEBUG 22698 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 13:21:52.348 DEBUG 22698 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 13:21:52.365 DEBUG 22698 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 13:21:52.377 DEBUG 22698 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 13:21:52.383 DEBUG 22698 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 13:21:52.390 DEBUG 22698 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 13:21:52.399 DEBUG 22698 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 13:21:52.415 DEBUG 22698 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 13:21:52.426 DEBUG 22698 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 13:21:52.429 DEBUG 22698 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 13:21:52.444 DEBUG 22698 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 13:21:52.451 DEBUG 22698 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 13:21:52.458 DEBUG 22698 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 13:21:52.466 DEBUG 22698 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 13:21:52.472 DEBUG 22698 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 13:21:52.484 DEBUG 22698 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 13:21:52.499 DEBUG 22698 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 13:21:52.519 DEBUG 22698 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 13:21:52.542  INFO 22698 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 13:21:52.550  INFO 22698 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:21:53.740 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 13:21:53.743 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 13:21:53.875  WARN 22698 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 13:21:54.694  INFO 22698 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10301d6f, org.springframework.security.web.context.SecurityContextPersistenceFilter@323eecf8, org.springframework.security.web.header.HeaderWriterFilter@6c8ad6d7, org.springframework.security.web.authentication.logout.LogoutFilter@14b9df65, com.paytm.assignment1.filters.JwtRequestFilter@399c408c, com.paytm.assignment1.filters.UserAuthorizationFilter@4a5fab78, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e355249, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c0ece6d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5cd6719d, org.springframework.security.web.session.SessionManagementFilter@1b10f60e, org.springframework.security.web.access.ExceptionTranslationFilter@64fc6470, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@28c7fd9d]
2022-02-17 13:21:56.880  INFO 22698 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 13:21:56.882  INFO 22698 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 13:21:56.885  INFO 22698 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2022-02-17 13:21:57.004  INFO 22698 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 13:21:57.131  INFO 22698 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:21:57.132  INFO 22698 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:21:57.132  INFO 22698 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645084317126
2022-02-17 13:21:57.579  INFO 22698 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 13:21:57.586  INFO 22698 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:21:57.586  INFO 22698 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:21:57.587  INFO 22698 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:21:57.633  INFO 22698 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:21:57.689  INFO 22698 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:21:57.690  INFO 22698 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:21:57.690  INFO 22698 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645084317689
2022-02-17 13:21:57.693  INFO 22698 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 13:21:57.721  INFO 22698 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:21:57.750  INFO 22698 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:21:57.752  INFO 22698 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:21:57.753  INFO 22698 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645084317749
2022-02-17 13:21:57.755  INFO 22698 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 13:21:57.765  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:21:57.766  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:21:57.769  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:21:57.770  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:21:57.777  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:21:57.777  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:21:57.805  INFO 22698 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 56652 (http) with context path ''
2022-02-17 13:21:57.822  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:21:57.821  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:21:57.825  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:21:57.825  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:21:57.835  INFO 22698 --- [main] c.p.a.controllers.UserControllerIT       : Started UserControllerIT in 12.616 seconds (JVM running for 14.916)
2022-02-17 13:21:58.236  INFO 22698 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-17 13:21:58.238  INFO 22698 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-17 13:21:58.241  INFO 22698 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2022-02-17 13:21:58.263 TRACE 22698 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:58.267 DEBUG 22698 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:21:58.267 TRACE 22698 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:58.267 DEBUG 22698 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:21:58.469 TRACE 22698 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:58.472 DEBUG 22698 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:21:58.472 TRACE 22698 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:58.472 DEBUG 22698 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:21:58.581 TRACE 22698 --- [http-nio-auto-1-exec-2] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:21:58.606 TRACE 22698 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:21:58.606 DEBUG 22698 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:21:58.666 DEBUG 22698 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:21:58.733 DEBUG 22698 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:21:58.741 DEBUG 22698 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:21:58.744 DEBUG 22698 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : user validations done
2022-02-17 13:21:58.813 DEBUG 22698 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 13:21:58.820 DEBUG 22698 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 13:21:58.859 DEBUG 22698 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 13:21:58.937 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:58.938 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:21:58.938 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:58.938 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:21:58.943 TRACE 22698 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:21:58.943 TRACE 22698 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:21:58.944 DEBUG 22698 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:21:58.945 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:21:58.950 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:21:58.953 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:21:58.958  WARN 22698 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 13:21:59.060 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.062 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:21:59.062 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.062 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:21:59.069 TRACE 22698 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:21:59.069 TRACE 22698 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:21:59.069 DEBUG 22698 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:21:59.071 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:21:59.080 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:21:59.081  WARN 22698 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :email
2022-02-17 13:21:59.101 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.101 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:21:59.101 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.101 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:21:59.103 TRACE 22698 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:21:59.103 TRACE 22698 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:21:59.103 DEBUG 22698 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:21:59.104  WARN 22698 --- [main] c.p.a.exceptions.EmptyFieldException     : Empty Field: userName
2022-02-17 13:21:59.121 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.122 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:21:59.122 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.122 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:21:59.123 TRACE 22698 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:21:59.125 TRACE 22698 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:21:59.126 DEBUG 22698 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:21:59.127 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:21:59.129 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:21:59.130 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:21:59.132 DEBUG 22698 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 13:21:59.133 DEBUG 22698 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 13:21:59.134 DEBUG 22698 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 13:21:59.138 DEBUG 22698 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 13:21:59.157 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.158 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:21:59.158 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.158 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:21:59.162 TRACE 22698 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 13:21:59.165 TRACE 22698 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:21:59.180 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:21:59.202 TRACE 22698 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:21:59.203 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:21:59.279 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.281 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:21:59.281 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.281 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:21:59.284 TRACE 22698 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 13:21:59.285 TRACE 22698 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:21:59.285 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:21:59.312 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.336 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:21:59.337 TRACE 22698 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:21:59.369 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:21:59.384 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.386 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:21:59.386 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:21:59.387 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:21:59.410 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:21:59.430 TRACE 22698 --- [main] c.p.a.controllers.UserController         : /user/{id} getUser() request
2022-02-17 13:21:59.430 TRACE 22698 --- [main] c.p.assignment1.services.UserService     : getUser()
2022-02-17 13:21:59.445 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:21:59.480 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.480 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:21:59.480 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.480 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:21:59.489 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.491 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:21:59.491 TRACE 22698 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:21:59.492 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:21:59.497 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.497 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:21:59.497 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 13:21:59.497 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 13:21:59.498 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:21:59.499 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:21:59.500 TRACE 22698 --- [main] c.p.a.controllers.UserController         : /user/{id} getUser() request
2022-02-17 13:21:59.500 TRACE 22698 --- [main] c.p.assignment1.services.UserService     : getUser()
2022-02-17 13:21:59.502 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:21:59.505  WARN 22698 --- [main] c.p.a.exceptions.UserNotFoundException   : 3
2022-02-17 13:21:59.515 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.518 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:21:59.520 TRACE 22698 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:21:59.521 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:21:59.527 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.531 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:21:59.531 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 13:21:59.531 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 13:21:59.532 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:21:59.534 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:21:59.541 TRACE 22698 --- [main] c.p.a.controllers.UserController         : /user/{id} getUser() request
2022-02-17 13:21:59.542 TRACE 22698 --- [main] c.p.assignment1.services.UserService     : getUser()
2022-02-17 13:21:59.543 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:21:59.562 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.568 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:21:59.568 TRACE 22698 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:21:59.568 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:21:59.572 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.573 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:21:59.573 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:21:59.573 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:21:59.573 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:21:59.580 TRACE 22698 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:21:59.582 TRACE 22698 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:21:59.582 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:21:59.584 DEBUG 22698 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:21:59.585 DEBUG 22698 --- [main] c.p.assignment1.services.UserService     : validation complete
2022-02-17 13:21:59.592 DEBUG 22698 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 13:21:59.639 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.642 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:21:59.642 TRACE 22698 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:21:59.643 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:21:59.648 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.649 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:21:59.650 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 13:21:59.650 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 13:21:59.650 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:21:59.651 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:21:59.654 TRACE 22698 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:21:59.655 TRACE 22698 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:21:59.655 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:21:59.657  WARN 22698 --- [main] c.p.a.exceptions.UserNotFoundException   : 3
2022-02-17 13:21:59.678 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.679 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:21:59.679 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.679 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:21:59.691 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.693 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:21:59.693 TRACE 22698 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:21:59.694 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:21:59.698 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.698 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:21:59.698 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:21:59.698 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:21:59.698 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:21:59.701 TRACE 22698 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:21:59.702 TRACE 22698 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:21:59.702 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:21:59.704 DEBUG 22698 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:21:59.705 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:21:59.706  WARN 22698 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 13:21:59.716 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.717 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:21:59.718 TRACE 22698 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:21:59.718 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:21:59.721 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.722 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:21:59.723 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 13:21:59.723 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 13:21:59.723 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:21:59.724 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:21:59.728 TRACE 22698 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:21:59.729 TRACE 22698 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:21:59.729 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:21:59.732 DEBUG 22698 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:21:59.734 DEBUG 22698 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 13:21:59.735 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:21:59.736 DEBUG 22698 --- [main] c.p.assignment1.services.UserService     : validation complete
2022-02-17 13:21:59.738 DEBUG 22698 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 13:21:59.747 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.748 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:21:59.748 TRACE 22698 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:21:59.749 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:21:59.753 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.753 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:21:59.753 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:21:59.753 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:21:59.754 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:21:59.757 TRACE 22698 --- [main] c.p.a.controllers.UserController         : /user/{id} deleteUser() request
2022-02-17 13:21:59.758 TRACE 22698 --- [main] c.p.assignment1.services.UserService     : deleteUser()
2022-02-17 13:21:59.768 DEBUG 22698 --- [main] org.hibernate.SQL                        : select count(*) as col_0_0_ from user user0_ where user0_.id=?
2022-02-17 13:21:59.780 DEBUG 22698 --- [main] org.hibernate.SQL                        : update user set is_active=? where id=?
2022-02-17 13:21:59.804 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 13:21:59.813 DEBUG 22698 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 13:21:59.815 DEBUG 22698 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 13:21:59.817 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.818 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:21:59.819 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.819 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:21:59.870  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-8976d6af-dd1c-4508-9264-05209ea6f233 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:21:59.870  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-55507581-a340-4eb2-bc8e-2c590f15acda sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:21:59.949  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:21:59.949  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:21:59.951  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:21:59.951  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:21:59.951  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:21:59.951  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:21:59.953  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:21:59.953  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:21:59.953  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:21:59.953  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:22:00.760  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:22:00.760  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:22:00.762  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:22:00.762  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:22:00.763  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:22:00.763  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:22:00.771  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 13:22:00.772  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 13:22:00.781  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:22:00.781  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:22:00.799  INFO 22698 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:22:00.807  INFO 22698 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 13:22:00.824  INFO 22698 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 13:22:38.207  INFO 22749 --- [main] c.p.a.controllers.UserControllerIT       : Starting UserControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 22749 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 13:22:38.209 DEBUG 22749 --- [main] c.p.a.controllers.UserControllerIT       : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 13:22:38.209  INFO 22749 --- [main] c.p.a.controllers.UserControllerIT       : No active profile set, falling back to default profiles: default
2022-02-17 13:22:39.810  INFO 22749 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 13:22:39.949  INFO 22749 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 129 ms. Found 3 JPA repository interfaces.
2022-02-17 13:22:42.371  INFO 22749 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 13:22:42.391  INFO 22749 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 13:22:42.392  INFO 22749 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 13:22:42.732  INFO 22749 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 13:22:42.733  INFO 22749 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4490 ms
2022-02-17 13:22:43.534  INFO 22749 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 13:22:43.618  INFO 22749 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 13:22:43.844  INFO 22749 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 13:22:43.979  INFO 22749 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 13:22:44.831  INFO 22749 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 13:22:44.908  INFO 22749 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 13:22:46.318 DEBUG 22749 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 13:22:46.363 DEBUG 22749 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 13:22:46.380 DEBUG 22749 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 13:22:46.392 DEBUG 22749 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 13:22:46.398 DEBUG 22749 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 13:22:46.404 DEBUG 22749 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 13:22:46.414 DEBUG 22749 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 13:22:46.427 DEBUG 22749 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 13:22:46.436 DEBUG 22749 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 13:22:46.438 DEBUG 22749 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 13:22:46.450 DEBUG 22749 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 13:22:46.457 DEBUG 22749 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 13:22:46.465 DEBUG 22749 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 13:22:46.473 DEBUG 22749 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 13:22:46.488 DEBUG 22749 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 13:22:46.500 DEBUG 22749 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 13:22:46.514 DEBUG 22749 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 13:22:46.529 DEBUG 22749 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 13:22:46.549  INFO 22749 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 13:22:46.569  INFO 22749 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:22:47.724 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 13:22:47.728 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 13:22:48.041  WARN 22749 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 13:22:49.166  INFO 22749 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4d408746, org.springframework.security.web.context.SecurityContextPersistenceFilter@5889e697, org.springframework.security.web.header.HeaderWriterFilter@1ead6e20, org.springframework.security.web.authentication.logout.LogoutFilter@333e01c6, com.paytm.assignment1.filters.JwtRequestFilter@1254a3cd, com.paytm.assignment1.filters.UserAuthorizationFilter@230dd372, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@48064a5a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@257e8c43, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6ae55678, org.springframework.security.web.session.SessionManagementFilter@2e895acb, org.springframework.security.web.access.ExceptionTranslationFilter@53a645a2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@76e4df53]
2022-02-17 13:22:51.415  INFO 22749 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 13:22:51.417  INFO 22749 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 13:22:51.422  INFO 22749 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 5 ms
2022-02-17 13:22:51.670  INFO 22749 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 13:22:51.935  INFO 22749 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:22:51.936  INFO 22749 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:22:51.936  INFO 22749 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645084371924
2022-02-17 13:22:52.414  INFO 22749 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 13:22:52.421  INFO 22749 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:22:52.421  INFO 22749 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:22:52.422  INFO 22749 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:22:52.474  INFO 22749 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:22:52.574  INFO 22749 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:22:52.577  INFO 22749 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:22:52.577  INFO 22749 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645084372574
2022-02-17 13:22:52.581  INFO 22749 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 13:22:52.640  INFO 22749 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:22:52.706  INFO 22749 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:22:52.710  INFO 22749 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:22:52.710  INFO 22749 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645084372706
2022-02-17 13:22:52.712  INFO 22749 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 13:22:52.751  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:22:52.751  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:22:52.754  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:22:52.754  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:22:52.765  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:22:52.765  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:22:52.787  INFO 22749 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 56694 (http) with context path ''
2022-02-17 13:22:52.819  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:22:52.819  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:22:52.822  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:22:52.822  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:22:52.831  INFO 22749 --- [main] c.p.a.controllers.UserControllerIT       : Started UserControllerIT in 15.204 seconds (JVM running for 19.624)
2022-02-17 13:22:53.326  INFO 22749 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-17 13:22:53.328  INFO 22749 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-17 13:22:53.330  INFO 22749 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2022-02-17 13:22:53.357 TRACE 22749 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:22:53.361 DEBUG 22749 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:22:53.361 TRACE 22749 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:22:53.361 DEBUG 22749 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:22:53.578 TRACE 22749 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:22:53.579 DEBUG 22749 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:22:53.580 TRACE 22749 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:22:53.580 DEBUG 22749 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:22:53.690 TRACE 22749 --- [http-nio-auto-1-exec-2] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:22:53.717 TRACE 22749 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:22:53.718 DEBUG 22749 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:22:53.772 DEBUG 22749 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:22:53.842 DEBUG 22749 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:22:53.852 DEBUG 22749 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:22:53.856 DEBUG 22749 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : user validations done
2022-02-17 13:22:53.937 DEBUG 22749 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 13:22:53.941 DEBUG 22749 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 13:22:53.976 DEBUG 22749 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 13:22:54.082 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:22:54.086 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:22:54.086 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:22:54.086 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:22:54.098 TRACE 22749 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:22:54.099 TRACE 22749 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:22:54.099 DEBUG 22749 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:22:54.102 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:22:54.116 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:22:54.118 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:22:54.124  WARN 22749 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 13:22:54.226 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:22:54.227 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:22:54.227 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:22:54.227 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:22:54.230 TRACE 22749 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:22:54.231 TRACE 22749 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:22:54.231 DEBUG 22749 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:22:54.232 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:22:54.238 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:22:54.240  WARN 22749 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :email
2022-02-17 13:22:54.264 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:22:54.269 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:22:54.270 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:22:54.270 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:22:54.272 TRACE 22749 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:22:54.272 TRACE 22749 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:22:54.272 DEBUG 22749 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:22:54.272  WARN 22749 --- [main] c.p.a.exceptions.EmptyFieldException     : Empty Field: userName
2022-02-17 13:22:54.285 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:22:54.287 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:22:54.287 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:22:54.287 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:22:54.288 TRACE 22749 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:22:54.291 TRACE 22749 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:22:54.292 DEBUG 22749 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:22:54.292 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:22:54.294 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:22:54.295 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:22:54.296 DEBUG 22749 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 13:22:54.298 DEBUG 22749 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 13:22:54.299 DEBUG 22749 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 13:22:54.301 DEBUG 22749 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 13:22:54.327 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:22:54.327 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:22:54.327 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:22:54.327 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:22:54.332 TRACE 22749 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 13:22:54.335 TRACE 22749 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:22:54.351 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:22:54.372 TRACE 22749 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:22:54.373 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:22:54.484 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:22:54.486 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:22:54.486 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:22:54.486 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:22:54.488 TRACE 22749 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 13:22:54.489 TRACE 22749 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:22:54.489 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:22:54.520 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:22:54.551 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:22:54.553 TRACE 22749 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:22:54.589 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:22:54.602 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:22:54.604 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:22:54.605 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:22:54.605 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:22:54.623 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:22:54.640 TRACE 22749 --- [main] c.p.a.controllers.UserController         : /user/{id} getUser() request
2022-02-17 13:22:54.641 TRACE 22749 --- [main] c.p.assignment1.services.UserService     : getUser()
2022-02-17 13:22:54.662 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:22:54.722 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:22:54.723 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:22:54.723 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:22:54.723 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:23:49.405  WARN 22749 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m4s449ms).
2022-02-17 13:23:57.078 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:23:57.089  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=38, memberId='consumer-user-wallet-group-1-edbc89fb-810f-408c-84b4-9d09abe75918', protocol='range'}
2022-02-17 13:23:57.089  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=38, memberId='consumer-user-wallet-group-2-04e44968-e60c-4dad-84e6-b4683bd24005', protocol='range'}
2022-02-17 13:23:57.102 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:23:57.102 TRACE 22749 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:23:57.114 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:23:57.130  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] SyncGroup failed: The coordinator is not aware of this member. Need to re-join the group. Sent generation was Generation{generationId=38, memberId='consumer-user-wallet-group-2-04e44968-e60c-4dad-84e6-b4683bd24005', protocol='range'}
2022-02-17 13:23:57.130  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] SyncGroup failed: The coordinator is not aware of this member. Need to re-join the group. Sent generation was Generation{generationId=38, memberId='consumer-user-wallet-group-1-edbc89fb-810f-408c-84b4-9d09abe75918', protocol='range'}
2022-02-17 13:23:57.140  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: encountered UNKNOWN_MEMBER_ID from SYNC_GROUP response
2022-02-17 13:23:57.140  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: encountered UNKNOWN_MEMBER_ID from SYNC_GROUP response
2022-02-17 13:23:57.141  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: encountered UNKNOWN_MEMBER_ID from SYNC_GROUP response
2022-02-17 13:23:57.141  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: encountered UNKNOWN_MEMBER_ID from SYNC_GROUP response
2022-02-17 13:23:57.143  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:23:57.143  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:23:57.149  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:23:57.148  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:23:57.150  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:23:57.150  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:23:57.156 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:23:57.156 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:23:57.156 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 13:23:57.156 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 13:23:57.158 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:23:57.163 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:23:57.172 TRACE 22749 --- [main] c.p.a.controllers.UserController         : /user/{id} getUser() request
2022-02-17 13:23:57.173 TRACE 22749 --- [main] c.p.assignment1.services.UserService     : getUser()
2022-02-17 13:23:57.181 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:23:57.198  WARN 22749 --- [main] c.p.a.exceptions.UserNotFoundException   : 3
2022-02-17 13:33:39.141  WARN 22749 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=9m49s743ms).
2022-02-17 13:33:39.223  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Group coordinator localhost:9092 (id: 2147483647 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
2022-02-17 13:33:39.223  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Group coordinator localhost:9092 (id: 2147483647 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
2022-02-17 13:33:39.310  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:33:39.310  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:33:39.315  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:33:39.315  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:33:39.317 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:33:39.337  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] JoinGroup failed: The coordinator is not aware of this member. Need to re-join the group. Sent generation was Generation{generationId=-1, memberId='consumer-user-wallet-group-2-9870e0ea-f381-422c-9c44-ac8246ece5d2', protocol='null'}
2022-02-17 13:33:39.337  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] JoinGroup failed: The coordinator is not aware of this member. Need to re-join the group. Sent generation was Generation{generationId=-1, memberId='consumer-user-wallet-group-1-21089001-b7ab-4b79-9516-a4b566e64aad', protocol='null'}
2022-02-17 13:33:39.340  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: encountered UNKNOWN_MEMBER_ID from JOIN_GROUP response
2022-02-17 13:33:39.340  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: encountered UNKNOWN_MEMBER_ID from JOIN_GROUP response
2022-02-17 13:33:39.341  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: encountered UNKNOWN_MEMBER_ID from JOIN_GROUP response
2022-02-17 13:33:39.341  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: encountered UNKNOWN_MEMBER_ID from JOIN_GROUP response
2022-02-17 13:33:39.343  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:33:39.343  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:33:39.344 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:33:39.344 TRACE 22749 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:33:39.354  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:33:39.354  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:33:39.355  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:33:39.355  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:33:39.361 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:33:39.372  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-dec606f6-3249-4783-8987-02fc0ee6bcf8 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:33:39.372  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-344080ec-6fee-4bf6-80f7-391fb03e82be sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:33:39.375  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:33:39.375  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:33:39.375  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:33:39.375  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:33:39.375  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:33:39.375  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:33:39.380  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:33:39.380  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:33:39.381  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:33:39.381  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:33:39.393 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:33:39.393 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:33:39.393 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 13:33:39.394 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 13:33:39.395 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:33:39.398 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:33:39.404 TRACE 22749 --- [main] c.p.a.controllers.UserController         : /user/{id} getUser() request
2022-02-17 13:33:39.404 TRACE 22749 --- [main] c.p.assignment1.services.UserService     : getUser()
2022-02-17 13:33:39.407 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:33:39.439 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:33:39.442 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:33:39.442 TRACE 22749 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:33:39.443 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:33:39.451 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:33:39.452 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:33:39.452 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:33:39.452 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:33:39.453 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:33:39.465 TRACE 22749 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:33:39.472 TRACE 22749 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:33:39.473 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:33:39.485 DEBUG 22749 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:33:39.486 DEBUG 22749 --- [main] c.p.assignment1.services.UserService     : validation complete
2022-02-17 13:33:39.508 DEBUG 22749 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 13:33:39.560 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:33:39.564 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:33:39.565 TRACE 22749 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:33:39.566 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:33:39.570 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:33:39.571 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:33:39.571 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 13:33:39.571 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 13:33:39.571 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:33:39.573 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:33:39.575 TRACE 22749 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:33:39.576 TRACE 22749 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:33:39.577 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:33:39.580  WARN 22749 --- [main] c.p.a.exceptions.UserNotFoundException   : 3
2022-02-17 13:33:39.592 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:33:39.593 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:33:39.593 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:33:39.593 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:33:39.602 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:33:39.605 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:33:39.605 TRACE 22749 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:33:39.606 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:33:39.609 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:33:39.609 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:33:39.609 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:33:39.609 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:33:39.610 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:33:39.613 TRACE 22749 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:33:39.614 TRACE 22749 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:33:39.614 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:33:39.616 DEBUG 22749 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:33:39.617 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:33:39.618  WARN 22749 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 13:33:39.628 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:33:39.631 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:33:39.631 TRACE 22749 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:33:39.632 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:33:39.635 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:33:39.635 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:33:39.635 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 13:33:39.635 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 13:33:39.636 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:33:39.637 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:33:39.639 TRACE 22749 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:33:39.640 TRACE 22749 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:33:39.640 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:33:39.643 DEBUG 22749 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:33:39.644 DEBUG 22749 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 13:33:39.646 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:33:39.647 DEBUG 22749 --- [main] c.p.assignment1.services.UserService     : validation complete
2022-02-17 13:33:39.648 DEBUG 22749 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 13:33:39.665 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:33:39.666 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:33:39.666 TRACE 22749 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:33:39.667 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:33:39.672 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:33:39.673 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:33:39.673 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:33:39.674 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:33:39.675 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:33:39.680 TRACE 22749 --- [main] c.p.a.controllers.UserController         : /user/{id} deleteUser() request
2022-02-17 13:33:39.683 TRACE 22749 --- [main] c.p.assignment1.services.UserService     : deleteUser()
2022-02-17 13:33:39.698 DEBUG 22749 --- [main] org.hibernate.SQL                        : select count(*) as col_0_0_ from user user0_ where user0_.id=?
2022-02-17 13:33:39.715 DEBUG 22749 --- [main] org.hibernate.SQL                        : update user set is_active=? where id=?
2022-02-17 13:33:39.733 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 13:33:39.740 DEBUG 22749 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 13:33:39.742 DEBUG 22749 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 13:33:39.746 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:33:39.746 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:33:39.746 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:33:39.746 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:33:41.087  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:33:41.087  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:33:41.089  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:33:41.089  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:33:41.090  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:33:41.090  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:33:41.108  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 13:33:41.109  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:33:41.110  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 13:33:41.111  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:33:41.117  INFO 22749 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:33:41.121  INFO 22749 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 13:33:41.133  INFO 22749 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 13:33:48.821  INFO 23294 --- [main] c.p.a.controllers.UserControllerIT       : Starting UserControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 23294 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 13:33:48.823 DEBUG 23294 --- [main] c.p.a.controllers.UserControllerIT       : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 13:33:48.823  INFO 23294 --- [main] c.p.a.controllers.UserControllerIT       : No active profile set, falling back to default profiles: default
2022-02-17 13:33:50.486  INFO 23294 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 13:33:50.606  INFO 23294 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 112 ms. Found 3 JPA repository interfaces.
2022-02-17 13:33:52.439  INFO 23294 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 13:33:52.456  INFO 23294 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 13:33:52.456  INFO 23294 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 13:33:52.675  INFO 23294 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 13:33:52.676  INFO 23294 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3825 ms
2022-02-17 13:33:53.422  INFO 23294 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 13:33:53.458  INFO 23294 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 13:33:53.602  INFO 23294 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 13:33:53.735  INFO 23294 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 13:33:54.426  INFO 23294 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 13:33:54.456  INFO 23294 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 13:33:55.628 DEBUG 23294 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 13:33:55.674 DEBUG 23294 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 13:33:55.680 DEBUG 23294 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 13:33:55.688 DEBUG 23294 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 13:33:55.694 DEBUG 23294 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 13:33:55.702 DEBUG 23294 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 13:33:55.707 DEBUG 23294 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 13:33:55.717 DEBUG 23294 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 13:33:55.729 DEBUG 23294 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 13:33:55.732 DEBUG 23294 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 13:33:55.744 DEBUG 23294 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 13:33:55.752 DEBUG 23294 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 13:33:55.759 DEBUG 23294 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 13:33:55.769 DEBUG 23294 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 13:33:55.775 DEBUG 23294 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 13:33:55.786 DEBUG 23294 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 13:33:55.800 DEBUG 23294 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 13:33:55.813 DEBUG 23294 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 13:33:55.833  INFO 23294 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 13:33:55.840  INFO 23294 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:33:56.977 DEBUG 23294 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 13:33:56.980 DEBUG 23294 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 13:33:57.138  WARN 23294 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 13:34:01.976  INFO 23307 --- [main] c.p.a.controllers.UserControllerIT       : Starting UserControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 23307 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 13:34:01.977 DEBUG 23307 --- [main] c.p.a.controllers.UserControllerIT       : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 13:34:01.978  INFO 23307 --- [main] c.p.a.controllers.UserControllerIT       : No active profile set, falling back to default profiles: default
2022-02-17 13:34:03.339  INFO 23307 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 13:34:03.445  INFO 23307 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 97 ms. Found 3 JPA repository interfaces.
2022-02-17 13:34:05.252  INFO 23307 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 13:34:05.275  INFO 23307 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 13:34:05.276  INFO 23307 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 13:34:05.540  INFO 23307 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 13:34:05.541  INFO 23307 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3535 ms
2022-02-17 13:34:06.164  INFO 23307 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 13:34:06.219  INFO 23307 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 13:34:06.438  INFO 23307 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 13:34:06.592  INFO 23307 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 13:34:07.454  INFO 23307 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 13:34:07.522  INFO 23307 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 13:34:09.229 DEBUG 23307 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 13:34:09.276 DEBUG 23307 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 13:34:09.289 DEBUG 23307 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 13:34:09.302 DEBUG 23307 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 13:34:09.307 DEBUG 23307 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 13:34:09.312 DEBUG 23307 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 13:34:09.319 DEBUG 23307 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 13:34:09.330 DEBUG 23307 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 13:34:09.337 DEBUG 23307 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 13:34:09.340 DEBUG 23307 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 13:34:09.353 DEBUG 23307 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 13:34:09.360 DEBUG 23307 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 13:34:09.366 DEBUG 23307 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 13:34:09.373 DEBUG 23307 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 13:34:09.380 DEBUG 23307 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 13:34:09.396 DEBUG 23307 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 13:34:09.410 DEBUG 23307 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 13:34:09.424 DEBUG 23307 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 13:34:09.444  INFO 23307 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 13:34:09.458  INFO 23307 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:34:10.609 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 13:34:10.611 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 13:34:10.848  WARN 23307 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 13:34:12.115  INFO 23307 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4d408746, org.springframework.security.web.context.SecurityContextPersistenceFilter@5889e697, org.springframework.security.web.header.HeaderWriterFilter@1ead6e20, org.springframework.security.web.authentication.logout.LogoutFilter@333e01c6, com.paytm.assignment1.filters.JwtRequestFilter@1254a3cd, com.paytm.assignment1.filters.UserAuthorizationFilter@230dd372, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@48064a5a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@257e8c43, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6ae55678, org.springframework.security.web.session.SessionManagementFilter@2e895acb, org.springframework.security.web.access.ExceptionTranslationFilter@53a645a2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@76e4df53]
2022-02-17 13:34:14.243  INFO 23307 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 13:34:14.245  INFO 23307 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 13:34:14.254  INFO 23307 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 9 ms
2022-02-17 13:34:14.483  INFO 23307 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 13:34:14.657  INFO 23307 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:34:14.657  INFO 23307 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:34:14.657  INFO 23307 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645085054651
2022-02-17 13:34:15.188  INFO 23307 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 13:34:15.195  INFO 23307 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:34:15.195  INFO 23307 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:34:15.195  INFO 23307 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:34:15.249  INFO 23307 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:34:15.318  INFO 23307 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:34:15.318  INFO 23307 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:34:15.318  INFO 23307 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645085055318
2022-02-17 13:34:15.320  INFO 23307 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 13:34:15.357  INFO 23307 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:34:15.380  INFO 23307 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:34:15.381  INFO 23307 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:34:15.382  INFO 23307 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645085055380
2022-02-17 13:34:15.385  INFO 23307 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 13:34:15.421  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:34:15.421  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:34:15.426  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:34:15.428  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:34:15.436  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:34:15.435  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:34:15.449  INFO 23307 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 56956 (http) with context path ''
2022-02-17 13:34:15.485  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:34:15.486  INFO 23307 --- [main] c.p.a.controllers.UserControllerIT       : Started UserControllerIT in 14.069 seconds (JVM running for 16.787)
2022-02-17 13:34:15.486  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:34:15.487  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:34:15.487  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:34:15.613  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=46, memberId='consumer-user-wallet-group-1-77d19162-5124-48e2-b818-6e65d87258fd', protocol='range'}
2022-02-17 13:34:15.612  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=46, memberId='consumer-user-wallet-group-2-e57bd649-cdb5-4996-98fc-e97e462059d8', protocol='range'}
2022-02-17 13:34:15.846  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=46, memberId='consumer-user-wallet-group-2-e57bd649-cdb5-4996-98fc-e97e462059d8', protocol='range'}
2022-02-17 13:34:15.846  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=46, memberId='consumer-user-wallet-group-1-77d19162-5124-48e2-b818-6e65d87258fd', protocol='range'}
2022-02-17 13:34:15.853  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[transactions-0])
2022-02-17 13:34:15.853  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[create-wallet-0])
2022-02-17 13:34:15.859  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Adding newly assigned partitions: create-wallet-0
2022-02-17 13:34:15.859  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Adding newly assigned partitions: transactions-0
2022-02-17 13:34:15.901  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Setting offset for partition create-wallet-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 13:34:15.901  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Setting offset for partition transactions-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 13:34:15.904  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [transactions-0]
2022-02-17 13:34:15.903  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [create-wallet-0]
2022-02-17 13:34:16.052  INFO 23307 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-17 13:34:16.056  INFO 23307 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-17 13:34:16.059  INFO 23307 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2022-02-17 13:34:16.082 TRACE 23307 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:16.083 DEBUG 23307 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:34:16.083 TRACE 23307 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:16.083 DEBUG 23307 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:34:16.396 TRACE 23307 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:16.398 DEBUG 23307 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:34:16.398 TRACE 23307 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:16.398 DEBUG 23307 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:34:16.500 TRACE 23307 --- [http-nio-auto-1-exec-2] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:34:16.524 TRACE 23307 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:34:16.524 DEBUG 23307 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:34:16.606 DEBUG 23307 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:34:16.666 DEBUG 23307 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:34:16.673 DEBUG 23307 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:34:16.676 DEBUG 23307 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : user validations done
2022-02-17 13:34:16.736 DEBUG 23307 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 13:34:16.739 DEBUG 23307 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 13:34:16.782 DEBUG 23307 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 13:34:16.885 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:16.888 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:34:16.888 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:16.888 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:34:16.903 TRACE 23307 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:34:16.905 TRACE 23307 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:34:16.905 DEBUG 23307 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:34:16.908 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:34:16.920 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:34:16.924 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:34:16.929  WARN 23307 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 13:34:17.052 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:17.052 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:34:17.052 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:17.052 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:34:17.055 TRACE 23307 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:34:17.056 TRACE 23307 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:34:17.056 DEBUG 23307 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:34:17.057 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:34:17.062 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:34:17.063  WARN 23307 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :email
2022-02-17 13:34:17.079 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:17.081 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:34:17.081 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:17.081 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:34:17.083 TRACE 23307 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:34:17.083 TRACE 23307 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:34:17.083 DEBUG 23307 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:34:17.083  WARN 23307 --- [main] c.p.a.exceptions.EmptyFieldException     : Empty Field: userName
2022-02-17 13:34:17.098 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:17.098 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:34:17.098 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:17.098 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:34:17.099 TRACE 23307 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:34:17.099 TRACE 23307 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:34:17.099 DEBUG 23307 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:34:17.099 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:34:17.101 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:34:17.102 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:34:17.104 DEBUG 23307 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 13:34:17.107 DEBUG 23307 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 13:34:17.109 DEBUG 23307 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 13:34:17.113 DEBUG 23307 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 13:34:17.140 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:17.140 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:34:17.140 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:17.140 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:34:17.144 TRACE 23307 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 13:34:17.147 TRACE 23307 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:34:17.159 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:34:17.179 TRACE 23307 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:34:17.180 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:34:17.286 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:17.287 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:34:17.287 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:17.287 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:34:17.290 TRACE 23307 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 13:34:17.290 TRACE 23307 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:34:17.290 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:34:17.318 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:17.352 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:34:17.355 TRACE 23307 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:34:17.395 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:34:17.410 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:17.410 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:34:17.410 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:34:17.410 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:34:17.436 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:34:17.455 TRACE 23307 --- [main] c.p.a.controllers.UserController         : /user/{id} getUser() request
2022-02-17 13:34:17.456 TRACE 23307 --- [main] c.p.assignment1.services.UserService     : getUser()
2022-02-17 13:34:17.487 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:34:17.569 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:17.570 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:34:17.570 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:17.570 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:34:39.242 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:39.280 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:34:39.281 TRACE 23307 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:34:39.287 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:34:39.330 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:39.331 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:34:39.331 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 13:34:39.331 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 13:34:39.332 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:34:39.335 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:34:53.379 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:53.388 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:34:53.388 TRACE 23307 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:34:53.391 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:34:53.403 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:53.404 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:34:53.404 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 13:34:53.404 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 13:34:53.405 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:34:53.408 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:34:53.437 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:53.441 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:34:53.442 TRACE 23307 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:34:53.443 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:34:53.449 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:53.450 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:34:53.450 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:34:53.450 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:34:53.450 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:34:53.479 TRACE 23307 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:34:53.482 TRACE 23307 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:34:53.483 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:34:53.500 DEBUG 23307 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:34:53.501 DEBUG 23307 --- [main] c.p.assignment1.services.UserService     : validation complete
2022-02-17 13:34:53.523 DEBUG 23307 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 13:34:53.580 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:53.582 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:34:53.582 TRACE 23307 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:34:53.583 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:34:53.589 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:53.590 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:34:53.597 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 13:34:53.599 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 13:34:53.601 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:34:53.602 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:34:53.620 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:53.623 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:34:53.623 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:53.623 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:34:53.634 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:53.636 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:34:53.636 TRACE 23307 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:34:53.636 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:34:53.640 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:53.640 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:34:53.640 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:34:53.640 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:34:53.641 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:34:53.644 TRACE 23307 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:34:53.644 TRACE 23307 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:34:53.645 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:34:53.646 DEBUG 23307 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:34:53.648 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:34:53.651  WARN 23307 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 13:34:53.669 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:53.672 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:34:53.672 TRACE 23307 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:34:53.673 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:34:53.676 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:53.677 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:34:53.677 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 13:34:53.677 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 13:34:53.677 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:34:53.679 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:34:53.688 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:53.690 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:34:53.692 TRACE 23307 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:34:53.692 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:34:53.695 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:53.695 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:34:53.695 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:34:53.695 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:34:53.696 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:34:53.699 TRACE 23307 --- [main] c.p.a.controllers.UserController         : /user/{id} deleteUser() request
2022-02-17 13:34:53.700 TRACE 23307 --- [main] c.p.assignment1.services.UserService     : deleteUser()
2022-02-17 13:34:53.715 DEBUG 23307 --- [main] org.hibernate.SQL                        : select count(*) as col_0_0_ from user user0_ where user0_.id=?
2022-02-17 13:34:53.752 DEBUG 23307 --- [main] org.hibernate.SQL                        : update user set is_active=? where id=?
2022-02-17 13:34:53.820 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 13:34:53.827 DEBUG 23307 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 13:34:53.830 DEBUG 23307 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 13:34:53.833 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:53.834 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:34:53.834 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:53.834 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:34:53.898  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Revoke previously assigned partitions create-wallet-0
2022-02-17 13:34:53.898  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Revoke previously assigned partitions transactions-0
2022-02-17 13:34:53.906  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [create-wallet-0]
2022-02-17 13:34:53.906  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [transactions-0]
2022-02-17 13:34:53.909  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-77d19162-5124-48e2-b818-6e65d87258fd sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:34:53.909  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-e57bd649-cdb5-4996-98fc-e97e462059d8 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:34:53.912  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:34:53.912  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:34:53.912  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:34:53.912  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:34:53.914  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:34:53.916  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:34:53.921  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:34:53.920  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:34:53.921  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:34:53.921  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:34:53.935  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:34:53.935  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:34:53.936  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:34:53.936  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:34:53.937  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:34:53.937  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:34:53.945  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 13:34:53.949  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 13:34:53.951  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:34:53.951  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:34:53.966  INFO 23307 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:34:53.973  INFO 23307 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 13:34:53.993  INFO 23307 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 13:35:28.482  INFO 23379 --- [main] c.p.a.controllers.UserControllerIT       : Starting UserControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 23379 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 13:35:28.484 DEBUG 23379 --- [main] c.p.a.controllers.UserControllerIT       : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 13:35:28.484  INFO 23379 --- [main] c.p.a.controllers.UserControllerIT       : No active profile set, falling back to default profiles: default
2022-02-17 13:35:29.741  INFO 23379 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 13:35:29.875  INFO 23379 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 128 ms. Found 3 JPA repository interfaces.
2022-02-17 13:35:31.422  INFO 23379 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 13:35:31.436  INFO 23379 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 13:35:31.437  INFO 23379 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 13:35:31.628  INFO 23379 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 13:35:31.630  INFO 23379 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3120 ms
2022-02-17 13:35:32.235  INFO 23379 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 13:35:32.268  INFO 23379 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 13:35:32.431  INFO 23379 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 13:35:32.560  INFO 23379 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 13:35:33.295  INFO 23379 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 13:35:33.323  INFO 23379 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 13:35:34.511 DEBUG 23379 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 13:35:34.551 DEBUG 23379 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 13:35:34.564 DEBUG 23379 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 13:35:34.578 DEBUG 23379 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 13:35:34.584 DEBUG 23379 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 13:35:34.590 DEBUG 23379 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 13:35:34.595 DEBUG 23379 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 13:35:34.604 DEBUG 23379 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 13:35:34.612 DEBUG 23379 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 13:35:34.615 DEBUG 23379 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 13:35:34.626 DEBUG 23379 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 13:35:34.634 DEBUG 23379 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 13:35:34.641 DEBUG 23379 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 13:35:34.649 DEBUG 23379 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 13:35:34.655 DEBUG 23379 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 13:35:34.665 DEBUG 23379 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 13:35:34.681 DEBUG 23379 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 13:35:34.695 DEBUG 23379 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 13:35:34.715  INFO 23379 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 13:35:34.722  INFO 23379 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:35:35.667 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 13:35:35.670 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 13:35:35.812  WARN 23379 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 13:35:36.511  INFO 23379 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@25435731, org.springframework.security.web.context.SecurityContextPersistenceFilter@7f5e9949, org.springframework.security.web.header.HeaderWriterFilter@6bd2f039, org.springframework.security.web.authentication.logout.LogoutFilter@81dfdee, com.paytm.assignment1.filters.JwtRequestFilter@399c408c, com.paytm.assignment1.filters.UserAuthorizationFilter@4a5fab78, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2e02cc37, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@186d6033, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10301d6f, org.springframework.security.web.session.SessionManagementFilter@64d53f0d, org.springframework.security.web.access.ExceptionTranslationFilter@538f45f1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@55e4dd68]
2022-02-17 13:35:37.782  INFO 23379 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 13:35:37.784  INFO 23379 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 13:35:37.788  INFO 23379 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 4 ms
2022-02-17 13:35:37.998  INFO 23379 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 13:35:38.155  INFO 23379 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:35:38.157  INFO 23379 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:35:38.157  INFO 23379 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645085138150
2022-02-17 13:35:38.560  INFO 23379 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 13:35:38.567  INFO 23379 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:35:38.568  INFO 23379 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:35:38.568  INFO 23379 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:35:38.630  INFO 23379 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:35:38.706  INFO 23379 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:35:38.708  INFO 23379 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:35:38.708  INFO 23379 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645085138706
2022-02-17 13:35:38.710  INFO 23379 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 13:35:38.780  INFO 23379 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:35:38.809  INFO 23379 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:35:38.811  INFO 23379 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:35:38.811  INFO 23379 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645085138809
2022-02-17 13:35:38.812  INFO 23379 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 13:35:38.848  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:35:38.848  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:35:38.851  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:35:38.851  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:35:38.855  INFO 23379 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 56998 (http) with context path ''
2022-02-17 13:35:38.857  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:35:38.856  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:35:38.889  INFO 23379 --- [main] c.p.a.controllers.UserControllerIT       : Started UserControllerIT in 10.969 seconds (JVM running for 13.217)
2022-02-17 13:35:38.904  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:35:38.904  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:35:38.906  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:35:38.906  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:35:39.276  INFO 23379 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-17 13:35:39.277  INFO 23379 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-17 13:35:39.277  INFO 23379 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2022-02-17 13:35:39.292 TRACE 23379 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:39.293 DEBUG 23379 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:35:39.294 TRACE 23379 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:39.294 DEBUG 23379 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:35:39.486 TRACE 23379 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:39.488 DEBUG 23379 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:35:39.488 TRACE 23379 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:39.488 DEBUG 23379 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:35:39.560 TRACE 23379 --- [http-nio-auto-1-exec-2] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:35:39.580 TRACE 23379 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:35:39.580 DEBUG 23379 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:35:39.619 DEBUG 23379 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:35:39.683 DEBUG 23379 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:35:39.693 DEBUG 23379 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:35:39.696 DEBUG 23379 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : user validations done
2022-02-17 13:35:39.761  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=48, memberId='consumer-user-wallet-group-2-94dda2e1-0485-4f53-8035-787b4c6f29ba', protocol='range'}
2022-02-17 13:35:39.761  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=48, memberId='consumer-user-wallet-group-1-b60dded1-b2e1-4215-b884-ae8f4260a2fa', protocol='range'}
2022-02-17 13:35:39.781 DEBUG 23379 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 13:35:39.783 DEBUG 23379 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 13:35:39.805 DEBUG 23379 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 13:35:39.877 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:39.878 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:35:39.879 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:39.879 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:35:39.884 TRACE 23379 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:35:39.884 TRACE 23379 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:35:39.884 DEBUG 23379 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:35:39.885 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:35:39.892 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:35:39.895 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:35:39.899  WARN 23379 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 13:35:39.958  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=48, memberId='consumer-user-wallet-group-1-b60dded1-b2e1-4215-b884-ae8f4260a2fa', protocol='range'}
2022-02-17 13:35:39.958  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=48, memberId='consumer-user-wallet-group-2-94dda2e1-0485-4f53-8035-787b4c6f29ba', protocol='range'}
2022-02-17 13:35:39.964  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[transactions-0])
2022-02-17 13:35:39.964  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[create-wallet-0])
2022-02-17 13:35:39.969  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Adding newly assigned partitions: create-wallet-0
2022-02-17 13:35:39.969  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Adding newly assigned partitions: transactions-0
2022-02-17 13:35:40.017  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Setting offset for partition transactions-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 13:35:40.017  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Setting offset for partition create-wallet-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 13:35:40.021  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [transactions-0]
2022-02-17 13:35:40.021  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [create-wallet-0]
2022-02-17 13:35:40.024 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.024 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:35:40.024 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.024 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:35:40.037 TRACE 23379 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:35:40.038 TRACE 23379 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:35:40.038 DEBUG 23379 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:35:40.040 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:35:40.059 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:35:40.062  WARN 23379 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :email
2022-02-17 13:35:40.091 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.091 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:35:40.091 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.091 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:35:40.092 TRACE 23379 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:35:40.093 TRACE 23379 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:35:40.093 DEBUG 23379 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:35:40.093  WARN 23379 --- [main] c.p.a.exceptions.EmptyFieldException     : Empty Field: userName
2022-02-17 13:35:40.111 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.113 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:35:40.113 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.113 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:35:40.114 TRACE 23379 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:35:40.114 TRACE 23379 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:35:40.114 DEBUG 23379 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:35:40.114 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:35:40.116 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:35:40.117 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:35:40.118 DEBUG 23379 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 13:35:40.119 DEBUG 23379 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 13:35:40.121 DEBUG 23379 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 13:35:40.124 DEBUG 23379 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 13:35:40.143 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.143 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:35:40.143 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.143 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:35:40.166 TRACE 23379 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 13:35:40.169 TRACE 23379 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:35:40.182 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:35:40.198 TRACE 23379 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:35:40.200 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:35:40.278 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.279 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:35:40.279 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.279 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:35:40.282 TRACE 23379 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 13:35:40.282 TRACE 23379 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:35:40.283 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:35:40.318 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.343 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:35:40.344 TRACE 23379 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:35:40.375 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:35:40.390 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.390 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:35:40.391 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:35:40.391 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:35:40.407 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:35:40.425 TRACE 23379 --- [main] c.p.a.controllers.UserController         : /user/{id} getUser() request
2022-02-17 13:35:40.425 TRACE 23379 --- [main] c.p.assignment1.services.UserService     : getUser()
2022-02-17 13:35:40.439 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:35:40.471 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.471 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:35:40.471 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.471 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:35:40.480 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.482 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:35:40.482 TRACE 23379 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:35:40.483 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:35:40.491 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.492 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:35:40.494 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 13:35:40.494 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 13:35:40.495 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:35:40.498 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:35:40.536 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.541 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:35:40.542 TRACE 23379 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:35:40.543 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:35:40.551 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.551 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:35:40.552 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 13:35:40.552 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 13:35:40.553 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:35:40.556 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:35:40.574 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.577 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:35:40.577 TRACE 23379 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:35:40.578 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:35:40.584 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.585 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:35:40.585 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:35:40.586 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:35:40.587 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:35:40.611 TRACE 23379 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:35:40.616 TRACE 23379 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:35:40.618 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:35:40.625 DEBUG 23379 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:35:40.626 DEBUG 23379 --- [main] c.p.assignment1.services.UserService     : validation complete
2022-02-17 13:35:40.641 DEBUG 23379 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 13:35:40.697 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.699 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:35:40.699 TRACE 23379 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:35:40.700 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:35:40.705 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.706 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:35:40.707 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 13:35:40.707 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 13:35:40.707 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:35:40.708 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:35:40.714 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.717 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:35:40.717 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.717 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:35:40.729 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.731 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:35:40.732 TRACE 23379 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:35:40.732 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:35:40.736 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.736 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:35:40.736 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:35:40.736 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:35:40.736 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:35:40.740 TRACE 23379 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:35:40.741 TRACE 23379 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:35:40.741 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:35:40.742 DEBUG 23379 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:35:40.744 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:35:40.746  WARN 23379 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 13:35:40.756 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.760 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:35:40.760 TRACE 23379 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:35:40.761 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:35:40.764 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.765 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:35:40.765 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 13:35:40.765 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 13:35:40.765 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:35:40.766 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:35:40.773 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.775 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:35:40.776 TRACE 23379 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:35:40.777 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:35:40.785 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.787 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:35:40.787 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:35:40.787 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:35:40.789 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:35:40.792 TRACE 23379 --- [main] c.p.a.controllers.UserController         : /user/{id} deleteUser() request
2022-02-17 13:35:40.793 TRACE 23379 --- [main] c.p.assignment1.services.UserService     : deleteUser()
2022-02-17 13:35:40.804 DEBUG 23379 --- [main] org.hibernate.SQL                        : select count(*) as col_0_0_ from user user0_ where user0_.id=?
2022-02-17 13:35:40.825 DEBUG 23379 --- [main] org.hibernate.SQL                        : update user set is_active=? where id=?
2022-02-17 13:35:40.843 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 13:35:40.849 DEBUG 23379 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 13:35:40.853 DEBUG 23379 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 13:35:40.856 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.856 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:35:40.856 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.856 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:35:40.893  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Revoke previously assigned partitions transactions-0
2022-02-17 13:35:40.893  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Revoke previously assigned partitions create-wallet-0
2022-02-17 13:35:40.896  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [transactions-0]
2022-02-17 13:35:40.896  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [create-wallet-0]
2022-02-17 13:35:40.897  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-b60dded1-b2e1-4215-b884-ae8f4260a2fa sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:35:40.897  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-94dda2e1-0485-4f53-8035-787b4c6f29ba sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:35:40.902  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:35:40.902  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:35:40.903  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:35:40.903  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:35:40.903  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:35:40.903  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:35:40.903  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:35:40.903  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:35:40.903  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:35:40.903  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:35:40.909  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:35:40.909  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:35:40.910  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:35:40.910  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:35:40.910  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:35:40.910  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:35:40.918  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 13:35:40.919  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 13:35:40.930  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:35:40.930  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:35:40.942  INFO 23379 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:35:40.950  INFO 23379 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 13:35:40.966  INFO 23379 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 13:37:44.622  INFO 23484 --- [main] c.p.a.controllers.UserControllerIT       : Starting UserControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 23484 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 13:37:44.624 DEBUG 23484 --- [main] c.p.a.controllers.UserControllerIT       : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 13:37:44.624  INFO 23484 --- [main] c.p.a.controllers.UserControllerIT       : No active profile set, falling back to default profiles: default
2022-02-17 13:37:48.324  INFO 23484 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 13:37:48.486  INFO 23484 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 154 ms. Found 3 JPA repository interfaces.
2022-02-17 13:37:49.967  INFO 23484 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 13:37:49.984  INFO 23484 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 13:37:49.984  INFO 23484 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 13:37:50.553  INFO 23484 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 13:37:50.554  INFO 23484 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5901 ms
2022-02-17 13:37:51.169  INFO 23484 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 13:37:51.204  INFO 23484 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 13:37:51.346  INFO 23484 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 13:37:51.443  INFO 23484 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 13:37:52.243  INFO 23484 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 13:37:52.268  INFO 23484 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 13:37:53.347 DEBUG 23484 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 13:37:53.392 DEBUG 23484 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 13:37:53.405 DEBUG 23484 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 13:37:53.413 DEBUG 23484 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 13:37:53.418 DEBUG 23484 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 13:37:53.423 DEBUG 23484 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 13:37:53.428 DEBUG 23484 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 13:37:53.439 DEBUG 23484 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 13:37:53.446 DEBUG 23484 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 13:37:53.448 DEBUG 23484 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 13:37:53.460 DEBUG 23484 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 13:37:53.468 DEBUG 23484 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 13:37:53.474 DEBUG 23484 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 13:37:53.488 DEBUG 23484 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 13:37:53.494 DEBUG 23484 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 13:37:53.507 DEBUG 23484 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 13:37:53.522 DEBUG 23484 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 13:37:53.538 DEBUG 23484 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 13:37:53.557  INFO 23484 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 13:37:53.564  INFO 23484 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:37:54.474 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 13:37:54.476 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 13:37:54.611  WARN 23484 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 13:37:55.306  INFO 23484 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10301d6f, org.springframework.security.web.context.SecurityContextPersistenceFilter@323eecf8, org.springframework.security.web.header.HeaderWriterFilter@6c8ad6d7, org.springframework.security.web.authentication.logout.LogoutFilter@14b9df65, com.paytm.assignment1.filters.JwtRequestFilter@99223ac, com.paytm.assignment1.filters.UserAuthorizationFilter@77a85e76, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e355249, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c0ece6d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5cd6719d, org.springframework.security.web.session.SessionManagementFilter@1b10f60e, org.springframework.security.web.access.ExceptionTranslationFilter@64fc6470, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@28c7fd9d]
2022-02-17 13:37:56.767  INFO 23484 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 13:37:56.770  INFO 23484 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 13:37:56.774  INFO 23484 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 4 ms
2022-02-17 13:37:56.911  INFO 23484 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 13:37:57.044  INFO 23484 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:37:57.044  INFO 23484 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:37:57.044  INFO 23484 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645085277038
2022-02-17 13:37:57.388  INFO 23484 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 13:37:57.394  INFO 23484 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:37:57.395  INFO 23484 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:37:57.395  INFO 23484 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:37:57.447  INFO 23484 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:37:57.518  INFO 23484 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:37:57.521  INFO 23484 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:37:57.521  INFO 23484 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645085277518
2022-02-17 13:37:57.524  INFO 23484 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 13:37:57.558  INFO 23484 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:37:57.595  INFO 23484 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:37:57.597  INFO 23484 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:37:57.597  INFO 23484 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645085277595
2022-02-17 13:37:57.599  INFO 23484 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 13:37:57.624  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:37:57.624  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:37:57.627  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:37:57.627  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:37:57.638  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:37:57.638  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:37:57.645  INFO 23484 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 57047 (http) with context path ''
2022-02-17 13:37:57.684  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:37:57.684  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:37:57.687  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:37:57.687  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:37:57.697  INFO 23484 --- [main] c.p.a.controllers.UserControllerIT       : Started UserControllerIT in 14.057 seconds (JVM running for 42.875)
2022-02-17 13:37:57.960  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=50, memberId='consumer-user-wallet-group-2-9221c8f6-aca7-4a88-bdae-02f44cc8774b', protocol='range'}
2022-02-17 13:37:57.972  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=50, memberId='consumer-user-wallet-group-1-ab537831-3a4d-4201-a989-00d59e7cf607', protocol='range'}
2022-02-17 13:37:58.127  INFO 23484 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-17 13:37:58.128  INFO 23484 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-17 13:37:58.130  INFO 23484 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2022-02-17 13:37:58.156 TRACE 23484 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:58.158 DEBUG 23484 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:37:58.159 TRACE 23484 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:58.159 DEBUG 23484 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:37:58.227  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=50, memberId='consumer-user-wallet-group-1-ab537831-3a4d-4201-a989-00d59e7cf607', protocol='range'}
2022-02-17 13:37:58.227  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=50, memberId='consumer-user-wallet-group-2-9221c8f6-aca7-4a88-bdae-02f44cc8774b', protocol='range'}
2022-02-17 13:37:58.241  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[transactions-0])
2022-02-17 13:37:58.241  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[create-wallet-0])
2022-02-17 13:37:58.248  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Adding newly assigned partitions: transactions-0
2022-02-17 13:37:58.248  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Adding newly assigned partitions: create-wallet-0
2022-02-17 13:37:58.346  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Setting offset for partition transactions-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 13:37:58.347  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Setting offset for partition create-wallet-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 13:37:58.358  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [transactions-0]
2022-02-17 13:37:58.358  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [create-wallet-0]
2022-02-17 13:37:58.524 TRACE 23484 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:58.526 DEBUG 23484 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:37:58.526 TRACE 23484 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:58.526 DEBUG 23484 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:37:58.593 TRACE 23484 --- [http-nio-auto-1-exec-2] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:37:58.612 TRACE 23484 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:37:58.613 DEBUG 23484 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:37:58.648 DEBUG 23484 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:37:58.698 DEBUG 23484 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:37:58.706 DEBUG 23484 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:37:58.709 DEBUG 23484 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : user validations done
2022-02-17 13:37:58.779 DEBUG 23484 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 13:37:58.784 DEBUG 23484 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 13:37:58.812 DEBUG 23484 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 13:37:58.904 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:58.908 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:37:58.908 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:58.908 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:37:58.919 TRACE 23484 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:37:58.919 TRACE 23484 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:37:58.919 DEBUG 23484 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:37:58.921 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:37:58.928 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:37:58.930 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:37:58.933  WARN 23484 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 13:37:58.993 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:58.993 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:37:58.993 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:58.993 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:37:58.996 TRACE 23484 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:37:58.996 TRACE 23484 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:37:58.996 DEBUG 23484 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:37:58.996 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:37:59.000 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:37:59.001  WARN 23484 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :email
2022-02-17 13:37:59.017 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.017 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:37:59.017 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.017 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:37:59.019 TRACE 23484 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:37:59.019 TRACE 23484 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:37:59.019 DEBUG 23484 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:37:59.020  WARN 23484 --- [main] c.p.a.exceptions.EmptyFieldException     : Empty Field: userName
2022-02-17 13:37:59.036 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.037 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:37:59.037 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.037 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:37:59.039 TRACE 23484 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:37:59.040 TRACE 23484 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:37:59.040 DEBUG 23484 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:37:59.041 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:37:59.042 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:37:59.044 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:37:59.044 DEBUG 23484 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 13:37:59.046 DEBUG 23484 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 13:37:59.046 DEBUG 23484 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 13:37:59.049 DEBUG 23484 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 13:37:59.069 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.069 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:37:59.069 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.069 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:37:59.073 TRACE 23484 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 13:37:59.075 TRACE 23484 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:37:59.085 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:37:59.102 TRACE 23484 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:37:59.103 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:37:59.193 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.194 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:37:59.194 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.194 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:37:59.197 TRACE 23484 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 13:37:59.197 TRACE 23484 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:37:59.198 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:37:59.223 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.245 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:37:59.246 TRACE 23484 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:37:59.279 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:37:59.295 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.296 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:37:59.296 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:37:59.296 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:37:59.314 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:37:59.331 TRACE 23484 --- [main] c.p.a.controllers.UserController         : /user/{id} getUser() request
2022-02-17 13:37:59.332 TRACE 23484 --- [main] c.p.assignment1.services.UserService     : getUser()
2022-02-17 13:37:59.348 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:37:59.381 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.382 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:37:59.382 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.382 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:37:59.391 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.392 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:37:59.393 TRACE 23484 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:37:59.394 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:37:59.400 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.401 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:37:59.401 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 13:37:59.401 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 13:37:59.402 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:37:59.406 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:37:59.413 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.414 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:37:59.415 TRACE 23484 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:37:59.416 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:37:59.422 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.422 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:37:59.422 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 13:37:59.422 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 13:37:59.423 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:37:59.425 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:37:59.437 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.441 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:37:59.442 TRACE 23484 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:37:59.442 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:37:59.447 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.447 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:37:59.447 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:37:59.447 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:37:59.447 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:37:59.453 TRACE 23484 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:37:59.454 TRACE 23484 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:37:59.454 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:37:59.457 DEBUG 23484 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:37:59.457 DEBUG 23484 --- [main] c.p.assignment1.services.UserService     : validation complete
2022-02-17 13:37:59.464 DEBUG 23484 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 13:37:59.498 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.501 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:37:59.501 TRACE 23484 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:37:59.501 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:37:59.507 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.507 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:37:59.507 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 13:37:59.507 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 13:37:59.508 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:37:59.509 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:37:59.523 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.527 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:37:59.527 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.527 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:37:59.542 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.545 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:37:59.545 TRACE 23484 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:37:59.546 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:37:59.550 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.550 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:37:59.550 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:37:59.550 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:37:59.551 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:37:59.554 TRACE 23484 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:37:59.555 TRACE 23484 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:37:59.557 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:37:59.559 DEBUG 23484 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:37:59.561 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:37:59.564  WARN 23484 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 13:37:59.577 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.578 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:37:59.578 TRACE 23484 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:37:59.578 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:37:59.582 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.582 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:37:59.582 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 13:37:59.582 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 13:37:59.582 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:37:59.584 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:37:59.593 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.595 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:37:59.598 TRACE 23484 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:37:59.599 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:37:59.603 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.604 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:37:59.604 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:37:59.604 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:37:59.605 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:37:59.609 TRACE 23484 --- [main] c.p.a.controllers.UserController         : /user/{id} deleteUser() request
2022-02-17 13:37:59.609 TRACE 23484 --- [main] c.p.assignment1.services.UserService     : deleteUser()
2022-02-17 13:37:59.619 DEBUG 23484 --- [main] org.hibernate.SQL                        : select count(*) as col_0_0_ from user user0_ where user0_.id=?
2022-02-17 13:37:59.628 DEBUG 23484 --- [main] org.hibernate.SQL                        : update user set is_active=? where id=?
2022-02-17 13:37:59.647 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 13:37:59.652 DEBUG 23484 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 13:37:59.655 DEBUG 23484 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 13:37:59.658 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.658 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:37:59.658 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.658 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:37:59.705  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Revoke previously assigned partitions create-wallet-0
2022-02-17 13:37:59.705  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Revoke previously assigned partitions transactions-0
2022-02-17 13:37:59.712  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [create-wallet-0]
2022-02-17 13:37:59.712  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [transactions-0]
2022-02-17 13:37:59.715  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-ab537831-3a4d-4201-a989-00d59e7cf607 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:37:59.715  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-9221c8f6-aca7-4a88-bdae-02f44cc8774b sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:37:59.717  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:37:59.717  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:37:59.717  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:37:59.717  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:37:59.717  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:37:59.717  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:37:59.719  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:37:59.719  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:37:59.719  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:37:59.719  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:37:59.726  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:37:59.726  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:37:59.727  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:37:59.727  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:37:59.728  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:37:59.728  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:37:59.735  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 13:37:59.737  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 13:37:59.741  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:37:59.741  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:37:59.752  INFO 23484 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:37:59.760  INFO 23484 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 13:37:59.772  INFO 23484 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 13:55:21.543  INFO 24482 --- [main] c.p.a.controllers.UserControllerIT       : Starting UserControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 24482 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 13:55:21.545 DEBUG 24482 --- [main] c.p.a.controllers.UserControllerIT       : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 13:55:21.545  INFO 24482 --- [main] c.p.a.controllers.UserControllerIT       : No active profile set, falling back to default profiles: default
2022-02-17 13:55:22.807  INFO 24482 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 13:55:22.922  INFO 24482 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 108 ms. Found 3 JPA repository interfaces.
2022-02-17 13:55:24.511  INFO 24482 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 13:55:24.523  INFO 24482 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 13:55:24.524  INFO 24482 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 13:55:24.683  INFO 24482 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 13:55:24.685  INFO 24482 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3114 ms
2022-02-17 13:55:25.401  INFO 24482 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 13:55:25.436  INFO 24482 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 13:55:25.575  INFO 24482 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 13:55:25.700  INFO 24482 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 13:55:26.403  INFO 24482 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 13:55:26.438  INFO 24482 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 13:55:27.565 DEBUG 24482 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 13:55:27.600 DEBUG 24482 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 13:55:27.613 DEBUG 24482 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 13:55:27.623 DEBUG 24482 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 13:55:27.628 DEBUG 24482 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 13:55:27.633 DEBUG 24482 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 13:55:27.638 DEBUG 24482 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 13:55:27.648 DEBUG 24482 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 13:55:27.656 DEBUG 24482 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 13:55:27.658 DEBUG 24482 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 13:55:27.671 DEBUG 24482 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 13:55:27.679 DEBUG 24482 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 13:55:27.684 DEBUG 24482 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 13:55:27.692 DEBUG 24482 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 13:55:27.699 DEBUG 24482 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 13:55:27.710 DEBUG 24482 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 13:55:27.725 DEBUG 24482 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 13:55:27.740 DEBUG 24482 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 13:55:27.760  INFO 24482 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 13:55:27.768  INFO 24482 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:55:28.760 DEBUG 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 13:55:28.762 DEBUG 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 13:55:28.889  WARN 24482 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 13:55:29.652  INFO 24482 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5cd6719d, org.springframework.security.web.context.SecurityContextPersistenceFilter@2e02cc37, org.springframework.security.web.header.HeaderWriterFilter@2d0778d0, org.springframework.security.web.authentication.logout.LogoutFilter@3b046e64, com.paytm.assignment1.filters.JwtRequestFilter@399c408c, com.paytm.assignment1.filters.UserAuthorizationFilter@4a5fab78, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@652a1a17, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@69419d59, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ef591af, org.springframework.security.web.session.SessionManagementFilter@4b916cc2, org.springframework.security.web.access.ExceptionTranslationFilter@5cf3a7f9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6a63ff31]
2022-02-17 13:55:31.041  INFO 24482 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 13:55:31.043  INFO 24482 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 13:55:31.048  INFO 24482 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 4 ms
2022-02-17 13:55:31.245  INFO 24482 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 13:55:31.387  INFO 24482 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:55:31.387  INFO 24482 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:55:31.387  INFO 24482 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645086331379
2022-02-17 13:55:31.832  INFO 24482 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 13:55:31.854  INFO 24482 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:55:31.854  INFO 24482 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:55:31.854  INFO 24482 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:55:31.902  INFO 24482 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:55:31.959  INFO 24482 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:55:31.959  INFO 24482 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:55:31.959  INFO 24482 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645086331959
2022-02-17 13:55:31.962  INFO 24482 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 13:55:31.999  INFO 24482 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:55:32.040  INFO 24482 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:55:32.044  INFO 24482 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:55:32.045  INFO 24482 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645086332040
2022-02-17 13:55:32.046  INFO 24482 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 13:55:32.078  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:55:32.078  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:55:32.081  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:55:32.081  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:55:32.122  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:55:32.124  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:55:32.158  INFO 24482 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 57664 (http) with context path ''
2022-02-17 13:55:32.188  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:55:32.188  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:55:32.191  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:55:32.191  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:55:32.194  INFO 24482 --- [main] c.p.a.controllers.UserControllerIT       : Started UserControllerIT in 11.198 seconds (JVM running for 13.804)
2022-02-17 13:55:32.641  INFO 24482 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-17 13:55:32.643  INFO 24482 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-17 13:55:32.647  INFO 24482 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2022-02-17 13:55:32.670 TRACE 24482 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:55:32.677 DEBUG 24482 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:55:32.677 TRACE 24482 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:32.677 DEBUG 24482 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:55:32.698 TRACE 24482 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:32.709 ERROR 24482 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.ClassCastException: java.lang.String cannot be cast to org.springframework.security.core.userdetails.UserDetails
	at com.paytm.assignment1.filters.UserAuthorizationFilter.shouldNotFilter(UserAuthorizationFilter.java:39) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at com.paytm.assignment1.filters.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:57) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_231]

2022-02-17 13:55:33.004 TRACE 24482 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:55:33.006 DEBUG 24482 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:55:33.006 TRACE 24482 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.006 DEBUG 24482 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:55:33.016 TRACE 24482 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.021 ERROR 24482 --- [http-nio-auto-1-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.ClassCastException: java.lang.String cannot be cast to org.springframework.security.core.userdetails.UserDetails
	at com.paytm.assignment1.filters.UserAuthorizationFilter.shouldNotFilter(UserAuthorizationFilter.java:39) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at com.paytm.assignment1.filters.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:57) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_231]

2022-02-17 13:55:33.083 TRACE 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:55:33.083 DEBUG 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:55:33.083 TRACE 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.083 DEBUG 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:55:33.084 TRACE 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.090 TRACE 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:55:33.090 DEBUG 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:55:33.090 TRACE 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.090 DEBUG 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:55:33.090 TRACE 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.112 TRACE 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:55:33.117 DEBUG 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:55:33.117 TRACE 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.117 DEBUG 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:55:33.119 TRACE 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.133 TRACE 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:55:33.134 DEBUG 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:55:33.134 TRACE 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.134 DEBUG 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:55:33.135 TRACE 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.147 TRACE 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:55:33.147 DEBUG 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:55:33.147 TRACE 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.147 DEBUG 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:55:33.148 TRACE 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.158 TRACE 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:55:33.160 DEBUG 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:55:33.160 TRACE 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.160 DEBUG 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:55:33.160 TRACE 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.172 TRACE 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:55:33.173 DEBUG 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:55:33.173 TRACE 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.173 DEBUG 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:55:33.257 TRACE 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:55:33.260 DEBUG 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:55:33.260 TRACE 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.260 DEBUG 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:55:33.364  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-b4d9b0cc-af0d-4fa0-a754-c3a023a57778 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:55:33.364  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-e89132a0-f636-4b3b-87c4-923896332d67 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:55:33.368  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:55:33.368  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:55:33.368  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:55:33.368  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:55:33.368  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:55:33.368  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:55:33.370  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:55:33.371  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:55:33.371  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:55:33.372  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:55:34.697  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:55:34.697  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:55:34.700  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:55:34.700  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:55:34.702  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:55:34.702  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:55:34.713  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 13:55:34.714  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 13:55:34.723  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:55:34.723  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:55:34.739  INFO 24482 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:55:34.748  INFO 24482 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 13:55:34.775  INFO 24482 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 14:03:21.187  INFO 24842 --- [main] c.p.a.controllers.UserControllerIT       : Starting UserControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 24842 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 14:03:21.190 DEBUG 24842 --- [main] c.p.a.controllers.UserControllerIT       : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 14:03:21.190  INFO 24842 --- [main] c.p.a.controllers.UserControllerIT       : No active profile set, falling back to default profiles: default
2022-02-17 14:03:22.489  INFO 24842 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 14:03:22.585  INFO 24842 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 91 ms. Found 3 JPA repository interfaces.
2022-02-17 14:03:24.135  INFO 24842 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 14:03:24.152  INFO 24842 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 14:03:24.152  INFO 24842 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 14:03:24.337  INFO 24842 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 14:03:24.337  INFO 24842 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3122 ms
2022-02-17 14:03:24.907  INFO 24842 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 14:03:24.946  INFO 24842 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 14:03:25.123  INFO 24842 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 14:03:25.227  INFO 24842 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 14:03:25.928  INFO 24842 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 14:03:25.960  INFO 24842 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 14:03:27.057 DEBUG 24842 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 14:03:27.099 DEBUG 24842 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 14:03:27.114 DEBUG 24842 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 14:03:27.124 DEBUG 24842 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 14:03:27.168 DEBUG 24842 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 14:03:27.178 DEBUG 24842 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 14:03:27.188 DEBUG 24842 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 14:03:27.196 DEBUG 24842 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 14:03:27.207 DEBUG 24842 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 14:03:27.210 DEBUG 24842 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 14:03:27.221 DEBUG 24842 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 14:03:27.229 DEBUG 24842 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 14:03:27.234 DEBUG 24842 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 14:03:27.244 DEBUG 24842 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 14:03:27.250 DEBUG 24842 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 14:03:27.262 DEBUG 24842 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 14:03:27.277 DEBUG 24842 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 14:03:27.291 DEBUG 24842 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 14:03:27.312  INFO 24842 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 14:03:27.321  INFO 24842 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 14:03:28.284 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 14:03:28.287 DEBUG 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 14:03:28.402  WARN 24842 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 14:03:29.082  INFO 24842 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5cd6719d, org.springframework.security.web.context.SecurityContextPersistenceFilter@2e02cc37, org.springframework.security.web.header.HeaderWriterFilter@2d0778d0, org.springframework.security.web.authentication.logout.LogoutFilter@3b046e64, com.paytm.assignment1.filters.JwtRequestFilter@399c408c, com.paytm.assignment1.filters.UserAuthorizationFilter@4a5fab78, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@652a1a17, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@69419d59, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ef591af, org.springframework.security.web.session.SessionManagementFilter@4b916cc2, org.springframework.security.web.access.ExceptionTranslationFilter@5cf3a7f9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6a63ff31]
2022-02-17 14:03:30.321  INFO 24842 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 14:03:30.323  INFO 24842 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 14:03:30.327  INFO 24842 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 4 ms
2022-02-17 14:03:30.507  INFO 24842 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 14:03:30.682  INFO 24842 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:03:30.683  INFO 24842 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:03:30.683  INFO 24842 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645086810677
2022-02-17 14:03:31.133  INFO 24842 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 14:03:31.141  INFO 24842 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:03:31.142  INFO 24842 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:03:31.142  INFO 24842 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:03:31.216  INFO 24842 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 14:03:31.292  INFO 24842 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:03:31.293  INFO 24842 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:03:31.293  INFO 24842 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645086811292
2022-02-17 14:03:31.296  INFO 24842 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 14:03:31.334  INFO 24842 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 14:03:31.365  INFO 24842 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:03:31.367  INFO 24842 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:03:31.367  INFO 24842 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645086811365
2022-02-17 14:03:31.368  INFO 24842 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 14:03:31.391  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 14:03:31.391  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 14:03:31.396  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:03:31.396  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:03:31.404  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:03:31.404  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:03:31.412  INFO 24842 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 57879 (http) with context path ''
2022-02-17 14:03:31.453  INFO 24842 --- [main] c.p.a.controllers.UserControllerIT       : Started UserControllerIT in 10.904 seconds (JVM running for 13.332)
2022-02-17 14:03:31.459  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 14:03:31.459  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 14:03:31.461  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:03:31.462  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:03:31.880  INFO 24842 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-17 14:03:31.881  INFO 24842 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-17 14:03:31.884  INFO 24842 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2022-02-17 14:03:31.898 TRACE 24842 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:03:31.899 DEBUG 24842 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:03:31.900 TRACE 24842 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:31.900 DEBUG 24842 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:03:31.910 TRACE 24842 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:31.910 DEBUG 24842 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:03:31.918 ERROR 24842 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.ClassCastException: java.lang.String cannot be cast to org.springframework.security.core.userdetails.UserDetails
	at com.paytm.assignment1.filters.UserAuthorizationFilter.shouldNotFilter(UserAuthorizationFilter.java:39) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at com.paytm.assignment1.filters.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:57) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_231]

2022-02-17 14:03:32.202 TRACE 24842 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:03:32.204 DEBUG 24842 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:03:32.205 TRACE 24842 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.205 DEBUG 24842 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:03:32.208 TRACE 24842 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.208 DEBUG 24842 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:03:32.210 ERROR 24842 --- [http-nio-auto-1-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.ClassCastException: java.lang.String cannot be cast to org.springframework.security.core.userdetails.UserDetails
	at com.paytm.assignment1.filters.UserAuthorizationFilter.shouldNotFilter(UserAuthorizationFilter.java:39) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at com.paytm.assignment1.filters.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:57) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_231]

2022-02-17 14:03:32.281 TRACE 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:03:32.282 DEBUG 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:03:32.282 TRACE 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.282 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:03:32.282 TRACE 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.282 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:03:32.290 TRACE 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:03:32.291 DEBUG 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:03:32.291 TRACE 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.291 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:03:32.291 TRACE 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.291 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:03:32.326 TRACE 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:03:32.327 DEBUG 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:03:32.327 TRACE 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.327 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:03:32.328 TRACE 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.328 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:03:32.349 TRACE 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:03:32.349 DEBUG 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:03:32.350 TRACE 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.350 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:03:32.350 TRACE 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.350 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:03:32.359 TRACE 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:03:32.361 DEBUG 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:03:32.361 TRACE 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.362 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:03:32.362 TRACE 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.362 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:03:32.368 TRACE 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:03:32.370 DEBUG 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:03:32.371 TRACE 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.371 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:03:32.372 TRACE 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.372 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:03:32.386 TRACE 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:03:32.387 DEBUG 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:03:32.387 TRACE 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.387 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:03:32.465 TRACE 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:03:32.466 DEBUG 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:03:32.466 TRACE 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.466 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:03:32.535  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-23a240b3-8cdf-460b-86d1-0d41922defc6 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 14:03:32.535  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-8dbec124-1278-4149-ac2f-6e2689f67984 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 14:03:32.545  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:03:32.545  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:03:32.545  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 14:03:32.545  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:03:32.547  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:03:32.547  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:03:32.547  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 14:03:32.547  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:03:32.548  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:03:32.548  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:03:33.526  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:03:33.526  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:03:33.528  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:03:33.528  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:03:33.529  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:03:33.529  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:03:33.538  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 14:03:33.539  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 14:03:33.549  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 14:03:33.549  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 14:03:33.563  INFO 24842 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 14:03:33.574  INFO 24842 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 14:03:33.609  INFO 24842 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 14:05:28.975  INFO 24949 --- [main] c.p.a.controllers.UserControllerIT       : Starting UserControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 24949 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 14:05:28.977 DEBUG 24949 --- [main] c.p.a.controllers.UserControllerIT       : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 14:05:28.978  INFO 24949 --- [main] c.p.a.controllers.UserControllerIT       : No active profile set, falling back to default profiles: default
2022-02-17 14:05:30.514  INFO 24949 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 14:05:30.627  INFO 24949 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 104 ms. Found 3 JPA repository interfaces.
2022-02-17 14:05:32.362  INFO 24949 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 14:05:32.379  INFO 24949 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 14:05:32.379  INFO 24949 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 14:05:32.543  INFO 24949 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 14:05:32.545  INFO 24949 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3536 ms
2022-02-17 14:05:33.284  INFO 24949 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 14:05:33.324  INFO 24949 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 14:05:33.517  INFO 24949 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 14:05:33.608  INFO 24949 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 14:05:34.298  INFO 24949 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 14:05:34.325  INFO 24949 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 14:05:35.472 DEBUG 24949 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 14:05:35.514 DEBUG 24949 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 14:05:35.526 DEBUG 24949 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 14:05:35.534 DEBUG 24949 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 14:05:35.539 DEBUG 24949 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 14:05:35.544 DEBUG 24949 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 14:05:35.551 DEBUG 24949 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 14:05:35.567 DEBUG 24949 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 14:05:35.574 DEBUG 24949 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 14:05:35.577 DEBUG 24949 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 14:05:35.589 DEBUG 24949 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 14:05:35.605 DEBUG 24949 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 14:05:35.611 DEBUG 24949 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 14:05:35.619 DEBUG 24949 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 14:05:35.627 DEBUG 24949 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 14:05:35.640 DEBUG 24949 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 14:05:35.657 DEBUG 24949 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 14:05:35.672 DEBUG 24949 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 14:05:35.689  INFO 24949 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 14:05:35.697  INFO 24949 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 14:05:36.691 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 14:05:36.695 DEBUG 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 14:05:36.803  WARN 24949 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 14:05:37.537  INFO 24949 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a85e86e, org.springframework.security.web.context.SecurityContextPersistenceFilter@64d53f0d, org.springframework.security.web.header.HeaderWriterFilter@64fc6470, org.springframework.security.web.authentication.logout.LogoutFilter@18209303, com.paytm.assignment1.filters.JwtRequestFilter@1c8e2850, com.paytm.assignment1.filters.UserAuthorizationFilter@4bf10fe1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b916cc2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6e355249, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@320fc4b0, org.springframework.security.web.session.SessionManagementFilter@75c15f76, org.springframework.security.web.access.ExceptionTranslationFilter@53fc870f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@253b1cbd]
2022-02-17 14:05:39.002  INFO 24949 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 14:05:39.004  INFO 24949 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 14:05:39.006  INFO 24949 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2022-02-17 14:05:39.160  INFO 24949 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 14:05:39.342  INFO 24949 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:05:39.344  INFO 24949 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:05:39.344  INFO 24949 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645086939337
2022-02-17 14:05:39.730  INFO 24949 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 14:05:39.747  INFO 24949 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:05:39.748  INFO 24949 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:05:39.748  INFO 24949 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:05:39.809  INFO 24949 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 14:05:39.886  INFO 24949 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:05:39.888  INFO 24949 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:05:39.888  INFO 24949 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645086939886
2022-02-17 14:05:39.891  INFO 24949 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 14:05:39.966  INFO 24949 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 14:05:39.988  INFO 24949 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:05:39.989  INFO 24949 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:05:39.989  INFO 24949 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645086939987
2022-02-17 14:05:39.991  INFO 24949 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 14:05:40.006  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 14:05:40.009  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 14:05:40.012  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:05:40.013  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:05:40.020  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:05:40.023  INFO 24949 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 57954 (http) with context path ''
2022-02-17 14:05:40.023  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:05:40.058  INFO 24949 --- [main] c.p.a.controllers.UserControllerIT       : Started UserControllerIT in 11.753 seconds (JVM running for 15.005)
2022-02-17 14:05:40.081  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 14:05:40.084  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:05:40.082  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 14:05:40.084  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:05:40.385  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=63, memberId='consumer-user-wallet-group-2-a2dfd7fd-4d51-4787-9e43-b9b87f013a3c', protocol='range'}
2022-02-17 14:05:40.385  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=63, memberId='consumer-user-wallet-group-1-77797658-e029-4977-a304-e07d9a26bbc2', protocol='range'}
2022-02-17 14:05:40.474  INFO 24949 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-17 14:05:40.476  INFO 24949 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-17 14:05:40.480  INFO 24949 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2022-02-17 14:05:40.502 TRACE 24949 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:05:40.504 DEBUG 24949 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:05:40.504 TRACE 24949 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:40.504 DEBUG 24949 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:05:40.527  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=63, memberId='consumer-user-wallet-group-2-a2dfd7fd-4d51-4787-9e43-b9b87f013a3c', protocol='range'}
2022-02-17 14:05:40.527  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=63, memberId='consumer-user-wallet-group-1-77797658-e029-4977-a304-e07d9a26bbc2', protocol='range'}
2022-02-17 14:05:40.543  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[transactions-0])
2022-02-17 14:05:40.542  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[])
2022-02-17 14:05:40.545  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Adding newly assigned partitions: 
2022-02-17 14:05:40.549 TRACE 24949 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:40.549 DEBUG 24949 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:05:40.550  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Adding newly assigned partitions: transactions-0
2022-02-17 14:05:40.550 DEBUG 24949 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2022-02-17 14:05:40.553  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: []
2022-02-17 14:05:40.569 ERROR 24949 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.ClassCastException: java.lang.String cannot be cast to org.springframework.security.core.userdetails.UserDetails
	at com.paytm.assignment1.filters.UserAuthorizationFilter.shouldNotFilter(UserAuthorizationFilter.java:40) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at com.paytm.assignment1.filters.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:57) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_231]

2022-02-17 14:05:40.581  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Setting offset for partition transactions-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 14:05:40.582  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [transactions-0]
2022-02-17 14:05:40.844 TRACE 24949 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:05:40.846 DEBUG 24949 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:05:40.847 TRACE 24949 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:40.847 DEBUG 24949 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:05:40.849 TRACE 24949 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:40.849 DEBUG 24949 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:05:40.849 DEBUG 24949 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2022-02-17 14:05:40.856 ERROR 24949 --- [http-nio-auto-1-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.ClassCastException: java.lang.String cannot be cast to org.springframework.security.core.userdetails.UserDetails
	at com.paytm.assignment1.filters.UserAuthorizationFilter.shouldNotFilter(UserAuthorizationFilter.java:40) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at com.paytm.assignment1.filters.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:57) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_231]

2022-02-17 14:05:40.912 TRACE 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:05:40.913 DEBUG 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:05:40.913 TRACE 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:40.913 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:05:40.914 TRACE 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:40.917 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:05:40.917 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2022-02-17 14:05:40.931 TRACE 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:05:40.933 DEBUG 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:05:40.933 TRACE 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:40.933 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:05:40.934 TRACE 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:40.934 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:05:40.934 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2022-02-17 14:05:40.972 TRACE 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:05:40.973 DEBUG 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:05:40.973 TRACE 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:40.974 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:05:40.975 TRACE 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:40.975 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:05:40.975 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2022-02-17 14:05:40.993 TRACE 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:05:40.995 DEBUG 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:05:40.995 TRACE 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:40.995 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:05:40.996 TRACE 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:40.997 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:05:40.997 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2022-02-17 14:05:41.005 TRACE 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:05:41.005 DEBUG 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:05:41.006 TRACE 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:41.006 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:05:41.006 TRACE 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:41.007 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:05:41.009 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2022-02-17 14:05:41.016 TRACE 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:05:41.016 DEBUG 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:05:41.016 TRACE 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:41.016 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:05:41.017 TRACE 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:41.017 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:05:41.017 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2022-02-17 14:05:41.037 TRACE 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:05:41.037 DEBUG 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:05:41.037 TRACE 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:41.037 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:05:41.132 TRACE 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:05:41.133 DEBUG 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:05:41.133 TRACE 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:41.133 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:05:41.218  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Revoke previously assigned partitions transactions-0
2022-02-17 14:05:41.222  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-a2dfd7fd-4d51-4787-9e43-b9b87f013a3c sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 14:05:41.222  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [transactions-0]
2022-02-17 14:05:41.223  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-77797658-e029-4977-a304-e07d9a26bbc2 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 14:05:41.224  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:05:41.224  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:05:41.224  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:05:41.224  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:05:41.224  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 14:05:41.224  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 14:05:41.225  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:05:41.226  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:05:41.226  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:05:41.226  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:05:41.238  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:05:41.238  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:05:41.238  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:05:41.238  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:05:41.238  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:05:41.239  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:05:41.247  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 14:05:41.249  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 14:05:41.255  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 14:05:41.255  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 14:05:41.268  INFO 24949 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 14:05:41.279  INFO 24949 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 14:05:41.297  INFO 24949 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 14:11:05.116  INFO 25256 --- [main] c.p.a.controllers.UserControllerIT       : Starting UserControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 25256 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 14:11:05.118 DEBUG 25256 --- [main] c.p.a.controllers.UserControllerIT       : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 14:11:05.118  INFO 25256 --- [main] c.p.a.controllers.UserControllerIT       : No active profile set, falling back to default profiles: default
2022-02-17 14:11:06.377  INFO 25256 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 14:11:06.479  INFO 25256 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 95 ms. Found 3 JPA repository interfaces.
2022-02-17 14:11:08.099  INFO 25256 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 14:11:08.115  INFO 25256 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 14:11:08.116  INFO 25256 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 14:11:08.323  INFO 25256 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 14:11:08.324  INFO 25256 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3179 ms
2022-02-17 14:11:08.947  INFO 25256 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 14:11:08.982  INFO 25256 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 14:11:09.122  INFO 25256 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 14:11:09.219  INFO 25256 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 14:11:09.911  INFO 25256 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 14:11:09.946  INFO 25256 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 14:11:11.072 DEBUG 25256 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 14:11:11.115 DEBUG 25256 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 14:11:11.128 DEBUG 25256 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 14:11:11.136 DEBUG 25256 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 14:11:11.141 DEBUG 25256 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 14:11:11.148 DEBUG 25256 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 14:11:11.156 DEBUG 25256 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 14:11:11.165 DEBUG 25256 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 14:11:11.173 DEBUG 25256 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 14:11:11.176 DEBUG 25256 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 14:11:11.188 DEBUG 25256 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 14:11:11.197 DEBUG 25256 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 14:11:11.203 DEBUG 25256 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 14:11:11.212 DEBUG 25256 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 14:11:11.218 DEBUG 25256 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 14:11:11.230 DEBUG 25256 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 14:11:11.243 DEBUG 25256 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 14:11:11.258 DEBUG 25256 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 14:11:11.280  INFO 25256 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 14:11:11.288  INFO 25256 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 14:11:12.196 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 14:11:12.199 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 14:11:12.331  WARN 25256 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 14:11:13.012  INFO 25256 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10724a72, org.springframework.security.web.context.SecurityContextPersistenceFilter@4b916cc2, org.springframework.security.web.header.HeaderWriterFilter@42db955e, org.springframework.security.web.authentication.logout.LogoutFilter@6aa9a93b, com.paytm.assignment1.filters.JwtRequestFilter@399c408c, com.paytm.assignment1.filters.UserAuthorizationFilter@4a5fab78, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@323eecf8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20b67366, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25435731, org.springframework.security.web.session.SessionManagementFilter@1344f7fe, org.springframework.security.web.access.ExceptionTranslationFilter@43cbafa6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@37083af6]
2022-02-17 14:11:14.439  INFO 25256 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 14:11:14.443  INFO 25256 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 14:11:14.463  INFO 25256 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 20 ms
2022-02-17 14:11:14.632  INFO 25256 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 14:11:14.804  INFO 25256 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:11:14.806  INFO 25256 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:11:14.806  INFO 25256 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645087274800
2022-02-17 14:11:15.192  INFO 25256 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 14:11:15.200  INFO 25256 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:11:15.200  INFO 25256 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:11:15.200  INFO 25256 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:11:15.257  INFO 25256 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 14:11:15.380  INFO 25256 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:11:15.382  INFO 25256 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:11:15.382  INFO 25256 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645087275380
2022-02-17 14:11:15.388  INFO 25256 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 14:11:15.426  INFO 25256 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 14:11:15.462  INFO 25256 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:11:15.467  INFO 25256 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:11:15.467  INFO 25256 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645087275462
2022-02-17 14:11:15.474  INFO 25256 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 14:11:15.524  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 14:11:15.525  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 14:11:15.526  INFO 25256 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 58110 (http) with context path ''
2022-02-17 14:11:15.527  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:11:15.527  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:11:15.536  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:11:15.536  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:11:15.570  INFO 25256 --- [main] c.p.a.controllers.UserControllerIT       : Started UserControllerIT in 11.006 seconds (JVM running for 13.65)
2022-02-17 14:11:15.581  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 14:11:15.581  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 14:11:15.583  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:11:15.584  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:11:15.955  INFO 25256 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-17 14:11:15.955  INFO 25256 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-17 14:11:15.956  INFO 25256 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-02-17 14:11:15.970 TRACE 25256 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:15.971 DEBUG 25256 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:11:15.971 TRACE 25256 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:15.971 DEBUG 25256 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:15.981 TRACE 25256 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:15.983 DEBUG 25256 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:16.240 TRACE 25256 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:16.242 DEBUG 25256 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:11:16.243 TRACE 25256 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:16.243 DEBUG 25256 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:16.247 TRACE 25256 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:16.247 DEBUG 25256 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:16.314 TRACE 25256 --- [http-nio-auto-1-exec-2] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 14:11:16.340 TRACE 25256 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : addUser()
2022-02-17 14:11:16.340 DEBUG 25256 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : validating new user
2022-02-17 14:11:16.393 DEBUG 25256 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 14:11:16.462 DEBUG 25256 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 14:11:16.471 DEBUG 25256 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 14:11:16.472 DEBUG 25256 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : user validations done
2022-02-17 14:11:16.538 DEBUG 25256 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 14:11:16.541 DEBUG 25256 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 14:11:16.563 DEBUG 25256 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 14:11:16.671 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:16.675 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:11:16.675 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:16.675 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:16.678 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:16.679 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:16.687 TRACE 25256 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 14:11:16.687 TRACE 25256 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 14:11:16.687 DEBUG 25256 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 14:11:16.689 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 14:11:16.696 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 14:11:16.700 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 14:11:16.705  WARN 25256 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 14:11:16.797  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=67, memberId='consumer-user-wallet-group-2-498287f5-c25f-4ffa-a355-7e8e3817a68d', protocol='range'}
2022-02-17 14:11:16.797  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=67, memberId='consumer-user-wallet-group-1-b91ed724-96de-4aed-96a7-6e95ea36c524', protocol='range'}
2022-02-17 14:11:16.810 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:16.810 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:11:16.810 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:16.810 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:16.812 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:16.812 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:16.814 TRACE 25256 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 14:11:16.815 TRACE 25256 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 14:11:16.815 DEBUG 25256 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 14:11:16.816 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 14:11:16.823 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 14:11:16.824  WARN 25256 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :email
2022-02-17 14:11:16.839 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:16.840 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:11:16.840 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:16.840 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:16.841 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:16.842 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:16.844 TRACE 25256 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 14:11:16.844 TRACE 25256 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 14:11:16.844 DEBUG 25256 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 14:11:16.844  WARN 25256 --- [main] c.p.a.exceptions.EmptyFieldException     : Empty Field: userName
2022-02-17 14:11:16.852 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:16.852 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:11:16.852 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:16.852 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:16.852 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:16.853 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:16.862 TRACE 25256 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 14:11:16.862 TRACE 25256 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 14:11:16.862 DEBUG 25256 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 14:11:16.863 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 14:11:16.864 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 14:11:16.866 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 14:11:16.867 DEBUG 25256 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 14:11:16.869 DEBUG 25256 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 14:11:16.870 DEBUG 25256 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 14:11:16.873 DEBUG 25256 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 14:11:16.889 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:16.890 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:11:16.890 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:16.890 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:16.890 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:16.890 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:16.895 TRACE 25256 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 14:11:16.897 TRACE 25256 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:11:16.912  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=67, memberId='consumer-user-wallet-group-1-b91ed724-96de-4aed-96a7-6e95ea36c524', protocol='range'}
2022-02-17 14:11:16.912  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=67, memberId='consumer-user-wallet-group-2-498287f5-c25f-4ffa-a355-7e8e3817a68d', protocol='range'}
2022-02-17 14:11:16.923  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[transactions-0])
2022-02-17 14:11:16.923  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[])
2022-02-17 14:11:16.924  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Adding newly assigned partitions: 
2022-02-17 14:11:16.925  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: []
2022-02-17 14:11:16.926 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:11:16.926  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Adding newly assigned partitions: transactions-0
2022-02-17 14:11:16.944  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Setting offset for partition transactions-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 14:11:16.948  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [transactions-0]
2022-02-17 14:11:16.959 TRACE 25256 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:11:16.961 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:11:17.091 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:17.093 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:11:17.094 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.094 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:17.097 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.097 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:17.100 TRACE 25256 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 14:11:17.101 TRACE 25256 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:11:17.102 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:11:17.125 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:17.137 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:11:17.137 TRACE 25256 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:11:17.161 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:11:17.165 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.165 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:11:17.165 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:11:17.165 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:11:17.165 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:11:17.165 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 14:11:17.179 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:11:17.186 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.187 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:11:17.187 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:11:17.198 TRACE 25256 --- [main] c.p.a.controllers.UserController         : /user/{id} getUser() request
2022-02-17 14:11:17.199 TRACE 25256 --- [main] c.p.assignment1.services.UserService     : getUser()
2022-02-17 14:11:17.216 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 14:11:17.266 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:17.269 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:11:17.269 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.269 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:17.284 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:17.287 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:11:17.287 TRACE 25256 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:11:17.289 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:11:17.298 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.298 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:11:17.298 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 14:11:17.298 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:11:17.298 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 14:11:17.298 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 14:11:17.299 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:11:17.302 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 14:11:17.333 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:17.336 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:11:17.336 TRACE 25256 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:11:17.337 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:11:17.345 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.346 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:11:17.346 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 14:11:17.346 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:11:17.346 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 14:11:17.346 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 14:11:17.347 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:11:17.350 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 14:11:17.366 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:17.376 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:11:17.376 TRACE 25256 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:11:17.377 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:11:17.382 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.383 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:11:17.383 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:11:17.383 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:11:17.383 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:11:17.383 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 14:11:17.383 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:11:17.387 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.388 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:11:17.388 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:11:17.394 TRACE 25256 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 14:11:17.398 TRACE 25256 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 14:11:17.399 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 14:11:17.408 DEBUG 25256 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 14:11:17.409 DEBUG 25256 --- [main] c.p.assignment1.services.UserService     : validation complete
2022-02-17 14:11:17.422 DEBUG 25256 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 14:11:17.464 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:17.483 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:11:17.483 TRACE 25256 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:11:17.484 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:11:17.488 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.489 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:11:17.489 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 14:11:17.489 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:11:17.489 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 14:11:17.489 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 14:11:17.489 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:11:17.491 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 14:11:17.515 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:17.517 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:11:17.517 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.517 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:17.528 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:17.530 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:11:17.530 TRACE 25256 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:11:17.530 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:11:17.536 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.536 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:11:17.536 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:11:17.536 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:11:17.536 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:11:17.536 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 14:11:17.536 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:11:17.538 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.538 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:11:17.538 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:11:17.540 TRACE 25256 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 14:11:17.543 TRACE 25256 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 14:11:17.544 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 14:11:17.545 DEBUG 25256 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 14:11:17.547 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 14:11:17.549  WARN 25256 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 14:11:17.559 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:17.560 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:11:17.560 TRACE 25256 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:11:17.560 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:11:17.564 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.564 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:11:17.564 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 14:11:17.564 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:11:17.564 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 14:11:17.564 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 14:11:17.565 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:11:17.566 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 14:11:17.574 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:17.575 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:11:17.575 TRACE 25256 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:11:17.576 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:11:17.582 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.582 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:11:17.582 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:11:17.582 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:11:17.582 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:11:17.582 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 14:11:17.583 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:11:17.586 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.586 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:11:17.586 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:11:17.586 TRACE 25256 --- [main] c.p.a.controllers.UserController         : /user/{id} deleteUser() request
2022-02-17 14:11:17.587 TRACE 25256 --- [main] c.p.assignment1.services.UserService     : deleteUser()
2022-02-17 14:11:17.599 DEBUG 25256 --- [main] org.hibernate.SQL                        : select count(*) as col_0_0_ from user user0_ where user0_.id=?
2022-02-17 14:11:17.616 DEBUG 25256 --- [main] org.hibernate.SQL                        : update user set is_active=? where id=?
2022-02-17 14:11:17.649 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 14:11:17.658 DEBUG 25256 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 14:11:17.660 DEBUG 25256 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 14:11:17.664 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:17.665 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:11:17.665 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.665 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:17.706  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Revoke previously assigned partitions transactions-0
2022-02-17 14:11:17.707  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-498287f5-c25f-4ffa-a355-7e8e3817a68d sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 14:11:17.711  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [transactions-0]
2022-02-17 14:11:17.712  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:11:17.712  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-b91ed724-96de-4aed-96a7-6e95ea36c524 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 14:11:17.712  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:11:17.712  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 14:11:17.712  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:11:17.712  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:11:17.712  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 14:11:17.712  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:11:17.713  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:11:17.714  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:11:17.714  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:11:17.716  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:11:17.716  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:11:17.716  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:11:17.716  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:11:17.717  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:11:17.716  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:11:17.722  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 14:11:17.722  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 14:11:17.725  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 14:11:17.725  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 14:11:17.735  INFO 25256 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 14:11:17.742  INFO 25256 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 14:11:17.760  INFO 25256 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 14:13:43.988  INFO 25418 --- [main] c.p.a.controllers.UserControllerIT       : Starting UserControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 25418 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 14:13:43.990 DEBUG 25418 --- [main] c.p.a.controllers.UserControllerIT       : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 14:13:43.990  INFO 25418 --- [main] c.p.a.controllers.UserControllerIT       : No active profile set, falling back to default profiles: default
2022-02-17 14:13:45.301  INFO 25418 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 14:13:45.403  INFO 25418 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 95 ms. Found 3 JPA repository interfaces.
2022-02-17 14:13:46.958  INFO 25418 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 14:13:46.977  INFO 25418 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 14:13:46.977  INFO 25418 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 14:13:47.184  INFO 25418 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 14:13:47.185  INFO 25418 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3167 ms
2022-02-17 14:13:47.792  INFO 25418 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 14:13:47.842  INFO 25418 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 14:13:47.985  INFO 25418 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 14:13:48.078  INFO 25418 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 14:13:48.792  INFO 25418 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 14:13:48.821  INFO 25418 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 14:13:49.938 DEBUG 25418 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 14:13:50.012 DEBUG 25418 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 14:13:50.025 DEBUG 25418 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 14:13:50.032 DEBUG 25418 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 14:13:50.037 DEBUG 25418 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 14:13:50.042 DEBUG 25418 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 14:13:50.047 DEBUG 25418 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 14:13:50.056 DEBUG 25418 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 14:13:50.066 DEBUG 25418 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 14:13:50.069 DEBUG 25418 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 14:13:50.081 DEBUG 25418 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 14:13:50.088 DEBUG 25418 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 14:13:50.095 DEBUG 25418 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 14:13:50.102 DEBUG 25418 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 14:13:50.109 DEBUG 25418 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 14:13:50.120 DEBUG 25418 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 14:13:50.134 DEBUG 25418 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 14:13:50.149 DEBUG 25418 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 14:13:50.168  INFO 25418 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 14:13:50.178  INFO 25418 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 14:13:51.135 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 14:13:51.138 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 14:13:51.239  WARN 25418 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 14:13:52.015  INFO 25418 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10301d6f, org.springframework.security.web.context.SecurityContextPersistenceFilter@323eecf8, org.springframework.security.web.header.HeaderWriterFilter@6c8ad6d7, org.springframework.security.web.authentication.logout.LogoutFilter@14b9df65, com.paytm.assignment1.filters.JwtRequestFilter@399c408c, com.paytm.assignment1.filters.UserAuthorizationFilter@4a5fab78, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e355249, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c0ece6d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5cd6719d, org.springframework.security.web.session.SessionManagementFilter@1b10f60e, org.springframework.security.web.access.ExceptionTranslationFilter@64fc6470, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@28c7fd9d]
2022-02-17 14:13:53.545  INFO 25418 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 14:13:53.547  INFO 25418 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 14:13:53.553  INFO 25418 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 6 ms
2022-02-17 14:13:53.709  INFO 25418 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 14:13:53.847  INFO 25418 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:13:53.848  INFO 25418 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:13:53.848  INFO 25418 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645087433843
2022-02-17 14:13:54.255  INFO 25418 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 14:13:54.262  INFO 25418 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:13:54.263  INFO 25418 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:13:54.264  INFO 25418 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:13:54.359  INFO 25418 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 14:13:54.434  INFO 25418 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:13:54.437  INFO 25418 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:13:54.437  INFO 25418 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645087434434
2022-02-17 14:13:54.443  INFO 25418 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 14:13:54.496  INFO 25418 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 14:13:54.522  INFO 25418 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:13:54.523  INFO 25418 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:13:54.523  INFO 25418 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645087434522
2022-02-17 14:13:54.524  INFO 25418 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 14:13:54.561  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 14:13:54.561  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 14:13:54.564  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:13:54.565  INFO 25418 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 58190 (http) with context path ''
2022-02-17 14:13:54.564  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:13:54.573  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:13:54.573  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:13:54.605  INFO 25418 --- [main] c.p.a.controllers.UserControllerIT       : Started UserControllerIT in 11.157 seconds (JVM running for 13.629)
2022-02-17 14:13:54.620  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 14:13:54.620  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 14:13:54.621  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:13:54.621  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:13:54.990  INFO 25418 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-17 14:13:54.991  INFO 25418 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-17 14:13:54.992  INFO 25418 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-02-17 14:13:55.006 TRACE 25418 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:55.007 DEBUG 25418 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:13:55.007 TRACE 25418 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:55.007 DEBUG 25418 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:55.018 TRACE 25418 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:55.020 DEBUG 25418 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:55.224 TRACE 25418 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:55.226 DEBUG 25418 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:13:55.226 TRACE 25418 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:55.226 DEBUG 25418 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:55.228 TRACE 25418 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:55.229 DEBUG 25418 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:55.296 TRACE 25418 --- [http-nio-auto-1-exec-2] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 14:13:55.315 TRACE 25418 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : addUser()
2022-02-17 14:13:55.315 DEBUG 25418 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : validating new user
2022-02-17 14:13:55.388 DEBUG 25418 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 14:13:55.449 DEBUG 25418 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 14:13:55.456 DEBUG 25418 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 14:13:55.460 DEBUG 25418 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : user validations done
2022-02-17 14:13:55.517 DEBUG 25418 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 14:13:55.520 DEBUG 25418 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 14:13:55.544 DEBUG 25418 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 14:13:55.588  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=71, memberId='consumer-user-wallet-group-2-db1b28e4-96b7-4f3a-a19e-3493d58ae890', protocol='range'}
2022-02-17 14:13:55.588  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=71, memberId='consumer-user-wallet-group-1-1cbcdbd1-779f-4d47-bc2e-f605e2a947d5', protocol='range'}
2022-02-17 14:13:55.672 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:55.675 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:13:55.675 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:55.675 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:55.678 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:55.679 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:55.688 TRACE 25418 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 14:13:55.696 TRACE 25418 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 14:13:55.696 DEBUG 25418 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 14:13:55.701 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 14:13:55.706  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=71, memberId='consumer-user-wallet-group-1-1cbcdbd1-779f-4d47-bc2e-f605e2a947d5', protocol='range'}
2022-02-17 14:13:55.706  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=71, memberId='consumer-user-wallet-group-2-db1b28e4-96b7-4f3a-a19e-3493d58ae890', protocol='range'}
2022-02-17 14:13:55.715  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[])
2022-02-17 14:13:55.715  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[transactions-0])
2022-02-17 14:13:55.716  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Adding newly assigned partitions: 
2022-02-17 14:13:55.718  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: []
2022-02-17 14:13:55.720 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 14:13:55.723  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Adding newly assigned partitions: transactions-0
2022-02-17 14:13:55.723 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 14:13:55.730  WARN 25418 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 14:13:55.745  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Setting offset for partition transactions-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 14:13:55.747  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [transactions-0]
2022-02-17 14:13:55.827 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:55.827 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:13:55.827 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:55.827 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:55.829 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:55.829 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:55.831 TRACE 25418 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 14:13:55.832 TRACE 25418 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 14:13:55.832 DEBUG 25418 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 14:13:55.833 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 14:13:55.837 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 14:13:55.838  WARN 25418 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :email
2022-02-17 14:13:55.859 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:55.859 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:13:55.860 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:55.860 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:55.860 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:55.860 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:55.862 TRACE 25418 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 14:13:55.862 TRACE 25418 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 14:13:55.862 DEBUG 25418 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 14:13:55.862  WARN 25418 --- [main] c.p.a.exceptions.EmptyFieldException     : Empty Field: userName
2022-02-17 14:13:55.874 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:55.874 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:13:55.874 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:55.874 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:55.875 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:55.875 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:55.876 TRACE 25418 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 14:13:55.876 TRACE 25418 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 14:13:55.876 DEBUG 25418 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 14:13:55.877 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 14:13:55.879 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 14:13:55.886 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 14:13:55.889 DEBUG 25418 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 14:13:55.890 DEBUG 25418 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 14:13:55.891 DEBUG 25418 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 14:13:55.893 DEBUG 25418 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 14:13:55.910 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:55.911 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:13:55.911 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:55.911 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:55.911 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:55.911 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:55.915 TRACE 25418 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 14:13:55.919 TRACE 25418 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:13:55.931 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:13:55.950 TRACE 25418 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:13:55.951 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:13:56.048 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:56.049 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:13:56.049 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.049 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:56.050 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.051 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:56.053 TRACE 25418 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 14:13:56.053 TRACE 25418 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:13:56.054 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:13:56.079 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:56.103 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:13:56.104 TRACE 25418 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:13:56.137 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:13:56.152 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.153 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:13:56.153 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:13:56.154 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:13:56.154 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:13:56.154 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 14:13:56.171 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:13:56.179 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.179 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:13:56.179 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:13:56.191 TRACE 25418 --- [main] c.p.a.controllers.UserController         : /user/{id} getUser() request
2022-02-17 14:13:56.192 TRACE 25418 --- [main] c.p.assignment1.services.UserService     : getUser()
2022-02-17 14:13:56.208 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 14:13:56.242 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:56.243 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:13:56.243 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.243 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:56.257 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:56.259 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:13:56.259 TRACE 25418 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:13:56.260 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:13:56.264 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.264 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:13:56.264 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 14:13:56.264 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:13:56.264 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 14:13:56.264 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 14:13:56.265 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:13:56.267 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 14:13:56.276 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:56.278 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:13:56.278 TRACE 25418 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:13:56.281 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:13:56.287 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.288 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:13:56.288 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 14:13:56.288 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:13:56.288 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 14:13:56.288 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 14:13:56.288 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:13:56.290 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 14:13:56.299 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:56.309 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:13:56.309 TRACE 25418 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:13:56.310 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:13:56.315 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.315 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:13:56.315 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:13:56.315 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:13:56.315 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:13:56.315 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 14:13:56.316 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:13:56.317 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.317 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:13:56.317 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:13:56.319 TRACE 25418 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 14:13:56.320 TRACE 25418 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 14:13:56.320 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 14:13:56.322 DEBUG 25418 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 14:13:56.323 DEBUG 25418 --- [main] c.p.assignment1.services.UserService     : validation complete
2022-02-17 14:13:56.332 DEBUG 25418 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 14:13:56.369 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:56.382 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:13:56.382 TRACE 25418 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:13:56.384 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:13:56.390 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.390 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:13:56.391 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 14:13:56.391 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:13:56.391 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 14:13:56.391 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 14:13:56.392 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:13:56.394 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 14:13:56.403 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:56.405 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:13:56.406 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.406 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:56.420 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:56.423 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:13:56.423 TRACE 25418 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:13:56.423 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:13:56.426 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.426 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:13:56.426 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:13:56.427 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:13:56.427 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:13:56.427 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 14:13:56.427 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:13:56.428 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.428 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:13:56.428 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:13:56.430 TRACE 25418 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 14:13:56.431 TRACE 25418 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 14:13:56.431 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 14:13:56.432 DEBUG 25418 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 14:13:56.434 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 14:13:56.436  WARN 25418 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 14:13:56.447 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:56.448 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:13:56.448 TRACE 25418 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:13:56.448 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:13:56.451 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.452 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:13:56.452 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 14:13:56.452 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:13:56.452 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 14:13:56.452 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 14:13:56.452 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:13:56.453 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 14:13:56.460 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:56.461 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:13:56.463 TRACE 25418 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:13:56.463 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:13:56.470 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.470 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:13:56.470 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:13:56.470 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:13:56.470 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:13:56.470 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 14:13:56.471 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:13:56.473 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.473 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:13:56.473 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:13:56.474 TRACE 25418 --- [main] c.p.a.controllers.UserController         : /user/{id} deleteUser() request
2022-02-17 14:13:56.474 TRACE 25418 --- [main] c.p.assignment1.services.UserService     : deleteUser()
2022-02-17 14:13:56.483 DEBUG 25418 --- [main] org.hibernate.SQL                        : select count(*) as col_0_0_ from user user0_ where user0_.id=?
2022-02-17 14:13:56.491 DEBUG 25418 --- [main] org.hibernate.SQL                        : update user set is_active=? where id=?
2022-02-17 14:13:56.511 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 14:13:56.517 DEBUG 25418 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 14:13:56.519 DEBUG 25418 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 14:13:56.522 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:56.522 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:13:56.522 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.522 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:56.558  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Revoke previously assigned partitions transactions-0
2022-02-17 14:13:56.557  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-db1b28e4-96b7-4f3a-a19e-3493d58ae890 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 14:13:56.562  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [transactions-0]
2022-02-17 14:13:56.563  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-1cbcdbd1-779f-4d47-bc2e-f605e2a947d5 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 14:13:56.564  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:13:56.564  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:13:56.564  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 14:13:56.564  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:13:56.564  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:13:56.564  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 14:13:56.566  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:13:56.565  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:13:56.568  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:13:56.568  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:13:56.571  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:13:56.571  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:13:56.571  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:13:56.571  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:13:56.572  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:13:56.572  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:13:56.579  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 14:13:56.579  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 14:13:56.583  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 14:13:56.583  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 14:13:56.593  INFO 25418 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 14:13:56.600  INFO 25418 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 14:13:56.614  INFO 25418 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
