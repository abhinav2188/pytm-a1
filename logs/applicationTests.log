2022-02-17 13:19:07.854  INFO 22531 --- [main] c.p.a.controllers.UserControllerIT       : Starting UserControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 22531 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 13:19:07.864 DEBUG 22531 --- [main] c.p.a.controllers.UserControllerIT       : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 13:19:07.864  INFO 22531 --- [main] c.p.a.controllers.UserControllerIT       : No active profile set, falling back to default profiles: default
2022-02-17 13:19:09.200  INFO 22531 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 13:19:09.307  INFO 22531 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 97 ms. Found 3 JPA repository interfaces.
2022-02-17 13:19:10.941  INFO 22531 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 13:19:10.957  INFO 22531 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 13:19:10.960  INFO 22531 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 13:19:11.164  INFO 22531 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 13:19:11.167  INFO 22531 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3267 ms
2022-02-17 13:19:11.755  INFO 22531 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 13:19:11.795  INFO 22531 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 13:19:11.968  INFO 22531 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 13:19:12.065  INFO 22531 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 13:19:12.772  INFO 22531 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 13:19:12.802  INFO 22531 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 13:19:13.970 DEBUG 22531 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 13:19:14.038 DEBUG 22531 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 13:19:14.045 DEBUG 22531 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 13:19:14.051 DEBUG 22531 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 13:19:14.058 DEBUG 22531 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 13:19:14.064 DEBUG 22531 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 13:19:14.071 DEBUG 22531 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 13:19:14.083 DEBUG 22531 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 13:19:14.092 DEBUG 22531 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 13:19:14.096 DEBUG 22531 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 13:19:14.110 DEBUG 22531 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 13:19:14.118 DEBUG 22531 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 13:19:14.125 DEBUG 22531 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 13:19:14.134 DEBUG 22531 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 13:19:14.142 DEBUG 22531 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 13:19:14.152 DEBUG 22531 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 13:19:14.165 DEBUG 22531 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 13:19:14.179 DEBUG 22531 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 13:19:14.198  INFO 22531 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 13:19:14.214  INFO 22531 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:19:15.166 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 13:19:15.168 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 13:19:15.287  WARN 22531 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 13:19:16.085  INFO 22531 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@694b1ddb, org.springframework.security.web.context.SecurityContextPersistenceFilter@4679554d, org.springframework.security.web.header.HeaderWriterFilter@323eecf8, org.springframework.security.web.authentication.logout.LogoutFilter@3d2eb7fa, com.paytm.assignment1.filters.JwtRequestFilter@69ab2d6a, com.paytm.assignment1.filters.UserAuthorizationFilter@57afe44b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@49353d43, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@744fb110, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5690c2a8, org.springframework.security.web.session.SessionManagementFilter@7affee54, org.springframework.security.web.access.ExceptionTranslationFilter@64d53f0d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@10301d6f]
2022-02-17 13:19:17.294  INFO 22531 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 13:19:17.296  INFO 22531 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 13:19:17.300  INFO 22531 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 4 ms
2022-02-17 13:19:17.426  INFO 22531 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 13:19:17.578  INFO 22531 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:19:17.578  INFO 22531 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:19:17.579  INFO 22531 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645084157574
2022-02-17 13:19:17.999  INFO 22531 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 13:19:18.006  INFO 22531 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:19:18.007  INFO 22531 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:19:18.007  INFO 22531 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:19:18.062  INFO 22531 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:19:18.115  INFO 22531 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:19:18.116  INFO 22531 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:19:18.116  INFO 22531 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645084158115
2022-02-17 13:19:18.118  INFO 22531 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 13:19:18.147  INFO 22531 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:19:18.176  INFO 22531 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:19:18.177  INFO 22531 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:19:18.178  INFO 22531 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645084158175
2022-02-17 13:19:18.180  INFO 22531 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 13:19:18.200  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:19:18.199  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:19:18.202  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:19:18.202  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:19:18.208  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:19:18.209  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:19:18.249  INFO 22531 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 56569 (http) with context path ''
2022-02-17 13:19:18.290  INFO 22531 --- [main] c.p.a.controllers.UserControllerIT       : Started UserControllerIT in 10.992 seconds (JVM running for 13.468)
2022-02-17 13:19:18.295  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:19:18.297  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:19:18.308  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:19:18.312  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:19:18.398  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=32, memberId='consumer-user-wallet-group-2-1862aec6-5d33-4042-97f5-74ed77e7b1d7', protocol='range'}
2022-02-17 13:19:18.398  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=32, memberId='consumer-user-wallet-group-1-18630dd2-a1ae-4b42-8b13-96b65a96e2ac', protocol='range'}
2022-02-17 13:19:18.426  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=32, memberId='consumer-user-wallet-group-2-1862aec6-5d33-4042-97f5-74ed77e7b1d7', protocol='range'}
2022-02-17 13:19:18.426  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=32, memberId='consumer-user-wallet-group-1-18630dd2-a1ae-4b42-8b13-96b65a96e2ac', protocol='range'}
2022-02-17 13:19:18.435  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[])
2022-02-17 13:19:18.436  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[transactions-0])
2022-02-17 13:19:18.436  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Adding newly assigned partitions: 
2022-02-17 13:19:18.441  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Adding newly assigned partitions: transactions-0
2022-02-17 13:19:18.442  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: []
2022-02-17 13:19:18.478  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Setting offset for partition transactions-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 13:19:18.483  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [transactions-0]
2022-02-17 13:19:18.797  INFO 22531 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-17 13:19:18.801  INFO 22531 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-17 13:19:18.803  INFO 22531 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-02-17 13:19:18.820 TRACE 22531 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:18.821 DEBUG 22531 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:19:18.821 TRACE 22531 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:18.821 DEBUG 22531 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:19:19.012 TRACE 22531 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:19.014 DEBUG 22531 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:19:19.015 TRACE 22531 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:19.015 DEBUG 22531 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:19:19.097 TRACE 22531 --- [http-nio-auto-1-exec-2] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:19:19.124 TRACE 22531 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:19:19.124 DEBUG 22531 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:19:19.182 DEBUG 22531 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:19:19.244 DEBUG 22531 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:19:19.251 DEBUG 22531 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:19:19.254 DEBUG 22531 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : user validations done
2022-02-17 13:19:19.313 DEBUG 22531 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 13:19:19.316 DEBUG 22531 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 13:19:19.340 DEBUG 22531 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 13:19:19.437 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:19.439 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:19:19.439 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:19.439 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:19:19.454 TRACE 22531 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:19:19.454 TRACE 22531 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:19:19.454 DEBUG 22531 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:19:19.457 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:19:19.471 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:19:19.479 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:19:19.486  WARN 22531 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 13:19:19.570 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:19.571 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:19:19.571 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:19.571 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:19:19.574 TRACE 22531 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:19:19.575 TRACE 22531 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:19:19.576 DEBUG 22531 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:19:19.576 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:19:19.583 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:19:19.585  WARN 22531 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :email
2022-02-17 13:19:19.609 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:19.609 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:19:19.609 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:19.609 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:19:19.611 TRACE 22531 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:19:19.611 TRACE 22531 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:19:19.611 DEBUG 22531 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:19:19.612  WARN 22531 --- [main] c.p.a.exceptions.EmptyFieldException     : Empty Field: userName
2022-02-17 13:19:19.621 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:19.622 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:19:19.622 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:19.622 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:19:19.623 TRACE 22531 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:19:19.623 TRACE 22531 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:19:19.623 DEBUG 22531 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:19:19.623 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:19:19.625 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:19:19.628 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:19:19.630 DEBUG 22531 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 13:19:19.631 DEBUG 22531 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 13:19:19.633 DEBUG 22531 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 13:19:19.636 DEBUG 22531 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 13:19:19.654 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:19.655 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:19:19.655 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:19.655 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:19:19.662 TRACE 22531 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 13:19:19.664 TRACE 22531 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:19:19.677 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:19:19.699 TRACE 22531 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:19:19.700 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:19:19.800 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:19.801 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:19:19.801 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:19.802 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:19:19.806 TRACE 22531 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 13:19:19.806 TRACE 22531 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:19:19.807 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:19:19.833 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:19.859 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:19:19.859 TRACE 22531 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:19:19.895 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:19:19.909 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:19.910 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:19:19.910 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:19:19.910 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:19:19.926 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:19:19.943 TRACE 22531 --- [main] c.p.a.controllers.UserController         : /user/{id} getUser() request
2022-02-17 13:19:19.944 TRACE 22531 --- [main] c.p.assignment1.services.UserService     : getUser()
2022-02-17 13:19:19.965 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:19:20.015 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:20.016 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:19:20.016 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:20.016 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:19:20.031 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:20.034 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:19:20.034 TRACE 22531 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:19:20.036 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:19:20.044 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:20.044 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:19:20.044 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 13:19:20.044 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 13:19:20.045 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:19:20.049 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:19:20.052 TRACE 22531 --- [main] c.p.a.controllers.UserController         : /user/{id} getUser() request
2022-02-17 13:19:20.052 TRACE 22531 --- [main] c.p.assignment1.services.UserService     : getUser()
2022-02-17 13:19:20.053 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:19:20.057  WARN 22531 --- [main] c.p.a.exceptions.UserNotFoundException   : 3
2022-02-17 13:19:20.099 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:20.103 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:19:20.103 TRACE 22531 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:19:20.104 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:19:20.110 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:20.110 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:19:20.110 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 13:19:20.110 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 13:19:20.111 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:19:20.112 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:19:20.114 TRACE 22531 --- [main] c.p.a.controllers.UserController         : /user/{id} getUser() request
2022-02-17 13:19:20.114 TRACE 22531 --- [main] c.p.assignment1.services.UserService     : getUser()
2022-02-17 13:19:20.115 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:19:20.127 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:20.130 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:19:20.130 TRACE 22531 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:19:20.131 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:19:20.134 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:20.134 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:19:20.134 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:19:20.134 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:19:20.135 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:19:20.141 TRACE 22531 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:19:20.145 TRACE 22531 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:19:20.145 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:19:20.153 DEBUG 22531 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:19:20.155 DEBUG 22531 --- [main] c.p.assignment1.services.UserService     : validation complete
2022-02-17 13:19:20.165 DEBUG 22531 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 13:19:20.202 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:20.204 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:19:20.204 TRACE 22531 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:19:20.204 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:19:20.211 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:20.211 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:19:20.211 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 13:19:20.211 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 13:19:20.212 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:19:20.213 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:19:20.215 TRACE 22531 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:19:20.216 TRACE 22531 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:19:20.216 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:19:20.218  WARN 22531 --- [main] c.p.a.exceptions.UserNotFoundException   : 3
2022-02-17 13:19:20.230 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:20.230 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:19:20.231 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:20.231 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:19:20.243 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:20.244 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:19:20.244 TRACE 22531 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:19:20.245 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:19:20.249 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:20.249 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:19:20.249 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:19:20.249 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:19:20.250 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:19:20.252 TRACE 22531 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:19:20.253 TRACE 22531 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:19:20.255 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:19:20.259 DEBUG 22531 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:19:20.261 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:19:20.262  WARN 22531 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 13:19:20.272 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:20.273 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:19:20.274 TRACE 22531 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:19:20.275 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:19:20.279 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:20.279 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:19:20.279 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 13:19:20.279 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 13:19:20.279 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:19:20.281 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:19:20.286 TRACE 22531 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:19:20.287 TRACE 22531 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:19:20.288 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:19:20.291 DEBUG 22531 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:19:20.292 DEBUG 22531 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 13:19:20.294 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:19:20.296 DEBUG 22531 --- [main] c.p.assignment1.services.UserService     : validation complete
2022-02-17 13:19:20.297 DEBUG 22531 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 13:19:20.306 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:20.308 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:19:20.308 TRACE 22531 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:19:20.308 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:19:20.313 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:20.314 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:19:20.314 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:19:20.314 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:19:20.315 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:19:20.320 TRACE 22531 --- [main] c.p.a.controllers.UserController         : /user/{id} deleteUser() request
2022-02-17 13:19:20.322 TRACE 22531 --- [main] c.p.assignment1.services.UserService     : deleteUser()
2022-02-17 13:19:20.336 DEBUG 22531 --- [main] org.hibernate.SQL                        : select count(*) as col_0_0_ from user user0_ where user0_.id=?
2022-02-17 13:19:20.350 DEBUG 22531 --- [main] org.hibernate.SQL                        : update user set is_active=? where id=?
2022-02-17 13:19:20.368 DEBUG 22531 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 13:19:20.381 DEBUG 22531 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 13:19:20.383 DEBUG 22531 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 13:19:20.386 TRACE 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:19:20.386 DEBUG 22531 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:19:20.386 TRACE 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:19:20.386 DEBUG 22531 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:19:20.424  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Revoke previously assigned partitions transactions-0
2022-02-17 13:19:20.424  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-1862aec6-5d33-4042-97f5-74ed77e7b1d7 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:19:20.428  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [transactions-0]
2022-02-17 13:19:20.429  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:19:20.429  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:19:20.429  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:19:20.429  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:19:20.430  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:19:20.430  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-18630dd2-a1ae-4b42-8b13-96b65a96e2ac sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:19:20.430  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:19:20.430  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:19:20.430  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:19:20.431  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:19:20.431  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:19:20.433  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:19:20.433  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:19:20.434  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:19:20.433  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:19:20.434  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:19:20.434  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:19:20.440  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 13:19:20.440  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 13:19:20.443  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:19:20.443  INFO 22531 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:19:20.454  INFO 22531 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:19:20.461  INFO 22531 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 13:19:20.475  INFO 22531 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 13:20:55.754  INFO 22617 --- [main] c.p.a.controllers.UserControllerIT       : Starting UserControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 22617 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 13:20:55.756 DEBUG 22617 --- [main] c.p.a.controllers.UserControllerIT       : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 13:20:55.756  INFO 22617 --- [main] c.p.a.controllers.UserControllerIT       : No active profile set, falling back to default profiles: default
2022-02-17 13:20:57.087  INFO 22617 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 13:20:57.200  INFO 22617 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 104 ms. Found 3 JPA repository interfaces.
2022-02-17 13:20:58.850  INFO 22617 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 13:20:58.869  INFO 22617 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 13:20:58.870  INFO 22617 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 13:20:59.071  INFO 22617 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 13:20:59.072  INFO 22617 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3292 ms
2022-02-17 13:20:59.719  INFO 22617 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 13:20:59.753  INFO 22617 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 13:20:59.893  INFO 22617 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 13:20:59.981  INFO 22617 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 13:21:00.683  INFO 22617 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 13:21:00.710  INFO 22617 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 13:21:01.817 DEBUG 22617 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 13:21:01.860 DEBUG 22617 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 13:21:01.870 DEBUG 22617 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 13:21:01.877 DEBUG 22617 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 13:21:01.881 DEBUG 22617 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 13:21:01.888 DEBUG 22617 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 13:21:01.897 DEBUG 22617 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 13:21:01.905 DEBUG 22617 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 13:21:01.914 DEBUG 22617 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 13:21:01.917 DEBUG 22617 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 13:21:01.928 DEBUG 22617 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 13:21:01.938 DEBUG 22617 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 13:21:01.944 DEBUG 22617 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 13:21:01.954 DEBUG 22617 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 13:21:01.961 DEBUG 22617 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 13:21:01.973 DEBUG 22617 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 13:21:01.989 DEBUG 22617 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 13:21:02.004 DEBUG 22617 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 13:21:02.024  INFO 22617 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 13:21:02.031  INFO 22617 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:21:02.969 DEBUG 22617 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 13:21:02.972 DEBUG 22617 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 13:21:03.124  WARN 22617 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 13:21:03.847  INFO 22617 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@59cde35, org.springframework.security.web.context.SecurityContextPersistenceFilter@73852720, org.springframework.security.web.header.HeaderWriterFilter@1835b783, org.springframework.security.web.authentication.logout.LogoutFilter@6c8ad6d7, com.paytm.assignment1.filters.JwtRequestFilter@b81938d, com.paytm.assignment1.filters.UserAuthorizationFilter@2aa0feb2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ae0a26, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7845ee8a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@43de9fc9, org.springframework.security.web.session.SessionManagementFilter@f6bc75c, org.springframework.security.web.access.ExceptionTranslationFilter@4b240276, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6f67ece5]
2022-02-17 13:21:05.111  INFO 22617 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 13:21:05.114  INFO 22617 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 13:21:05.117  INFO 22617 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2022-02-17 13:21:05.304  INFO 22617 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 13:21:05.479  INFO 22617 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:21:05.480  INFO 22617 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:21:05.481  INFO 22617 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645084265475
2022-02-17 13:21:05.915  INFO 22617 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 13:21:05.922  INFO 22617 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:21:05.922  INFO 22617 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:21:05.922  INFO 22617 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:21:05.982  INFO 22617 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:21:06.050  INFO 22617 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:21:06.052  INFO 22617 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:21:06.053  INFO 22617 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645084266050
2022-02-17 13:21:06.055  INFO 22617 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 13:21:06.093  INFO 22617 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:21:06.128  INFO 22617 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:21:06.130  INFO 22617 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:21:06.130  INFO 22617 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645084266128
2022-02-17 13:21:06.133  INFO 22617 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 13:21:06.146  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:21:06.146  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:21:06.149  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:21:06.150  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:21:06.159  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:21:06.159  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:21:06.206  INFO 22617 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 56611 (http) with context path ''
2022-02-17 13:21:06.233  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:21:06.233  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:21:06.237  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:21:06.237  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:21:06.246  INFO 22617 --- [main] c.p.a.controllers.UserControllerIT       : Started UserControllerIT in 11.219 seconds (JVM running for 13.524)
2022-02-17 13:21:06.621  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=34, memberId='consumer-user-wallet-group-2-32a59b60-27e8-4119-b842-e6d5b5426a4a', protocol='range'}
2022-02-17 13:21:06.621  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=34, memberId='consumer-user-wallet-group-1-e665870b-f6d2-4e08-802a-700e6c7a7418', protocol='range'}
2022-02-17 13:21:06.700  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-e665870b-f6d2-4e08-802a-700e6c7a7418 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:21:06.700  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-32a59b60-27e8-4119-b842-e6d5b5426a4a sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:21:06.704  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:21:06.704  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:21:06.704  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:21:06.704  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:21:06.704  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:21:06.704  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:21:06.705  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:21:06.706  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:21:06.706  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:21:06.706  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:21:06.728  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Generation data was cleared by heartbeat thread to Generation{generationId=-1, memberId='', protocol='null'} and state is now UNJOINED before receiving SyncGroup response, marking this rebalance as failed and retry
2022-02-17 13:21:06.728  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Generation data was cleared by heartbeat thread to Generation{generationId=-1, memberId='', protocol='null'} and state is now UNJOINED before receiving SyncGroup response, marking this rebalance as failed and retry
2022-02-17 13:21:06.738  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:21:06.738  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:21:06.738  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:21:06.738  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:21:06.738  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:21:06.738  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:21:06.745  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 13:21:06.756  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:21:06.757  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 13:21:06.757  INFO 22617 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:21:06.768  INFO 22617 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:21:06.776  INFO 22617 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 13:21:06.801  INFO 22617 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 13:21:45.755  INFO 22698 --- [main] c.p.a.controllers.UserControllerIT       : Starting UserControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 22698 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 13:21:45.758 DEBUG 22698 --- [main] c.p.a.controllers.UserControllerIT       : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 13:21:45.758  INFO 22698 --- [main] c.p.a.controllers.UserControllerIT       : No active profile set, falling back to default profiles: default
2022-02-17 13:21:47.023  INFO 22698 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 13:21:47.127  INFO 22698 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 96 ms. Found 3 JPA repository interfaces.
2022-02-17 13:21:48.696  INFO 22698 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 13:21:48.729  INFO 22698 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 13:21:48.729  INFO 22698 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 13:21:49.000  INFO 22698 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 13:21:49.001  INFO 22698 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3221 ms
2022-02-17 13:21:49.680  INFO 22698 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 13:21:49.726  INFO 22698 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 13:21:49.934  INFO 22698 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 13:21:50.062  INFO 22698 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 13:21:50.958  INFO 22698 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 13:21:50.992  INFO 22698 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 13:21:52.304 DEBUG 22698 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 13:21:52.348 DEBUG 22698 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 13:21:52.365 DEBUG 22698 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 13:21:52.377 DEBUG 22698 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 13:21:52.383 DEBUG 22698 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 13:21:52.390 DEBUG 22698 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 13:21:52.399 DEBUG 22698 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 13:21:52.415 DEBUG 22698 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 13:21:52.426 DEBUG 22698 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 13:21:52.429 DEBUG 22698 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 13:21:52.444 DEBUG 22698 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 13:21:52.451 DEBUG 22698 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 13:21:52.458 DEBUG 22698 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 13:21:52.466 DEBUG 22698 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 13:21:52.472 DEBUG 22698 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 13:21:52.484 DEBUG 22698 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 13:21:52.499 DEBUG 22698 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 13:21:52.519 DEBUG 22698 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 13:21:52.542  INFO 22698 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 13:21:52.550  INFO 22698 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:21:53.740 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 13:21:53.743 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 13:21:53.875  WARN 22698 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 13:21:54.694  INFO 22698 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10301d6f, org.springframework.security.web.context.SecurityContextPersistenceFilter@323eecf8, org.springframework.security.web.header.HeaderWriterFilter@6c8ad6d7, org.springframework.security.web.authentication.logout.LogoutFilter@14b9df65, com.paytm.assignment1.filters.JwtRequestFilter@399c408c, com.paytm.assignment1.filters.UserAuthorizationFilter@4a5fab78, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e355249, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c0ece6d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5cd6719d, org.springframework.security.web.session.SessionManagementFilter@1b10f60e, org.springframework.security.web.access.ExceptionTranslationFilter@64fc6470, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@28c7fd9d]
2022-02-17 13:21:56.880  INFO 22698 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 13:21:56.882  INFO 22698 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 13:21:56.885  INFO 22698 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2022-02-17 13:21:57.004  INFO 22698 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 13:21:57.131  INFO 22698 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:21:57.132  INFO 22698 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:21:57.132  INFO 22698 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645084317126
2022-02-17 13:21:57.579  INFO 22698 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 13:21:57.586  INFO 22698 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:21:57.586  INFO 22698 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:21:57.587  INFO 22698 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:21:57.633  INFO 22698 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:21:57.689  INFO 22698 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:21:57.690  INFO 22698 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:21:57.690  INFO 22698 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645084317689
2022-02-17 13:21:57.693  INFO 22698 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 13:21:57.721  INFO 22698 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:21:57.750  INFO 22698 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:21:57.752  INFO 22698 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:21:57.753  INFO 22698 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645084317749
2022-02-17 13:21:57.755  INFO 22698 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 13:21:57.765  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:21:57.766  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:21:57.769  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:21:57.770  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:21:57.777  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:21:57.777  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:21:57.805  INFO 22698 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 56652 (http) with context path ''
2022-02-17 13:21:57.822  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:21:57.821  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:21:57.825  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:21:57.825  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:21:57.835  INFO 22698 --- [main] c.p.a.controllers.UserControllerIT       : Started UserControllerIT in 12.616 seconds (JVM running for 14.916)
2022-02-17 13:21:58.236  INFO 22698 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-17 13:21:58.238  INFO 22698 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-17 13:21:58.241  INFO 22698 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2022-02-17 13:21:58.263 TRACE 22698 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:58.267 DEBUG 22698 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:21:58.267 TRACE 22698 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:58.267 DEBUG 22698 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:21:58.469 TRACE 22698 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:58.472 DEBUG 22698 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:21:58.472 TRACE 22698 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:58.472 DEBUG 22698 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:21:58.581 TRACE 22698 --- [http-nio-auto-1-exec-2] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:21:58.606 TRACE 22698 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:21:58.606 DEBUG 22698 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:21:58.666 DEBUG 22698 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:21:58.733 DEBUG 22698 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:21:58.741 DEBUG 22698 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:21:58.744 DEBUG 22698 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : user validations done
2022-02-17 13:21:58.813 DEBUG 22698 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 13:21:58.820 DEBUG 22698 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 13:21:58.859 DEBUG 22698 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 13:21:58.937 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:58.938 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:21:58.938 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:58.938 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:21:58.943 TRACE 22698 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:21:58.943 TRACE 22698 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:21:58.944 DEBUG 22698 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:21:58.945 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:21:58.950 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:21:58.953 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:21:58.958  WARN 22698 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 13:21:59.060 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.062 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:21:59.062 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.062 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:21:59.069 TRACE 22698 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:21:59.069 TRACE 22698 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:21:59.069 DEBUG 22698 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:21:59.071 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:21:59.080 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:21:59.081  WARN 22698 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :email
2022-02-17 13:21:59.101 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.101 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:21:59.101 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.101 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:21:59.103 TRACE 22698 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:21:59.103 TRACE 22698 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:21:59.103 DEBUG 22698 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:21:59.104  WARN 22698 --- [main] c.p.a.exceptions.EmptyFieldException     : Empty Field: userName
2022-02-17 13:21:59.121 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.122 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:21:59.122 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.122 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:21:59.123 TRACE 22698 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:21:59.125 TRACE 22698 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:21:59.126 DEBUG 22698 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:21:59.127 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:21:59.129 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:21:59.130 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:21:59.132 DEBUG 22698 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 13:21:59.133 DEBUG 22698 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 13:21:59.134 DEBUG 22698 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 13:21:59.138 DEBUG 22698 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 13:21:59.157 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.158 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:21:59.158 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.158 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:21:59.162 TRACE 22698 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 13:21:59.165 TRACE 22698 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:21:59.180 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:21:59.202 TRACE 22698 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:21:59.203 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:21:59.279 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.281 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:21:59.281 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.281 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:21:59.284 TRACE 22698 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 13:21:59.285 TRACE 22698 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:21:59.285 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:21:59.312 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.336 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:21:59.337 TRACE 22698 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:21:59.369 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:21:59.384 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.386 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:21:59.386 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:21:59.387 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:21:59.410 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:21:59.430 TRACE 22698 --- [main] c.p.a.controllers.UserController         : /user/{id} getUser() request
2022-02-17 13:21:59.430 TRACE 22698 --- [main] c.p.assignment1.services.UserService     : getUser()
2022-02-17 13:21:59.445 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:21:59.480 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.480 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:21:59.480 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.480 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:21:59.489 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.491 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:21:59.491 TRACE 22698 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:21:59.492 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:21:59.497 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.497 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:21:59.497 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 13:21:59.497 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 13:21:59.498 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:21:59.499 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:21:59.500 TRACE 22698 --- [main] c.p.a.controllers.UserController         : /user/{id} getUser() request
2022-02-17 13:21:59.500 TRACE 22698 --- [main] c.p.assignment1.services.UserService     : getUser()
2022-02-17 13:21:59.502 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:21:59.505  WARN 22698 --- [main] c.p.a.exceptions.UserNotFoundException   : 3
2022-02-17 13:21:59.515 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.518 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:21:59.520 TRACE 22698 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:21:59.521 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:21:59.527 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.531 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:21:59.531 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 13:21:59.531 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 13:21:59.532 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:21:59.534 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:21:59.541 TRACE 22698 --- [main] c.p.a.controllers.UserController         : /user/{id} getUser() request
2022-02-17 13:21:59.542 TRACE 22698 --- [main] c.p.assignment1.services.UserService     : getUser()
2022-02-17 13:21:59.543 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:21:59.562 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.568 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:21:59.568 TRACE 22698 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:21:59.568 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:21:59.572 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.573 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:21:59.573 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:21:59.573 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:21:59.573 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:21:59.580 TRACE 22698 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:21:59.582 TRACE 22698 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:21:59.582 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:21:59.584 DEBUG 22698 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:21:59.585 DEBUG 22698 --- [main] c.p.assignment1.services.UserService     : validation complete
2022-02-17 13:21:59.592 DEBUG 22698 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 13:21:59.639 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.642 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:21:59.642 TRACE 22698 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:21:59.643 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:21:59.648 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.649 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:21:59.650 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 13:21:59.650 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 13:21:59.650 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:21:59.651 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:21:59.654 TRACE 22698 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:21:59.655 TRACE 22698 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:21:59.655 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:21:59.657  WARN 22698 --- [main] c.p.a.exceptions.UserNotFoundException   : 3
2022-02-17 13:21:59.678 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.679 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:21:59.679 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.679 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:21:59.691 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.693 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:21:59.693 TRACE 22698 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:21:59.694 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:21:59.698 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.698 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:21:59.698 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:21:59.698 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:21:59.698 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:21:59.701 TRACE 22698 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:21:59.702 TRACE 22698 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:21:59.702 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:21:59.704 DEBUG 22698 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:21:59.705 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:21:59.706  WARN 22698 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 13:21:59.716 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.717 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:21:59.718 TRACE 22698 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:21:59.718 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:21:59.721 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.722 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:21:59.723 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 13:21:59.723 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 13:21:59.723 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:21:59.724 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:21:59.728 TRACE 22698 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:21:59.729 TRACE 22698 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:21:59.729 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:21:59.732 DEBUG 22698 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:21:59.734 DEBUG 22698 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 13:21:59.735 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:21:59.736 DEBUG 22698 --- [main] c.p.assignment1.services.UserService     : validation complete
2022-02-17 13:21:59.738 DEBUG 22698 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 13:21:59.747 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.748 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:21:59.748 TRACE 22698 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:21:59.749 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:21:59.753 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.753 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:21:59.753 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:21:59.753 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:21:59.754 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:21:59.757 TRACE 22698 --- [main] c.p.a.controllers.UserController         : /user/{id} deleteUser() request
2022-02-17 13:21:59.758 TRACE 22698 --- [main] c.p.assignment1.services.UserService     : deleteUser()
2022-02-17 13:21:59.768 DEBUG 22698 --- [main] org.hibernate.SQL                        : select count(*) as col_0_0_ from user user0_ where user0_.id=?
2022-02-17 13:21:59.780 DEBUG 22698 --- [main] org.hibernate.SQL                        : update user set is_active=? where id=?
2022-02-17 13:21:59.804 DEBUG 22698 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 13:21:59.813 DEBUG 22698 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 13:21:59.815 DEBUG 22698 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 13:21:59.817 TRACE 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:21:59.818 DEBUG 22698 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:21:59.819 TRACE 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:21:59.819 DEBUG 22698 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:21:59.870  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-8976d6af-dd1c-4508-9264-05209ea6f233 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:21:59.870  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-55507581-a340-4eb2-bc8e-2c590f15acda sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:21:59.949  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:21:59.949  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:21:59.951  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:21:59.951  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:21:59.951  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:21:59.951  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:21:59.953  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:21:59.953  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:21:59.953  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:21:59.953  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:22:00.760  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:22:00.760  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:22:00.762  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:22:00.762  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:22:00.763  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:22:00.763  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:22:00.771  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 13:22:00.772  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 13:22:00.781  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:22:00.781  INFO 22698 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:22:00.799  INFO 22698 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:22:00.807  INFO 22698 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 13:22:00.824  INFO 22698 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 13:22:38.207  INFO 22749 --- [main] c.p.a.controllers.UserControllerIT       : Starting UserControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 22749 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 13:22:38.209 DEBUG 22749 --- [main] c.p.a.controllers.UserControllerIT       : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 13:22:38.209  INFO 22749 --- [main] c.p.a.controllers.UserControllerIT       : No active profile set, falling back to default profiles: default
2022-02-17 13:22:39.810  INFO 22749 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 13:22:39.949  INFO 22749 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 129 ms. Found 3 JPA repository interfaces.
2022-02-17 13:22:42.371  INFO 22749 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 13:22:42.391  INFO 22749 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 13:22:42.392  INFO 22749 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 13:22:42.732  INFO 22749 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 13:22:42.733  INFO 22749 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4490 ms
2022-02-17 13:22:43.534  INFO 22749 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 13:22:43.618  INFO 22749 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 13:22:43.844  INFO 22749 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 13:22:43.979  INFO 22749 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 13:22:44.831  INFO 22749 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 13:22:44.908  INFO 22749 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 13:22:46.318 DEBUG 22749 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 13:22:46.363 DEBUG 22749 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 13:22:46.380 DEBUG 22749 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 13:22:46.392 DEBUG 22749 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 13:22:46.398 DEBUG 22749 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 13:22:46.404 DEBUG 22749 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 13:22:46.414 DEBUG 22749 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 13:22:46.427 DEBUG 22749 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 13:22:46.436 DEBUG 22749 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 13:22:46.438 DEBUG 22749 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 13:22:46.450 DEBUG 22749 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 13:22:46.457 DEBUG 22749 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 13:22:46.465 DEBUG 22749 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 13:22:46.473 DEBUG 22749 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 13:22:46.488 DEBUG 22749 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 13:22:46.500 DEBUG 22749 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 13:22:46.514 DEBUG 22749 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 13:22:46.529 DEBUG 22749 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 13:22:46.549  INFO 22749 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 13:22:46.569  INFO 22749 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:22:47.724 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 13:22:47.728 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 13:22:48.041  WARN 22749 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 13:22:49.166  INFO 22749 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4d408746, org.springframework.security.web.context.SecurityContextPersistenceFilter@5889e697, org.springframework.security.web.header.HeaderWriterFilter@1ead6e20, org.springframework.security.web.authentication.logout.LogoutFilter@333e01c6, com.paytm.assignment1.filters.JwtRequestFilter@1254a3cd, com.paytm.assignment1.filters.UserAuthorizationFilter@230dd372, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@48064a5a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@257e8c43, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6ae55678, org.springframework.security.web.session.SessionManagementFilter@2e895acb, org.springframework.security.web.access.ExceptionTranslationFilter@53a645a2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@76e4df53]
2022-02-17 13:22:51.415  INFO 22749 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 13:22:51.417  INFO 22749 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 13:22:51.422  INFO 22749 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 5 ms
2022-02-17 13:22:51.670  INFO 22749 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 13:22:51.935  INFO 22749 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:22:51.936  INFO 22749 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:22:51.936  INFO 22749 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645084371924
2022-02-17 13:22:52.414  INFO 22749 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 13:22:52.421  INFO 22749 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:22:52.421  INFO 22749 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:22:52.422  INFO 22749 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:22:52.474  INFO 22749 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:22:52.574  INFO 22749 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:22:52.577  INFO 22749 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:22:52.577  INFO 22749 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645084372574
2022-02-17 13:22:52.581  INFO 22749 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 13:22:52.640  INFO 22749 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:22:52.706  INFO 22749 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:22:52.710  INFO 22749 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:22:52.710  INFO 22749 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645084372706
2022-02-17 13:22:52.712  INFO 22749 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 13:22:52.751  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:22:52.751  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:22:52.754  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:22:52.754  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:22:52.765  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:22:52.765  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:22:52.787  INFO 22749 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 56694 (http) with context path ''
2022-02-17 13:22:52.819  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:22:52.819  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:22:52.822  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:22:52.822  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:22:52.831  INFO 22749 --- [main] c.p.a.controllers.UserControllerIT       : Started UserControllerIT in 15.204 seconds (JVM running for 19.624)
2022-02-17 13:22:53.326  INFO 22749 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-17 13:22:53.328  INFO 22749 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-17 13:22:53.330  INFO 22749 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2022-02-17 13:22:53.357 TRACE 22749 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:22:53.361 DEBUG 22749 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:22:53.361 TRACE 22749 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:22:53.361 DEBUG 22749 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:22:53.578 TRACE 22749 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:22:53.579 DEBUG 22749 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:22:53.580 TRACE 22749 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:22:53.580 DEBUG 22749 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:22:53.690 TRACE 22749 --- [http-nio-auto-1-exec-2] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:22:53.717 TRACE 22749 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:22:53.718 DEBUG 22749 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:22:53.772 DEBUG 22749 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:22:53.842 DEBUG 22749 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:22:53.852 DEBUG 22749 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:22:53.856 DEBUG 22749 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : user validations done
2022-02-17 13:22:53.937 DEBUG 22749 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 13:22:53.941 DEBUG 22749 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 13:22:53.976 DEBUG 22749 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 13:22:54.082 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:22:54.086 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:22:54.086 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:22:54.086 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:22:54.098 TRACE 22749 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:22:54.099 TRACE 22749 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:22:54.099 DEBUG 22749 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:22:54.102 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:22:54.116 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:22:54.118 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:22:54.124  WARN 22749 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 13:22:54.226 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:22:54.227 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:22:54.227 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:22:54.227 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:22:54.230 TRACE 22749 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:22:54.231 TRACE 22749 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:22:54.231 DEBUG 22749 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:22:54.232 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:22:54.238 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:22:54.240  WARN 22749 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :email
2022-02-17 13:22:54.264 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:22:54.269 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:22:54.270 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:22:54.270 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:22:54.272 TRACE 22749 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:22:54.272 TRACE 22749 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:22:54.272 DEBUG 22749 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:22:54.272  WARN 22749 --- [main] c.p.a.exceptions.EmptyFieldException     : Empty Field: userName
2022-02-17 13:22:54.285 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:22:54.287 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:22:54.287 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:22:54.287 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:22:54.288 TRACE 22749 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:22:54.291 TRACE 22749 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:22:54.292 DEBUG 22749 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:22:54.292 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:22:54.294 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:22:54.295 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:22:54.296 DEBUG 22749 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 13:22:54.298 DEBUG 22749 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 13:22:54.299 DEBUG 22749 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 13:22:54.301 DEBUG 22749 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 13:22:54.327 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:22:54.327 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:22:54.327 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:22:54.327 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:22:54.332 TRACE 22749 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 13:22:54.335 TRACE 22749 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:22:54.351 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:22:54.372 TRACE 22749 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:22:54.373 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:22:54.484 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:22:54.486 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:22:54.486 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:22:54.486 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:22:54.488 TRACE 22749 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 13:22:54.489 TRACE 22749 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:22:54.489 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:22:54.520 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:22:54.551 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:22:54.553 TRACE 22749 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:22:54.589 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:22:54.602 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:22:54.604 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:22:54.605 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:22:54.605 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:22:54.623 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:22:54.640 TRACE 22749 --- [main] c.p.a.controllers.UserController         : /user/{id} getUser() request
2022-02-17 13:22:54.641 TRACE 22749 --- [main] c.p.assignment1.services.UserService     : getUser()
2022-02-17 13:22:54.662 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:22:54.722 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:22:54.723 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:22:54.723 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:22:54.723 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:23:49.405  WARN 22749 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m4s449ms).
2022-02-17 13:23:57.078 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:23:57.089  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=38, memberId='consumer-user-wallet-group-1-edbc89fb-810f-408c-84b4-9d09abe75918', protocol='range'}
2022-02-17 13:23:57.089  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=38, memberId='consumer-user-wallet-group-2-04e44968-e60c-4dad-84e6-b4683bd24005', protocol='range'}
2022-02-17 13:23:57.102 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:23:57.102 TRACE 22749 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:23:57.114 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:23:57.130  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] SyncGroup failed: The coordinator is not aware of this member. Need to re-join the group. Sent generation was Generation{generationId=38, memberId='consumer-user-wallet-group-2-04e44968-e60c-4dad-84e6-b4683bd24005', protocol='range'}
2022-02-17 13:23:57.130  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] SyncGroup failed: The coordinator is not aware of this member. Need to re-join the group. Sent generation was Generation{generationId=38, memberId='consumer-user-wallet-group-1-edbc89fb-810f-408c-84b4-9d09abe75918', protocol='range'}
2022-02-17 13:23:57.140  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: encountered UNKNOWN_MEMBER_ID from SYNC_GROUP response
2022-02-17 13:23:57.140  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: encountered UNKNOWN_MEMBER_ID from SYNC_GROUP response
2022-02-17 13:23:57.141  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: encountered UNKNOWN_MEMBER_ID from SYNC_GROUP response
2022-02-17 13:23:57.141  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: encountered UNKNOWN_MEMBER_ID from SYNC_GROUP response
2022-02-17 13:23:57.143  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:23:57.143  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:23:57.149  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:23:57.148  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:23:57.150  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:23:57.150  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:23:57.156 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:23:57.156 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:23:57.156 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 13:23:57.156 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 13:23:57.158 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:23:57.163 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:23:57.172 TRACE 22749 --- [main] c.p.a.controllers.UserController         : /user/{id} getUser() request
2022-02-17 13:23:57.173 TRACE 22749 --- [main] c.p.assignment1.services.UserService     : getUser()
2022-02-17 13:23:57.181 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:23:57.198  WARN 22749 --- [main] c.p.a.exceptions.UserNotFoundException   : 3
2022-02-17 13:33:39.141  WARN 22749 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=9m49s743ms).
2022-02-17 13:33:39.223  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Group coordinator localhost:9092 (id: 2147483647 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
2022-02-17 13:33:39.223  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Group coordinator localhost:9092 (id: 2147483647 rack: null) is unavailable or invalid due to cause: null.isDisconnected: true. Rediscovery will be attempted.
2022-02-17 13:33:39.310  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:33:39.310  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:33:39.315  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:33:39.315  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:33:39.317 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:33:39.337  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] JoinGroup failed: The coordinator is not aware of this member. Need to re-join the group. Sent generation was Generation{generationId=-1, memberId='consumer-user-wallet-group-2-9870e0ea-f381-422c-9c44-ac8246ece5d2', protocol='null'}
2022-02-17 13:33:39.337  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] JoinGroup failed: The coordinator is not aware of this member. Need to re-join the group. Sent generation was Generation{generationId=-1, memberId='consumer-user-wallet-group-1-21089001-b7ab-4b79-9516-a4b566e64aad', protocol='null'}
2022-02-17 13:33:39.340  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: encountered UNKNOWN_MEMBER_ID from JOIN_GROUP response
2022-02-17 13:33:39.340  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: encountered UNKNOWN_MEMBER_ID from JOIN_GROUP response
2022-02-17 13:33:39.341  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: encountered UNKNOWN_MEMBER_ID from JOIN_GROUP response
2022-02-17 13:33:39.341  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: encountered UNKNOWN_MEMBER_ID from JOIN_GROUP response
2022-02-17 13:33:39.343  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:33:39.343  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:33:39.344 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:33:39.344 TRACE 22749 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:33:39.354  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:33:39.354  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:33:39.355  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:33:39.355  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:33:39.361 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:33:39.372  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-dec606f6-3249-4783-8987-02fc0ee6bcf8 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:33:39.372  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-344080ec-6fee-4bf6-80f7-391fb03e82be sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:33:39.375  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:33:39.375  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:33:39.375  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:33:39.375  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:33:39.375  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:33:39.375  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:33:39.380  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:33:39.380  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:33:39.381  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:33:39.381  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:33:39.393 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:33:39.393 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:33:39.393 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 13:33:39.394 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 13:33:39.395 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:33:39.398 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:33:39.404 TRACE 22749 --- [main] c.p.a.controllers.UserController         : /user/{id} getUser() request
2022-02-17 13:33:39.404 TRACE 22749 --- [main] c.p.assignment1.services.UserService     : getUser()
2022-02-17 13:33:39.407 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:33:39.439 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:33:39.442 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:33:39.442 TRACE 22749 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:33:39.443 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:33:39.451 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:33:39.452 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:33:39.452 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:33:39.452 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:33:39.453 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:33:39.465 TRACE 22749 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:33:39.472 TRACE 22749 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:33:39.473 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:33:39.485 DEBUG 22749 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:33:39.486 DEBUG 22749 --- [main] c.p.assignment1.services.UserService     : validation complete
2022-02-17 13:33:39.508 DEBUG 22749 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 13:33:39.560 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:33:39.564 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:33:39.565 TRACE 22749 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:33:39.566 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:33:39.570 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:33:39.571 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:33:39.571 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 13:33:39.571 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 13:33:39.571 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:33:39.573 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:33:39.575 TRACE 22749 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:33:39.576 TRACE 22749 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:33:39.577 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:33:39.580  WARN 22749 --- [main] c.p.a.exceptions.UserNotFoundException   : 3
2022-02-17 13:33:39.592 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:33:39.593 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:33:39.593 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:33:39.593 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:33:39.602 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:33:39.605 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:33:39.605 TRACE 22749 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:33:39.606 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:33:39.609 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:33:39.609 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:33:39.609 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:33:39.609 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:33:39.610 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:33:39.613 TRACE 22749 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:33:39.614 TRACE 22749 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:33:39.614 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:33:39.616 DEBUG 22749 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:33:39.617 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:33:39.618  WARN 22749 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 13:33:39.628 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:33:39.631 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:33:39.631 TRACE 22749 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:33:39.632 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:33:39.635 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:33:39.635 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:33:39.635 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 13:33:39.635 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 13:33:39.636 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:33:39.637 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:33:39.639 TRACE 22749 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:33:39.640 TRACE 22749 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:33:39.640 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:33:39.643 DEBUG 22749 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:33:39.644 DEBUG 22749 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 13:33:39.646 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:33:39.647 DEBUG 22749 --- [main] c.p.assignment1.services.UserService     : validation complete
2022-02-17 13:33:39.648 DEBUG 22749 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 13:33:39.665 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:33:39.666 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:33:39.666 TRACE 22749 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:33:39.667 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:33:39.672 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:33:39.673 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:33:39.673 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:33:39.674 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:33:39.675 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:33:39.680 TRACE 22749 --- [main] c.p.a.controllers.UserController         : /user/{id} deleteUser() request
2022-02-17 13:33:39.683 TRACE 22749 --- [main] c.p.assignment1.services.UserService     : deleteUser()
2022-02-17 13:33:39.698 DEBUG 22749 --- [main] org.hibernate.SQL                        : select count(*) as col_0_0_ from user user0_ where user0_.id=?
2022-02-17 13:33:39.715 DEBUG 22749 --- [main] org.hibernate.SQL                        : update user set is_active=? where id=?
2022-02-17 13:33:39.733 DEBUG 22749 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 13:33:39.740 DEBUG 22749 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 13:33:39.742 DEBUG 22749 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 13:33:39.746 TRACE 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:33:39.746 DEBUG 22749 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:33:39.746 TRACE 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:33:39.746 DEBUG 22749 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:33:41.087  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:33:41.087  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:33:41.089  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:33:41.089  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:33:41.090  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:33:41.090  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:33:41.108  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 13:33:41.109  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:33:41.110  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 13:33:41.111  INFO 22749 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:33:41.117  INFO 22749 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:33:41.121  INFO 22749 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 13:33:41.133  INFO 22749 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 13:33:48.821  INFO 23294 --- [main] c.p.a.controllers.UserControllerIT       : Starting UserControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 23294 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 13:33:48.823 DEBUG 23294 --- [main] c.p.a.controllers.UserControllerIT       : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 13:33:48.823  INFO 23294 --- [main] c.p.a.controllers.UserControllerIT       : No active profile set, falling back to default profiles: default
2022-02-17 13:33:50.486  INFO 23294 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 13:33:50.606  INFO 23294 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 112 ms. Found 3 JPA repository interfaces.
2022-02-17 13:33:52.439  INFO 23294 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 13:33:52.456  INFO 23294 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 13:33:52.456  INFO 23294 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 13:33:52.675  INFO 23294 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 13:33:52.676  INFO 23294 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3825 ms
2022-02-17 13:33:53.422  INFO 23294 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 13:33:53.458  INFO 23294 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 13:33:53.602  INFO 23294 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 13:33:53.735  INFO 23294 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 13:33:54.426  INFO 23294 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 13:33:54.456  INFO 23294 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 13:33:55.628 DEBUG 23294 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 13:33:55.674 DEBUG 23294 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 13:33:55.680 DEBUG 23294 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 13:33:55.688 DEBUG 23294 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 13:33:55.694 DEBUG 23294 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 13:33:55.702 DEBUG 23294 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 13:33:55.707 DEBUG 23294 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 13:33:55.717 DEBUG 23294 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 13:33:55.729 DEBUG 23294 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 13:33:55.732 DEBUG 23294 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 13:33:55.744 DEBUG 23294 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 13:33:55.752 DEBUG 23294 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 13:33:55.759 DEBUG 23294 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 13:33:55.769 DEBUG 23294 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 13:33:55.775 DEBUG 23294 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 13:33:55.786 DEBUG 23294 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 13:33:55.800 DEBUG 23294 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 13:33:55.813 DEBUG 23294 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 13:33:55.833  INFO 23294 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 13:33:55.840  INFO 23294 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:33:56.977 DEBUG 23294 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 13:33:56.980 DEBUG 23294 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 13:33:57.138  WARN 23294 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 13:34:01.976  INFO 23307 --- [main] c.p.a.controllers.UserControllerIT       : Starting UserControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 23307 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 13:34:01.977 DEBUG 23307 --- [main] c.p.a.controllers.UserControllerIT       : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 13:34:01.978  INFO 23307 --- [main] c.p.a.controllers.UserControllerIT       : No active profile set, falling back to default profiles: default
2022-02-17 13:34:03.339  INFO 23307 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 13:34:03.445  INFO 23307 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 97 ms. Found 3 JPA repository interfaces.
2022-02-17 13:34:05.252  INFO 23307 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 13:34:05.275  INFO 23307 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 13:34:05.276  INFO 23307 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 13:34:05.540  INFO 23307 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 13:34:05.541  INFO 23307 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3535 ms
2022-02-17 13:34:06.164  INFO 23307 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 13:34:06.219  INFO 23307 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 13:34:06.438  INFO 23307 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 13:34:06.592  INFO 23307 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 13:34:07.454  INFO 23307 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 13:34:07.522  INFO 23307 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 13:34:09.229 DEBUG 23307 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 13:34:09.276 DEBUG 23307 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 13:34:09.289 DEBUG 23307 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 13:34:09.302 DEBUG 23307 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 13:34:09.307 DEBUG 23307 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 13:34:09.312 DEBUG 23307 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 13:34:09.319 DEBUG 23307 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 13:34:09.330 DEBUG 23307 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 13:34:09.337 DEBUG 23307 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 13:34:09.340 DEBUG 23307 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 13:34:09.353 DEBUG 23307 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 13:34:09.360 DEBUG 23307 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 13:34:09.366 DEBUG 23307 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 13:34:09.373 DEBUG 23307 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 13:34:09.380 DEBUG 23307 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 13:34:09.396 DEBUG 23307 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 13:34:09.410 DEBUG 23307 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 13:34:09.424 DEBUG 23307 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 13:34:09.444  INFO 23307 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 13:34:09.458  INFO 23307 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:34:10.609 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 13:34:10.611 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 13:34:10.848  WARN 23307 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 13:34:12.115  INFO 23307 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4d408746, org.springframework.security.web.context.SecurityContextPersistenceFilter@5889e697, org.springframework.security.web.header.HeaderWriterFilter@1ead6e20, org.springframework.security.web.authentication.logout.LogoutFilter@333e01c6, com.paytm.assignment1.filters.JwtRequestFilter@1254a3cd, com.paytm.assignment1.filters.UserAuthorizationFilter@230dd372, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@48064a5a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@257e8c43, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6ae55678, org.springframework.security.web.session.SessionManagementFilter@2e895acb, org.springframework.security.web.access.ExceptionTranslationFilter@53a645a2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@76e4df53]
2022-02-17 13:34:14.243  INFO 23307 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 13:34:14.245  INFO 23307 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 13:34:14.254  INFO 23307 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 9 ms
2022-02-17 13:34:14.483  INFO 23307 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 13:34:14.657  INFO 23307 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:34:14.657  INFO 23307 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:34:14.657  INFO 23307 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645085054651
2022-02-17 13:34:15.188  INFO 23307 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 13:34:15.195  INFO 23307 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:34:15.195  INFO 23307 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:34:15.195  INFO 23307 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:34:15.249  INFO 23307 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:34:15.318  INFO 23307 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:34:15.318  INFO 23307 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:34:15.318  INFO 23307 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645085055318
2022-02-17 13:34:15.320  INFO 23307 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 13:34:15.357  INFO 23307 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:34:15.380  INFO 23307 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:34:15.381  INFO 23307 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:34:15.382  INFO 23307 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645085055380
2022-02-17 13:34:15.385  INFO 23307 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 13:34:15.421  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:34:15.421  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:34:15.426  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:34:15.428  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:34:15.436  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:34:15.435  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:34:15.449  INFO 23307 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 56956 (http) with context path ''
2022-02-17 13:34:15.485  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:34:15.486  INFO 23307 --- [main] c.p.a.controllers.UserControllerIT       : Started UserControllerIT in 14.069 seconds (JVM running for 16.787)
2022-02-17 13:34:15.486  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:34:15.487  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:34:15.487  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:34:15.613  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=46, memberId='consumer-user-wallet-group-1-77d19162-5124-48e2-b818-6e65d87258fd', protocol='range'}
2022-02-17 13:34:15.612  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=46, memberId='consumer-user-wallet-group-2-e57bd649-cdb5-4996-98fc-e97e462059d8', protocol='range'}
2022-02-17 13:34:15.846  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=46, memberId='consumer-user-wallet-group-2-e57bd649-cdb5-4996-98fc-e97e462059d8', protocol='range'}
2022-02-17 13:34:15.846  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=46, memberId='consumer-user-wallet-group-1-77d19162-5124-48e2-b818-6e65d87258fd', protocol='range'}
2022-02-17 13:34:15.853  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[transactions-0])
2022-02-17 13:34:15.853  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[create-wallet-0])
2022-02-17 13:34:15.859  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Adding newly assigned partitions: create-wallet-0
2022-02-17 13:34:15.859  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Adding newly assigned partitions: transactions-0
2022-02-17 13:34:15.901  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Setting offset for partition create-wallet-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 13:34:15.901  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Setting offset for partition transactions-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 13:34:15.904  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [transactions-0]
2022-02-17 13:34:15.903  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [create-wallet-0]
2022-02-17 13:34:16.052  INFO 23307 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-17 13:34:16.056  INFO 23307 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-17 13:34:16.059  INFO 23307 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2022-02-17 13:34:16.082 TRACE 23307 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:16.083 DEBUG 23307 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:34:16.083 TRACE 23307 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:16.083 DEBUG 23307 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:34:16.396 TRACE 23307 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:16.398 DEBUG 23307 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:34:16.398 TRACE 23307 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:16.398 DEBUG 23307 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:34:16.500 TRACE 23307 --- [http-nio-auto-1-exec-2] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:34:16.524 TRACE 23307 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:34:16.524 DEBUG 23307 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:34:16.606 DEBUG 23307 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:34:16.666 DEBUG 23307 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:34:16.673 DEBUG 23307 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:34:16.676 DEBUG 23307 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : user validations done
2022-02-17 13:34:16.736 DEBUG 23307 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 13:34:16.739 DEBUG 23307 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 13:34:16.782 DEBUG 23307 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 13:34:16.885 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:16.888 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:34:16.888 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:16.888 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:34:16.903 TRACE 23307 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:34:16.905 TRACE 23307 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:34:16.905 DEBUG 23307 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:34:16.908 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:34:16.920 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:34:16.924 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:34:16.929  WARN 23307 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 13:34:17.052 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:17.052 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:34:17.052 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:17.052 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:34:17.055 TRACE 23307 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:34:17.056 TRACE 23307 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:34:17.056 DEBUG 23307 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:34:17.057 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:34:17.062 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:34:17.063  WARN 23307 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :email
2022-02-17 13:34:17.079 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:17.081 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:34:17.081 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:17.081 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:34:17.083 TRACE 23307 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:34:17.083 TRACE 23307 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:34:17.083 DEBUG 23307 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:34:17.083  WARN 23307 --- [main] c.p.a.exceptions.EmptyFieldException     : Empty Field: userName
2022-02-17 13:34:17.098 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:17.098 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:34:17.098 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:17.098 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:34:17.099 TRACE 23307 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:34:17.099 TRACE 23307 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:34:17.099 DEBUG 23307 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:34:17.099 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:34:17.101 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:34:17.102 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:34:17.104 DEBUG 23307 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 13:34:17.107 DEBUG 23307 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 13:34:17.109 DEBUG 23307 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 13:34:17.113 DEBUG 23307 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 13:34:17.140 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:17.140 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:34:17.140 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:17.140 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:34:17.144 TRACE 23307 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 13:34:17.147 TRACE 23307 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:34:17.159 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:34:17.179 TRACE 23307 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:34:17.180 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:34:17.286 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:17.287 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:34:17.287 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:17.287 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:34:17.290 TRACE 23307 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 13:34:17.290 TRACE 23307 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:34:17.290 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:34:17.318 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:17.352 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:34:17.355 TRACE 23307 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:34:17.395 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:34:17.410 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:17.410 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:34:17.410 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:34:17.410 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:34:17.436 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:34:17.455 TRACE 23307 --- [main] c.p.a.controllers.UserController         : /user/{id} getUser() request
2022-02-17 13:34:17.456 TRACE 23307 --- [main] c.p.assignment1.services.UserService     : getUser()
2022-02-17 13:34:17.487 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:34:17.569 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:17.570 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:34:17.570 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:17.570 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:34:39.242 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:39.280 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:34:39.281 TRACE 23307 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:34:39.287 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:34:39.330 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:39.331 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:34:39.331 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 13:34:39.331 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 13:34:39.332 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:34:39.335 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:34:53.379 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:53.388 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:34:53.388 TRACE 23307 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:34:53.391 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:34:53.403 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:53.404 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:34:53.404 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 13:34:53.404 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 13:34:53.405 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:34:53.408 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:34:53.437 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:53.441 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:34:53.442 TRACE 23307 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:34:53.443 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:34:53.449 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:53.450 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:34:53.450 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:34:53.450 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:34:53.450 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:34:53.479 TRACE 23307 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:34:53.482 TRACE 23307 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:34:53.483 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:34:53.500 DEBUG 23307 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:34:53.501 DEBUG 23307 --- [main] c.p.assignment1.services.UserService     : validation complete
2022-02-17 13:34:53.523 DEBUG 23307 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 13:34:53.580 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:53.582 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:34:53.582 TRACE 23307 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:34:53.583 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:34:53.589 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:53.590 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:34:53.597 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 13:34:53.599 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 13:34:53.601 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:34:53.602 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:34:53.620 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:53.623 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:34:53.623 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:53.623 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:34:53.634 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:53.636 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:34:53.636 TRACE 23307 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:34:53.636 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:34:53.640 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:53.640 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:34:53.640 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:34:53.640 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:34:53.641 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:34:53.644 TRACE 23307 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:34:53.644 TRACE 23307 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:34:53.645 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:34:53.646 DEBUG 23307 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:34:53.648 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:34:53.651  WARN 23307 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 13:34:53.669 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:53.672 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:34:53.672 TRACE 23307 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:34:53.673 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:34:53.676 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:53.677 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:34:53.677 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 13:34:53.677 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 13:34:53.677 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:34:53.679 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:34:53.688 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:53.690 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:34:53.692 TRACE 23307 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:34:53.692 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:34:53.695 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:53.695 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:34:53.695 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:34:53.695 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:34:53.696 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:34:53.699 TRACE 23307 --- [main] c.p.a.controllers.UserController         : /user/{id} deleteUser() request
2022-02-17 13:34:53.700 TRACE 23307 --- [main] c.p.assignment1.services.UserService     : deleteUser()
2022-02-17 13:34:53.715 DEBUG 23307 --- [main] org.hibernate.SQL                        : select count(*) as col_0_0_ from user user0_ where user0_.id=?
2022-02-17 13:34:53.752 DEBUG 23307 --- [main] org.hibernate.SQL                        : update user set is_active=? where id=?
2022-02-17 13:34:53.820 DEBUG 23307 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 13:34:53.827 DEBUG 23307 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 13:34:53.830 DEBUG 23307 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 13:34:53.833 TRACE 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:34:53.834 DEBUG 23307 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:34:53.834 TRACE 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:34:53.834 DEBUG 23307 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:34:53.898  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Revoke previously assigned partitions create-wallet-0
2022-02-17 13:34:53.898  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Revoke previously assigned partitions transactions-0
2022-02-17 13:34:53.906  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [create-wallet-0]
2022-02-17 13:34:53.906  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [transactions-0]
2022-02-17 13:34:53.909  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-77d19162-5124-48e2-b818-6e65d87258fd sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:34:53.909  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-e57bd649-cdb5-4996-98fc-e97e462059d8 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:34:53.912  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:34:53.912  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:34:53.912  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:34:53.912  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:34:53.914  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:34:53.916  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:34:53.921  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:34:53.920  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:34:53.921  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:34:53.921  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:34:53.935  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:34:53.935  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:34:53.936  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:34:53.936  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:34:53.937  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:34:53.937  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:34:53.945  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 13:34:53.949  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 13:34:53.951  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:34:53.951  INFO 23307 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:34:53.966  INFO 23307 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:34:53.973  INFO 23307 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 13:34:53.993  INFO 23307 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 13:35:28.482  INFO 23379 --- [main] c.p.a.controllers.UserControllerIT       : Starting UserControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 23379 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 13:35:28.484 DEBUG 23379 --- [main] c.p.a.controllers.UserControllerIT       : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 13:35:28.484  INFO 23379 --- [main] c.p.a.controllers.UserControllerIT       : No active profile set, falling back to default profiles: default
2022-02-17 13:35:29.741  INFO 23379 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 13:35:29.875  INFO 23379 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 128 ms. Found 3 JPA repository interfaces.
2022-02-17 13:35:31.422  INFO 23379 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 13:35:31.436  INFO 23379 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 13:35:31.437  INFO 23379 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 13:35:31.628  INFO 23379 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 13:35:31.630  INFO 23379 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3120 ms
2022-02-17 13:35:32.235  INFO 23379 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 13:35:32.268  INFO 23379 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 13:35:32.431  INFO 23379 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 13:35:32.560  INFO 23379 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 13:35:33.295  INFO 23379 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 13:35:33.323  INFO 23379 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 13:35:34.511 DEBUG 23379 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 13:35:34.551 DEBUG 23379 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 13:35:34.564 DEBUG 23379 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 13:35:34.578 DEBUG 23379 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 13:35:34.584 DEBUG 23379 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 13:35:34.590 DEBUG 23379 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 13:35:34.595 DEBUG 23379 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 13:35:34.604 DEBUG 23379 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 13:35:34.612 DEBUG 23379 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 13:35:34.615 DEBUG 23379 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 13:35:34.626 DEBUG 23379 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 13:35:34.634 DEBUG 23379 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 13:35:34.641 DEBUG 23379 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 13:35:34.649 DEBUG 23379 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 13:35:34.655 DEBUG 23379 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 13:35:34.665 DEBUG 23379 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 13:35:34.681 DEBUG 23379 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 13:35:34.695 DEBUG 23379 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 13:35:34.715  INFO 23379 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 13:35:34.722  INFO 23379 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:35:35.667 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 13:35:35.670 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 13:35:35.812  WARN 23379 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 13:35:36.511  INFO 23379 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@25435731, org.springframework.security.web.context.SecurityContextPersistenceFilter@7f5e9949, org.springframework.security.web.header.HeaderWriterFilter@6bd2f039, org.springframework.security.web.authentication.logout.LogoutFilter@81dfdee, com.paytm.assignment1.filters.JwtRequestFilter@399c408c, com.paytm.assignment1.filters.UserAuthorizationFilter@4a5fab78, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2e02cc37, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@186d6033, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10301d6f, org.springframework.security.web.session.SessionManagementFilter@64d53f0d, org.springframework.security.web.access.ExceptionTranslationFilter@538f45f1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@55e4dd68]
2022-02-17 13:35:37.782  INFO 23379 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 13:35:37.784  INFO 23379 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 13:35:37.788  INFO 23379 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 4 ms
2022-02-17 13:35:37.998  INFO 23379 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 13:35:38.155  INFO 23379 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:35:38.157  INFO 23379 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:35:38.157  INFO 23379 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645085138150
2022-02-17 13:35:38.560  INFO 23379 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 13:35:38.567  INFO 23379 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:35:38.568  INFO 23379 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:35:38.568  INFO 23379 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:35:38.630  INFO 23379 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:35:38.706  INFO 23379 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:35:38.708  INFO 23379 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:35:38.708  INFO 23379 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645085138706
2022-02-17 13:35:38.710  INFO 23379 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 13:35:38.780  INFO 23379 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:35:38.809  INFO 23379 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:35:38.811  INFO 23379 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:35:38.811  INFO 23379 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645085138809
2022-02-17 13:35:38.812  INFO 23379 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 13:35:38.848  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:35:38.848  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:35:38.851  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:35:38.851  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:35:38.855  INFO 23379 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 56998 (http) with context path ''
2022-02-17 13:35:38.857  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:35:38.856  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:35:38.889  INFO 23379 --- [main] c.p.a.controllers.UserControllerIT       : Started UserControllerIT in 10.969 seconds (JVM running for 13.217)
2022-02-17 13:35:38.904  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:35:38.904  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:35:38.906  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:35:38.906  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:35:39.276  INFO 23379 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-17 13:35:39.277  INFO 23379 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-17 13:35:39.277  INFO 23379 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2022-02-17 13:35:39.292 TRACE 23379 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:39.293 DEBUG 23379 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:35:39.294 TRACE 23379 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:39.294 DEBUG 23379 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:35:39.486 TRACE 23379 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:39.488 DEBUG 23379 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:35:39.488 TRACE 23379 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:39.488 DEBUG 23379 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:35:39.560 TRACE 23379 --- [http-nio-auto-1-exec-2] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:35:39.580 TRACE 23379 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:35:39.580 DEBUG 23379 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:35:39.619 DEBUG 23379 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:35:39.683 DEBUG 23379 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:35:39.693 DEBUG 23379 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:35:39.696 DEBUG 23379 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : user validations done
2022-02-17 13:35:39.761  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=48, memberId='consumer-user-wallet-group-2-94dda2e1-0485-4f53-8035-787b4c6f29ba', protocol='range'}
2022-02-17 13:35:39.761  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=48, memberId='consumer-user-wallet-group-1-b60dded1-b2e1-4215-b884-ae8f4260a2fa', protocol='range'}
2022-02-17 13:35:39.781 DEBUG 23379 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 13:35:39.783 DEBUG 23379 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 13:35:39.805 DEBUG 23379 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 13:35:39.877 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:39.878 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:35:39.879 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:39.879 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:35:39.884 TRACE 23379 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:35:39.884 TRACE 23379 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:35:39.884 DEBUG 23379 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:35:39.885 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:35:39.892 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:35:39.895 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:35:39.899  WARN 23379 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 13:35:39.958  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=48, memberId='consumer-user-wallet-group-1-b60dded1-b2e1-4215-b884-ae8f4260a2fa', protocol='range'}
2022-02-17 13:35:39.958  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=48, memberId='consumer-user-wallet-group-2-94dda2e1-0485-4f53-8035-787b4c6f29ba', protocol='range'}
2022-02-17 13:35:39.964  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[transactions-0])
2022-02-17 13:35:39.964  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[create-wallet-0])
2022-02-17 13:35:39.969  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Adding newly assigned partitions: create-wallet-0
2022-02-17 13:35:39.969  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Adding newly assigned partitions: transactions-0
2022-02-17 13:35:40.017  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Setting offset for partition transactions-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 13:35:40.017  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Setting offset for partition create-wallet-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 13:35:40.021  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [transactions-0]
2022-02-17 13:35:40.021  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [create-wallet-0]
2022-02-17 13:35:40.024 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.024 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:35:40.024 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.024 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:35:40.037 TRACE 23379 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:35:40.038 TRACE 23379 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:35:40.038 DEBUG 23379 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:35:40.040 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:35:40.059 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:35:40.062  WARN 23379 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :email
2022-02-17 13:35:40.091 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.091 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:35:40.091 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.091 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:35:40.092 TRACE 23379 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:35:40.093 TRACE 23379 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:35:40.093 DEBUG 23379 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:35:40.093  WARN 23379 --- [main] c.p.a.exceptions.EmptyFieldException     : Empty Field: userName
2022-02-17 13:35:40.111 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.113 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:35:40.113 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.113 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:35:40.114 TRACE 23379 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:35:40.114 TRACE 23379 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:35:40.114 DEBUG 23379 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:35:40.114 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:35:40.116 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:35:40.117 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:35:40.118 DEBUG 23379 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 13:35:40.119 DEBUG 23379 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 13:35:40.121 DEBUG 23379 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 13:35:40.124 DEBUG 23379 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 13:35:40.143 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.143 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:35:40.143 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.143 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:35:40.166 TRACE 23379 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 13:35:40.169 TRACE 23379 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:35:40.182 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:35:40.198 TRACE 23379 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:35:40.200 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:35:40.278 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.279 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:35:40.279 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.279 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:35:40.282 TRACE 23379 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 13:35:40.282 TRACE 23379 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:35:40.283 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:35:40.318 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.343 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:35:40.344 TRACE 23379 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:35:40.375 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:35:40.390 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.390 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:35:40.391 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:35:40.391 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:35:40.407 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:35:40.425 TRACE 23379 --- [main] c.p.a.controllers.UserController         : /user/{id} getUser() request
2022-02-17 13:35:40.425 TRACE 23379 --- [main] c.p.assignment1.services.UserService     : getUser()
2022-02-17 13:35:40.439 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:35:40.471 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.471 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:35:40.471 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.471 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:35:40.480 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.482 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:35:40.482 TRACE 23379 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:35:40.483 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:35:40.491 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.492 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:35:40.494 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 13:35:40.494 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 13:35:40.495 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:35:40.498 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:35:40.536 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.541 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:35:40.542 TRACE 23379 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:35:40.543 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:35:40.551 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.551 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:35:40.552 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 13:35:40.552 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 13:35:40.553 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:35:40.556 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:35:40.574 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.577 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:35:40.577 TRACE 23379 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:35:40.578 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:35:40.584 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.585 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:35:40.585 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:35:40.586 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:35:40.587 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:35:40.611 TRACE 23379 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:35:40.616 TRACE 23379 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:35:40.618 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:35:40.625 DEBUG 23379 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:35:40.626 DEBUG 23379 --- [main] c.p.assignment1.services.UserService     : validation complete
2022-02-17 13:35:40.641 DEBUG 23379 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 13:35:40.697 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.699 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:35:40.699 TRACE 23379 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:35:40.700 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:35:40.705 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.706 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:35:40.707 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 13:35:40.707 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 13:35:40.707 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:35:40.708 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:35:40.714 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.717 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:35:40.717 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.717 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:35:40.729 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.731 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:35:40.732 TRACE 23379 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:35:40.732 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:35:40.736 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.736 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:35:40.736 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:35:40.736 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:35:40.736 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:35:40.740 TRACE 23379 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:35:40.741 TRACE 23379 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:35:40.741 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:35:40.742 DEBUG 23379 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:35:40.744 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:35:40.746  WARN 23379 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 13:35:40.756 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.760 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:35:40.760 TRACE 23379 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:35:40.761 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:35:40.764 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.765 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:35:40.765 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 13:35:40.765 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 13:35:40.765 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:35:40.766 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:35:40.773 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.775 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:35:40.776 TRACE 23379 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:35:40.777 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:35:40.785 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.787 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:35:40.787 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:35:40.787 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:35:40.789 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:35:40.792 TRACE 23379 --- [main] c.p.a.controllers.UserController         : /user/{id} deleteUser() request
2022-02-17 13:35:40.793 TRACE 23379 --- [main] c.p.assignment1.services.UserService     : deleteUser()
2022-02-17 13:35:40.804 DEBUG 23379 --- [main] org.hibernate.SQL                        : select count(*) as col_0_0_ from user user0_ where user0_.id=?
2022-02-17 13:35:40.825 DEBUG 23379 --- [main] org.hibernate.SQL                        : update user set is_active=? where id=?
2022-02-17 13:35:40.843 DEBUG 23379 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 13:35:40.849 DEBUG 23379 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 13:35:40.853 DEBUG 23379 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 13:35:40.856 TRACE 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:35:40.856 DEBUG 23379 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:35:40.856 TRACE 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:35:40.856 DEBUG 23379 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:35:40.893  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Revoke previously assigned partitions transactions-0
2022-02-17 13:35:40.893  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Revoke previously assigned partitions create-wallet-0
2022-02-17 13:35:40.896  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [transactions-0]
2022-02-17 13:35:40.896  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [create-wallet-0]
2022-02-17 13:35:40.897  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-b60dded1-b2e1-4215-b884-ae8f4260a2fa sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:35:40.897  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-94dda2e1-0485-4f53-8035-787b4c6f29ba sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:35:40.902  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:35:40.902  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:35:40.903  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:35:40.903  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:35:40.903  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:35:40.903  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:35:40.903  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:35:40.903  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:35:40.903  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:35:40.903  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:35:40.909  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:35:40.909  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:35:40.910  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:35:40.910  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:35:40.910  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:35:40.910  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:35:40.918  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 13:35:40.919  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 13:35:40.930  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:35:40.930  INFO 23379 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:35:40.942  INFO 23379 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:35:40.950  INFO 23379 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 13:35:40.966  INFO 23379 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 13:37:44.622  INFO 23484 --- [main] c.p.a.controllers.UserControllerIT       : Starting UserControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 23484 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 13:37:44.624 DEBUG 23484 --- [main] c.p.a.controllers.UserControllerIT       : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 13:37:44.624  INFO 23484 --- [main] c.p.a.controllers.UserControllerIT       : No active profile set, falling back to default profiles: default
2022-02-17 13:37:48.324  INFO 23484 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 13:37:48.486  INFO 23484 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 154 ms. Found 3 JPA repository interfaces.
2022-02-17 13:37:49.967  INFO 23484 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 13:37:49.984  INFO 23484 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 13:37:49.984  INFO 23484 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 13:37:50.553  INFO 23484 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 13:37:50.554  INFO 23484 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5901 ms
2022-02-17 13:37:51.169  INFO 23484 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 13:37:51.204  INFO 23484 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 13:37:51.346  INFO 23484 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 13:37:51.443  INFO 23484 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 13:37:52.243  INFO 23484 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 13:37:52.268  INFO 23484 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 13:37:53.347 DEBUG 23484 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 13:37:53.392 DEBUG 23484 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 13:37:53.405 DEBUG 23484 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 13:37:53.413 DEBUG 23484 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 13:37:53.418 DEBUG 23484 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 13:37:53.423 DEBUG 23484 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 13:37:53.428 DEBUG 23484 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 13:37:53.439 DEBUG 23484 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 13:37:53.446 DEBUG 23484 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 13:37:53.448 DEBUG 23484 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 13:37:53.460 DEBUG 23484 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 13:37:53.468 DEBUG 23484 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 13:37:53.474 DEBUG 23484 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 13:37:53.488 DEBUG 23484 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 13:37:53.494 DEBUG 23484 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 13:37:53.507 DEBUG 23484 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 13:37:53.522 DEBUG 23484 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 13:37:53.538 DEBUG 23484 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 13:37:53.557  INFO 23484 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 13:37:53.564  INFO 23484 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:37:54.474 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 13:37:54.476 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 13:37:54.611  WARN 23484 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 13:37:55.306  INFO 23484 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10301d6f, org.springframework.security.web.context.SecurityContextPersistenceFilter@323eecf8, org.springframework.security.web.header.HeaderWriterFilter@6c8ad6d7, org.springframework.security.web.authentication.logout.LogoutFilter@14b9df65, com.paytm.assignment1.filters.JwtRequestFilter@99223ac, com.paytm.assignment1.filters.UserAuthorizationFilter@77a85e76, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e355249, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c0ece6d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5cd6719d, org.springframework.security.web.session.SessionManagementFilter@1b10f60e, org.springframework.security.web.access.ExceptionTranslationFilter@64fc6470, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@28c7fd9d]
2022-02-17 13:37:56.767  INFO 23484 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 13:37:56.770  INFO 23484 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 13:37:56.774  INFO 23484 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 4 ms
2022-02-17 13:37:56.911  INFO 23484 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 13:37:57.044  INFO 23484 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:37:57.044  INFO 23484 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:37:57.044  INFO 23484 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645085277038
2022-02-17 13:37:57.388  INFO 23484 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 13:37:57.394  INFO 23484 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:37:57.395  INFO 23484 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:37:57.395  INFO 23484 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:37:57.447  INFO 23484 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:37:57.518  INFO 23484 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:37:57.521  INFO 23484 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:37:57.521  INFO 23484 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645085277518
2022-02-17 13:37:57.524  INFO 23484 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 13:37:57.558  INFO 23484 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:37:57.595  INFO 23484 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:37:57.597  INFO 23484 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:37:57.597  INFO 23484 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645085277595
2022-02-17 13:37:57.599  INFO 23484 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 13:37:57.624  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:37:57.624  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:37:57.627  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:37:57.627  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:37:57.638  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:37:57.638  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:37:57.645  INFO 23484 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 57047 (http) with context path ''
2022-02-17 13:37:57.684  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:37:57.684  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:37:57.687  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:37:57.687  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:37:57.697  INFO 23484 --- [main] c.p.a.controllers.UserControllerIT       : Started UserControllerIT in 14.057 seconds (JVM running for 42.875)
2022-02-17 13:37:57.960  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=50, memberId='consumer-user-wallet-group-2-9221c8f6-aca7-4a88-bdae-02f44cc8774b', protocol='range'}
2022-02-17 13:37:57.972  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=50, memberId='consumer-user-wallet-group-1-ab537831-3a4d-4201-a989-00d59e7cf607', protocol='range'}
2022-02-17 13:37:58.127  INFO 23484 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-17 13:37:58.128  INFO 23484 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-17 13:37:58.130  INFO 23484 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2022-02-17 13:37:58.156 TRACE 23484 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:58.158 DEBUG 23484 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:37:58.159 TRACE 23484 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:58.159 DEBUG 23484 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:37:58.227  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=50, memberId='consumer-user-wallet-group-1-ab537831-3a4d-4201-a989-00d59e7cf607', protocol='range'}
2022-02-17 13:37:58.227  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=50, memberId='consumer-user-wallet-group-2-9221c8f6-aca7-4a88-bdae-02f44cc8774b', protocol='range'}
2022-02-17 13:37:58.241  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[transactions-0])
2022-02-17 13:37:58.241  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[create-wallet-0])
2022-02-17 13:37:58.248  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Adding newly assigned partitions: transactions-0
2022-02-17 13:37:58.248  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Adding newly assigned partitions: create-wallet-0
2022-02-17 13:37:58.346  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Setting offset for partition transactions-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 13:37:58.347  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Setting offset for partition create-wallet-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 13:37:58.358  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [transactions-0]
2022-02-17 13:37:58.358  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [create-wallet-0]
2022-02-17 13:37:58.524 TRACE 23484 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:58.526 DEBUG 23484 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:37:58.526 TRACE 23484 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:58.526 DEBUG 23484 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:37:58.593 TRACE 23484 --- [http-nio-auto-1-exec-2] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:37:58.612 TRACE 23484 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:37:58.613 DEBUG 23484 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:37:58.648 DEBUG 23484 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:37:58.698 DEBUG 23484 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:37:58.706 DEBUG 23484 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:37:58.709 DEBUG 23484 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : user validations done
2022-02-17 13:37:58.779 DEBUG 23484 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 13:37:58.784 DEBUG 23484 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 13:37:58.812 DEBUG 23484 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 13:37:58.904 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:58.908 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:37:58.908 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:58.908 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:37:58.919 TRACE 23484 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:37:58.919 TRACE 23484 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:37:58.919 DEBUG 23484 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:37:58.921 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:37:58.928 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:37:58.930 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:37:58.933  WARN 23484 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 13:37:58.993 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:58.993 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:37:58.993 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:58.993 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:37:58.996 TRACE 23484 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:37:58.996 TRACE 23484 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:37:58.996 DEBUG 23484 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:37:58.996 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:37:59.000 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:37:59.001  WARN 23484 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :email
2022-02-17 13:37:59.017 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.017 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:37:59.017 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.017 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:37:59.019 TRACE 23484 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:37:59.019 TRACE 23484 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:37:59.019 DEBUG 23484 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:37:59.020  WARN 23484 --- [main] c.p.a.exceptions.EmptyFieldException     : Empty Field: userName
2022-02-17 13:37:59.036 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.037 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:37:59.037 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.037 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:37:59.039 TRACE 23484 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 13:37:59.040 TRACE 23484 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 13:37:59.040 DEBUG 23484 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 13:37:59.041 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 13:37:59.042 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 13:37:59.044 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:37:59.044 DEBUG 23484 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 13:37:59.046 DEBUG 23484 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 13:37:59.046 DEBUG 23484 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 13:37:59.049 DEBUG 23484 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 13:37:59.069 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.069 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:37:59.069 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.069 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:37:59.073 TRACE 23484 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 13:37:59.075 TRACE 23484 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:37:59.085 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:37:59.102 TRACE 23484 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:37:59.103 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:37:59.193 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.194 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:37:59.194 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.194 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:37:59.197 TRACE 23484 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 13:37:59.197 TRACE 23484 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:37:59.198 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:37:59.223 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.245 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:37:59.246 TRACE 23484 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:37:59.279 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:37:59.295 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.296 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:37:59.296 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:37:59.296 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:37:59.314 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:37:59.331 TRACE 23484 --- [main] c.p.a.controllers.UserController         : /user/{id} getUser() request
2022-02-17 13:37:59.332 TRACE 23484 --- [main] c.p.assignment1.services.UserService     : getUser()
2022-02-17 13:37:59.348 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:37:59.381 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.382 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:37:59.382 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.382 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:37:59.391 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.392 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:37:59.393 TRACE 23484 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:37:59.394 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:37:59.400 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.401 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:37:59.401 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 13:37:59.401 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 13:37:59.402 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:37:59.406 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:37:59.413 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.414 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:37:59.415 TRACE 23484 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:37:59.416 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:37:59.422 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.422 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:37:59.422 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 13:37:59.422 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 13:37:59.423 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:37:59.425 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:37:59.437 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.441 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:37:59.442 TRACE 23484 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:37:59.442 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:37:59.447 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.447 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:37:59.447 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:37:59.447 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:37:59.447 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:37:59.453 TRACE 23484 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:37:59.454 TRACE 23484 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:37:59.454 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:37:59.457 DEBUG 23484 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:37:59.457 DEBUG 23484 --- [main] c.p.assignment1.services.UserService     : validation complete
2022-02-17 13:37:59.464 DEBUG 23484 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 13:37:59.498 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.501 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:37:59.501 TRACE 23484 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:37:59.501 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:37:59.507 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.507 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:37:59.507 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 13:37:59.507 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 13:37:59.508 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:37:59.509 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:37:59.523 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.527 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:37:59.527 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.527 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:37:59.542 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.545 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:37:59.545 TRACE 23484 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:37:59.546 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:37:59.550 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.550 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:37:59.550 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:37:59.550 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:37:59.551 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:37:59.554 TRACE 23484 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 13:37:59.555 TRACE 23484 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 13:37:59.557 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 13:37:59.559 DEBUG 23484 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 13:37:59.561 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 13:37:59.564  WARN 23484 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 13:37:59.577 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.578 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:37:59.578 TRACE 23484 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:37:59.578 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:37:59.582 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.582 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:37:59.582 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 13:37:59.582 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 13:37:59.582 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:37:59.584 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 13:37:59.593 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.595 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 13:37:59.598 TRACE 23484 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 13:37:59.599 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 13:37:59.603 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.604 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 13:37:59.604 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 13:37:59.604 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 13:37:59.605 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 13:37:59.609 TRACE 23484 --- [main] c.p.a.controllers.UserController         : /user/{id} deleteUser() request
2022-02-17 13:37:59.609 TRACE 23484 --- [main] c.p.assignment1.services.UserService     : deleteUser()
2022-02-17 13:37:59.619 DEBUG 23484 --- [main] org.hibernate.SQL                        : select count(*) as col_0_0_ from user user0_ where user0_.id=?
2022-02-17 13:37:59.628 DEBUG 23484 --- [main] org.hibernate.SQL                        : update user set is_active=? where id=?
2022-02-17 13:37:59.647 DEBUG 23484 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 13:37:59.652 DEBUG 23484 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 13:37:59.655 DEBUG 23484 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 13:37:59.658 TRACE 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:37:59.658 DEBUG 23484 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:37:59.658 TRACE 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter
2022-02-17 13:37:59.658 DEBUG 23484 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:37:59.705  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Revoke previously assigned partitions create-wallet-0
2022-02-17 13:37:59.705  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Revoke previously assigned partitions transactions-0
2022-02-17 13:37:59.712  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [create-wallet-0]
2022-02-17 13:37:59.712  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [transactions-0]
2022-02-17 13:37:59.715  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-ab537831-3a4d-4201-a989-00d59e7cf607 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:37:59.715  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-9221c8f6-aca7-4a88-bdae-02f44cc8774b sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:37:59.717  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:37:59.717  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:37:59.717  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:37:59.717  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:37:59.717  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:37:59.717  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:37:59.719  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:37:59.719  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:37:59.719  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:37:59.719  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:37:59.726  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:37:59.726  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:37:59.727  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:37:59.727  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:37:59.728  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:37:59.728  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:37:59.735  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 13:37:59.737  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 13:37:59.741  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:37:59.741  INFO 23484 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:37:59.752  INFO 23484 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:37:59.760  INFO 23484 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 13:37:59.772  INFO 23484 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 13:55:21.543  INFO 24482 --- [main] c.p.a.controllers.UserControllerIT       : Starting UserControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 24482 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 13:55:21.545 DEBUG 24482 --- [main] c.p.a.controllers.UserControllerIT       : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 13:55:21.545  INFO 24482 --- [main] c.p.a.controllers.UserControllerIT       : No active profile set, falling back to default profiles: default
2022-02-17 13:55:22.807  INFO 24482 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 13:55:22.922  INFO 24482 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 108 ms. Found 3 JPA repository interfaces.
2022-02-17 13:55:24.511  INFO 24482 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 13:55:24.523  INFO 24482 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 13:55:24.524  INFO 24482 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 13:55:24.683  INFO 24482 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 13:55:24.685  INFO 24482 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3114 ms
2022-02-17 13:55:25.401  INFO 24482 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 13:55:25.436  INFO 24482 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 13:55:25.575  INFO 24482 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 13:55:25.700  INFO 24482 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 13:55:26.403  INFO 24482 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 13:55:26.438  INFO 24482 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 13:55:27.565 DEBUG 24482 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 13:55:27.600 DEBUG 24482 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 13:55:27.613 DEBUG 24482 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 13:55:27.623 DEBUG 24482 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 13:55:27.628 DEBUG 24482 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 13:55:27.633 DEBUG 24482 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 13:55:27.638 DEBUG 24482 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 13:55:27.648 DEBUG 24482 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 13:55:27.656 DEBUG 24482 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 13:55:27.658 DEBUG 24482 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 13:55:27.671 DEBUG 24482 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 13:55:27.679 DEBUG 24482 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 13:55:27.684 DEBUG 24482 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 13:55:27.692 DEBUG 24482 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 13:55:27.699 DEBUG 24482 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 13:55:27.710 DEBUG 24482 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 13:55:27.725 DEBUG 24482 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 13:55:27.740 DEBUG 24482 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 13:55:27.760  INFO 24482 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 13:55:27.768  INFO 24482 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:55:28.760 DEBUG 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 13:55:28.762 DEBUG 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 13:55:28.889  WARN 24482 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 13:55:29.652  INFO 24482 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5cd6719d, org.springframework.security.web.context.SecurityContextPersistenceFilter@2e02cc37, org.springframework.security.web.header.HeaderWriterFilter@2d0778d0, org.springframework.security.web.authentication.logout.LogoutFilter@3b046e64, com.paytm.assignment1.filters.JwtRequestFilter@399c408c, com.paytm.assignment1.filters.UserAuthorizationFilter@4a5fab78, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@652a1a17, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@69419d59, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ef591af, org.springframework.security.web.session.SessionManagementFilter@4b916cc2, org.springframework.security.web.access.ExceptionTranslationFilter@5cf3a7f9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6a63ff31]
2022-02-17 13:55:31.041  INFO 24482 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 13:55:31.043  INFO 24482 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 13:55:31.048  INFO 24482 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 4 ms
2022-02-17 13:55:31.245  INFO 24482 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 13:55:31.387  INFO 24482 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:55:31.387  INFO 24482 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:55:31.387  INFO 24482 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645086331379
2022-02-17 13:55:31.832  INFO 24482 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 13:55:31.854  INFO 24482 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:55:31.854  INFO 24482 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:55:31.854  INFO 24482 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:55:31.902  INFO 24482 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:55:31.959  INFO 24482 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:55:31.959  INFO 24482 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:55:31.959  INFO 24482 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645086331959
2022-02-17 13:55:31.962  INFO 24482 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 13:55:31.999  INFO 24482 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 13:55:32.040  INFO 24482 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 13:55:32.044  INFO 24482 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 13:55:32.045  INFO 24482 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645086332040
2022-02-17 13:55:32.046  INFO 24482 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 13:55:32.078  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:55:32.078  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 13:55:32.081  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:55:32.081  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 13:55:32.122  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:55:32.124  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:55:32.158  INFO 24482 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 57664 (http) with context path ''
2022-02-17 13:55:32.188  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:55:32.188  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 13:55:32.191  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:55:32.191  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 13:55:32.194  INFO 24482 --- [main] c.p.a.controllers.UserControllerIT       : Started UserControllerIT in 11.198 seconds (JVM running for 13.804)
2022-02-17 13:55:32.641  INFO 24482 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-17 13:55:32.643  INFO 24482 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-17 13:55:32.647  INFO 24482 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2022-02-17 13:55:32.670 TRACE 24482 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:55:32.677 DEBUG 24482 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:55:32.677 TRACE 24482 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:32.677 DEBUG 24482 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:55:32.698 TRACE 24482 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:32.709 ERROR 24482 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.ClassCastException: java.lang.String cannot be cast to org.springframework.security.core.userdetails.UserDetails
	at com.paytm.assignment1.filters.UserAuthorizationFilter.shouldNotFilter(UserAuthorizationFilter.java:39) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at com.paytm.assignment1.filters.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:57) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_231]

2022-02-17 13:55:33.004 TRACE 24482 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:55:33.006 DEBUG 24482 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:55:33.006 TRACE 24482 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.006 DEBUG 24482 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:55:33.016 TRACE 24482 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.021 ERROR 24482 --- [http-nio-auto-1-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.ClassCastException: java.lang.String cannot be cast to org.springframework.security.core.userdetails.UserDetails
	at com.paytm.assignment1.filters.UserAuthorizationFilter.shouldNotFilter(UserAuthorizationFilter.java:39) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at com.paytm.assignment1.filters.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:57) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_231]

2022-02-17 13:55:33.083 TRACE 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:55:33.083 DEBUG 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:55:33.083 TRACE 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.083 DEBUG 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:55:33.084 TRACE 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.090 TRACE 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:55:33.090 DEBUG 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:55:33.090 TRACE 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.090 DEBUG 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:55:33.090 TRACE 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.112 TRACE 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:55:33.117 DEBUG 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:55:33.117 TRACE 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.117 DEBUG 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:55:33.119 TRACE 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.133 TRACE 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:55:33.134 DEBUG 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:55:33.134 TRACE 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.134 DEBUG 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:55:33.135 TRACE 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.147 TRACE 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:55:33.147 DEBUG 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:55:33.147 TRACE 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.147 DEBUG 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:55:33.148 TRACE 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.158 TRACE 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:55:33.160 DEBUG 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:55:33.160 TRACE 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.160 DEBUG 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:55:33.160 TRACE 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.172 TRACE 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:55:33.173 DEBUG 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:55:33.173 TRACE 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.173 DEBUG 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:55:33.257 TRACE 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 13:55:33.260 DEBUG 24482 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 13:55:33.260 TRACE 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 13:55:33.260 DEBUG 24482 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 13:55:33.364  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-b4d9b0cc-af0d-4fa0-a754-c3a023a57778 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:55:33.364  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-e89132a0-f636-4b3b-87c4-923896332d67 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 13:55:33.368  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:55:33.368  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:55:33.368  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:55:33.368  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:55:33.368  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:55:33.368  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 13:55:33.370  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:55:33.371  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 13:55:33.371  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:55:33.372  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 13:55:34.697  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:55:34.697  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 13:55:34.700  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:55:34.700  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 13:55:34.702  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:55:34.702  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 13:55:34.713  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 13:55:34.714  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 13:55:34.723  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:55:34.723  INFO 24482 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 13:55:34.739  INFO 24482 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 13:55:34.748  INFO 24482 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 13:55:34.775  INFO 24482 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 14:03:21.187  INFO 24842 --- [main] c.p.a.controllers.UserControllerIT       : Starting UserControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 24842 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 14:03:21.190 DEBUG 24842 --- [main] c.p.a.controllers.UserControllerIT       : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 14:03:21.190  INFO 24842 --- [main] c.p.a.controllers.UserControllerIT       : No active profile set, falling back to default profiles: default
2022-02-17 14:03:22.489  INFO 24842 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 14:03:22.585  INFO 24842 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 91 ms. Found 3 JPA repository interfaces.
2022-02-17 14:03:24.135  INFO 24842 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 14:03:24.152  INFO 24842 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 14:03:24.152  INFO 24842 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 14:03:24.337  INFO 24842 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 14:03:24.337  INFO 24842 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3122 ms
2022-02-17 14:03:24.907  INFO 24842 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 14:03:24.946  INFO 24842 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 14:03:25.123  INFO 24842 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 14:03:25.227  INFO 24842 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 14:03:25.928  INFO 24842 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 14:03:25.960  INFO 24842 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 14:03:27.057 DEBUG 24842 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 14:03:27.099 DEBUG 24842 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 14:03:27.114 DEBUG 24842 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 14:03:27.124 DEBUG 24842 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 14:03:27.168 DEBUG 24842 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 14:03:27.178 DEBUG 24842 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 14:03:27.188 DEBUG 24842 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 14:03:27.196 DEBUG 24842 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 14:03:27.207 DEBUG 24842 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 14:03:27.210 DEBUG 24842 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 14:03:27.221 DEBUG 24842 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 14:03:27.229 DEBUG 24842 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 14:03:27.234 DEBUG 24842 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 14:03:27.244 DEBUG 24842 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 14:03:27.250 DEBUG 24842 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 14:03:27.262 DEBUG 24842 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 14:03:27.277 DEBUG 24842 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 14:03:27.291 DEBUG 24842 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 14:03:27.312  INFO 24842 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 14:03:27.321  INFO 24842 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 14:03:28.284 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 14:03:28.287 DEBUG 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 14:03:28.402  WARN 24842 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 14:03:29.082  INFO 24842 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5cd6719d, org.springframework.security.web.context.SecurityContextPersistenceFilter@2e02cc37, org.springframework.security.web.header.HeaderWriterFilter@2d0778d0, org.springframework.security.web.authentication.logout.LogoutFilter@3b046e64, com.paytm.assignment1.filters.JwtRequestFilter@399c408c, com.paytm.assignment1.filters.UserAuthorizationFilter@4a5fab78, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@652a1a17, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@69419d59, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ef591af, org.springframework.security.web.session.SessionManagementFilter@4b916cc2, org.springframework.security.web.access.ExceptionTranslationFilter@5cf3a7f9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6a63ff31]
2022-02-17 14:03:30.321  INFO 24842 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 14:03:30.323  INFO 24842 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 14:03:30.327  INFO 24842 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 4 ms
2022-02-17 14:03:30.507  INFO 24842 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 14:03:30.682  INFO 24842 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:03:30.683  INFO 24842 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:03:30.683  INFO 24842 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645086810677
2022-02-17 14:03:31.133  INFO 24842 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 14:03:31.141  INFO 24842 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:03:31.142  INFO 24842 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:03:31.142  INFO 24842 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:03:31.216  INFO 24842 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 14:03:31.292  INFO 24842 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:03:31.293  INFO 24842 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:03:31.293  INFO 24842 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645086811292
2022-02-17 14:03:31.296  INFO 24842 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 14:03:31.334  INFO 24842 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 14:03:31.365  INFO 24842 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:03:31.367  INFO 24842 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:03:31.367  INFO 24842 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645086811365
2022-02-17 14:03:31.368  INFO 24842 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 14:03:31.391  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 14:03:31.391  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 14:03:31.396  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:03:31.396  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:03:31.404  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:03:31.404  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:03:31.412  INFO 24842 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 57879 (http) with context path ''
2022-02-17 14:03:31.453  INFO 24842 --- [main] c.p.a.controllers.UserControllerIT       : Started UserControllerIT in 10.904 seconds (JVM running for 13.332)
2022-02-17 14:03:31.459  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 14:03:31.459  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 14:03:31.461  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:03:31.462  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:03:31.880  INFO 24842 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-17 14:03:31.881  INFO 24842 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-17 14:03:31.884  INFO 24842 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2022-02-17 14:03:31.898 TRACE 24842 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:03:31.899 DEBUG 24842 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:03:31.900 TRACE 24842 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:31.900 DEBUG 24842 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:03:31.910 TRACE 24842 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:31.910 DEBUG 24842 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:03:31.918 ERROR 24842 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.ClassCastException: java.lang.String cannot be cast to org.springframework.security.core.userdetails.UserDetails
	at com.paytm.assignment1.filters.UserAuthorizationFilter.shouldNotFilter(UserAuthorizationFilter.java:39) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at com.paytm.assignment1.filters.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:57) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_231]

2022-02-17 14:03:32.202 TRACE 24842 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:03:32.204 DEBUG 24842 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:03:32.205 TRACE 24842 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.205 DEBUG 24842 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:03:32.208 TRACE 24842 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.208 DEBUG 24842 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:03:32.210 ERROR 24842 --- [http-nio-auto-1-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.ClassCastException: java.lang.String cannot be cast to org.springframework.security.core.userdetails.UserDetails
	at com.paytm.assignment1.filters.UserAuthorizationFilter.shouldNotFilter(UserAuthorizationFilter.java:39) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at com.paytm.assignment1.filters.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:57) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_231]

2022-02-17 14:03:32.281 TRACE 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:03:32.282 DEBUG 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:03:32.282 TRACE 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.282 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:03:32.282 TRACE 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.282 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:03:32.290 TRACE 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:03:32.291 DEBUG 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:03:32.291 TRACE 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.291 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:03:32.291 TRACE 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.291 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:03:32.326 TRACE 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:03:32.327 DEBUG 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:03:32.327 TRACE 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.327 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:03:32.328 TRACE 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.328 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:03:32.349 TRACE 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:03:32.349 DEBUG 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:03:32.350 TRACE 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.350 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:03:32.350 TRACE 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.350 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:03:32.359 TRACE 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:03:32.361 DEBUG 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:03:32.361 TRACE 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.362 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:03:32.362 TRACE 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.362 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:03:32.368 TRACE 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:03:32.370 DEBUG 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:03:32.371 TRACE 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.371 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:03:32.372 TRACE 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.372 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:03:32.386 TRACE 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:03:32.387 DEBUG 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:03:32.387 TRACE 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.387 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:03:32.465 TRACE 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:03:32.466 DEBUG 24842 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:03:32.466 TRACE 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:03:32.466 DEBUG 24842 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:03:32.535  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-23a240b3-8cdf-460b-86d1-0d41922defc6 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 14:03:32.535  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-8dbec124-1278-4149-ac2f-6e2689f67984 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 14:03:32.545  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:03:32.545  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:03:32.545  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 14:03:32.545  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:03:32.547  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:03:32.547  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:03:32.547  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 14:03:32.547  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:03:32.548  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:03:32.548  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:03:33.526  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:03:33.526  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:03:33.528  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:03:33.528  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:03:33.529  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:03:33.529  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:03:33.538  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 14:03:33.539  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 14:03:33.549  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 14:03:33.549  INFO 24842 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 14:03:33.563  INFO 24842 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 14:03:33.574  INFO 24842 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 14:03:33.609  INFO 24842 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 14:05:28.975  INFO 24949 --- [main] c.p.a.controllers.UserControllerIT       : Starting UserControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 24949 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 14:05:28.977 DEBUG 24949 --- [main] c.p.a.controllers.UserControllerIT       : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 14:05:28.978  INFO 24949 --- [main] c.p.a.controllers.UserControllerIT       : No active profile set, falling back to default profiles: default
2022-02-17 14:05:30.514  INFO 24949 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 14:05:30.627  INFO 24949 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 104 ms. Found 3 JPA repository interfaces.
2022-02-17 14:05:32.362  INFO 24949 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 14:05:32.379  INFO 24949 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 14:05:32.379  INFO 24949 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 14:05:32.543  INFO 24949 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 14:05:32.545  INFO 24949 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3536 ms
2022-02-17 14:05:33.284  INFO 24949 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 14:05:33.324  INFO 24949 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 14:05:33.517  INFO 24949 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 14:05:33.608  INFO 24949 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 14:05:34.298  INFO 24949 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 14:05:34.325  INFO 24949 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 14:05:35.472 DEBUG 24949 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 14:05:35.514 DEBUG 24949 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 14:05:35.526 DEBUG 24949 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 14:05:35.534 DEBUG 24949 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 14:05:35.539 DEBUG 24949 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 14:05:35.544 DEBUG 24949 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 14:05:35.551 DEBUG 24949 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 14:05:35.567 DEBUG 24949 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 14:05:35.574 DEBUG 24949 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 14:05:35.577 DEBUG 24949 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 14:05:35.589 DEBUG 24949 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 14:05:35.605 DEBUG 24949 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 14:05:35.611 DEBUG 24949 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 14:05:35.619 DEBUG 24949 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 14:05:35.627 DEBUG 24949 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 14:05:35.640 DEBUG 24949 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 14:05:35.657 DEBUG 24949 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 14:05:35.672 DEBUG 24949 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 14:05:35.689  INFO 24949 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 14:05:35.697  INFO 24949 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 14:05:36.691 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 14:05:36.695 DEBUG 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 14:05:36.803  WARN 24949 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 14:05:37.537  INFO 24949 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a85e86e, org.springframework.security.web.context.SecurityContextPersistenceFilter@64d53f0d, org.springframework.security.web.header.HeaderWriterFilter@64fc6470, org.springframework.security.web.authentication.logout.LogoutFilter@18209303, com.paytm.assignment1.filters.JwtRequestFilter@1c8e2850, com.paytm.assignment1.filters.UserAuthorizationFilter@4bf10fe1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b916cc2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6e355249, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@320fc4b0, org.springframework.security.web.session.SessionManagementFilter@75c15f76, org.springframework.security.web.access.ExceptionTranslationFilter@53fc870f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@253b1cbd]
2022-02-17 14:05:39.002  INFO 24949 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 14:05:39.004  INFO 24949 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 14:05:39.006  INFO 24949 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2022-02-17 14:05:39.160  INFO 24949 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 14:05:39.342  INFO 24949 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:05:39.344  INFO 24949 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:05:39.344  INFO 24949 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645086939337
2022-02-17 14:05:39.730  INFO 24949 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 14:05:39.747  INFO 24949 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:05:39.748  INFO 24949 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:05:39.748  INFO 24949 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:05:39.809  INFO 24949 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 14:05:39.886  INFO 24949 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:05:39.888  INFO 24949 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:05:39.888  INFO 24949 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645086939886
2022-02-17 14:05:39.891  INFO 24949 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 14:05:39.966  INFO 24949 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 14:05:39.988  INFO 24949 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:05:39.989  INFO 24949 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:05:39.989  INFO 24949 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645086939987
2022-02-17 14:05:39.991  INFO 24949 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 14:05:40.006  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 14:05:40.009  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 14:05:40.012  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:05:40.013  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:05:40.020  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:05:40.023  INFO 24949 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 57954 (http) with context path ''
2022-02-17 14:05:40.023  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:05:40.058  INFO 24949 --- [main] c.p.a.controllers.UserControllerIT       : Started UserControllerIT in 11.753 seconds (JVM running for 15.005)
2022-02-17 14:05:40.081  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 14:05:40.084  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:05:40.082  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 14:05:40.084  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:05:40.385  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=63, memberId='consumer-user-wallet-group-2-a2dfd7fd-4d51-4787-9e43-b9b87f013a3c', protocol='range'}
2022-02-17 14:05:40.385  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=63, memberId='consumer-user-wallet-group-1-77797658-e029-4977-a304-e07d9a26bbc2', protocol='range'}
2022-02-17 14:05:40.474  INFO 24949 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-17 14:05:40.476  INFO 24949 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-17 14:05:40.480  INFO 24949 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2022-02-17 14:05:40.502 TRACE 24949 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:05:40.504 DEBUG 24949 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:05:40.504 TRACE 24949 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:40.504 DEBUG 24949 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:05:40.527  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=63, memberId='consumer-user-wallet-group-2-a2dfd7fd-4d51-4787-9e43-b9b87f013a3c', protocol='range'}
2022-02-17 14:05:40.527  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=63, memberId='consumer-user-wallet-group-1-77797658-e029-4977-a304-e07d9a26bbc2', protocol='range'}
2022-02-17 14:05:40.543  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[transactions-0])
2022-02-17 14:05:40.542  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[])
2022-02-17 14:05:40.545  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Adding newly assigned partitions: 
2022-02-17 14:05:40.549 TRACE 24949 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:40.549 DEBUG 24949 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:05:40.550  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Adding newly assigned partitions: transactions-0
2022-02-17 14:05:40.550 DEBUG 24949 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2022-02-17 14:05:40.553  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: []
2022-02-17 14:05:40.569 ERROR 24949 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.ClassCastException: java.lang.String cannot be cast to org.springframework.security.core.userdetails.UserDetails
	at com.paytm.assignment1.filters.UserAuthorizationFilter.shouldNotFilter(UserAuthorizationFilter.java:40) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at com.paytm.assignment1.filters.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:57) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_231]

2022-02-17 14:05:40.581  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Setting offset for partition transactions-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 14:05:40.582  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [transactions-0]
2022-02-17 14:05:40.844 TRACE 24949 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:05:40.846 DEBUG 24949 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:05:40.847 TRACE 24949 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:40.847 DEBUG 24949 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:05:40.849 TRACE 24949 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:40.849 DEBUG 24949 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:05:40.849 DEBUG 24949 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2022-02-17 14:05:40.856 ERROR 24949 --- [http-nio-auto-1-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.ClassCastException: java.lang.String cannot be cast to org.springframework.security.core.userdetails.UserDetails
	at com.paytm.assignment1.filters.UserAuthorizationFilter.shouldNotFilter(UserAuthorizationFilter.java:40) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at com.paytm.assignment1.filters.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:57) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_231]

2022-02-17 14:05:40.912 TRACE 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:05:40.913 DEBUG 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:05:40.913 TRACE 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:40.913 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:05:40.914 TRACE 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:40.917 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:05:40.917 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2022-02-17 14:05:40.931 TRACE 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:05:40.933 DEBUG 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:05:40.933 TRACE 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:40.933 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:05:40.934 TRACE 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:40.934 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:05:40.934 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2022-02-17 14:05:40.972 TRACE 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:05:40.973 DEBUG 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:05:40.973 TRACE 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:40.974 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:05:40.975 TRACE 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:40.975 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:05:40.975 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2022-02-17 14:05:40.993 TRACE 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:05:40.995 DEBUG 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:05:40.995 TRACE 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:40.995 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:05:40.996 TRACE 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:40.997 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:05:40.997 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2022-02-17 14:05:41.005 TRACE 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:05:41.005 DEBUG 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:05:41.006 TRACE 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:41.006 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:05:41.006 TRACE 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:41.007 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:05:41.009 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2022-02-17 14:05:41.016 TRACE 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:05:41.016 DEBUG 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:05:41.016 TRACE 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:41.016 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:05:41.017 TRACE 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:41.017 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : auth is not null
2022-02-17 14:05:41.017 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2022-02-17 14:05:41.037 TRACE 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:05:41.037 DEBUG 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:05:41.037 TRACE 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:41.037 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:05:41.132 TRACE 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:05:41.133 DEBUG 24949 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:05:41.133 TRACE 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:05:41.133 DEBUG 24949 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication
2022-02-17 14:05:41.218  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Revoke previously assigned partitions transactions-0
2022-02-17 14:05:41.222  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-a2dfd7fd-4d51-4787-9e43-b9b87f013a3c sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 14:05:41.222  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [transactions-0]
2022-02-17 14:05:41.223  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-77797658-e029-4977-a304-e07d9a26bbc2 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 14:05:41.224  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:05:41.224  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:05:41.224  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:05:41.224  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:05:41.224  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 14:05:41.224  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 14:05:41.225  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:05:41.226  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:05:41.226  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:05:41.226  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:05:41.238  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:05:41.238  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:05:41.238  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:05:41.238  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:05:41.238  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:05:41.239  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:05:41.247  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 14:05:41.249  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 14:05:41.255  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 14:05:41.255  INFO 24949 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 14:05:41.268  INFO 24949 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 14:05:41.279  INFO 24949 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 14:05:41.297  INFO 24949 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 14:11:05.116  INFO 25256 --- [main] c.p.a.controllers.UserControllerIT       : Starting UserControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 25256 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 14:11:05.118 DEBUG 25256 --- [main] c.p.a.controllers.UserControllerIT       : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 14:11:05.118  INFO 25256 --- [main] c.p.a.controllers.UserControllerIT       : No active profile set, falling back to default profiles: default
2022-02-17 14:11:06.377  INFO 25256 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 14:11:06.479  INFO 25256 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 95 ms. Found 3 JPA repository interfaces.
2022-02-17 14:11:08.099  INFO 25256 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 14:11:08.115  INFO 25256 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 14:11:08.116  INFO 25256 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 14:11:08.323  INFO 25256 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 14:11:08.324  INFO 25256 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3179 ms
2022-02-17 14:11:08.947  INFO 25256 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 14:11:08.982  INFO 25256 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 14:11:09.122  INFO 25256 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 14:11:09.219  INFO 25256 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 14:11:09.911  INFO 25256 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 14:11:09.946  INFO 25256 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 14:11:11.072 DEBUG 25256 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 14:11:11.115 DEBUG 25256 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 14:11:11.128 DEBUG 25256 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 14:11:11.136 DEBUG 25256 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 14:11:11.141 DEBUG 25256 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 14:11:11.148 DEBUG 25256 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 14:11:11.156 DEBUG 25256 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 14:11:11.165 DEBUG 25256 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 14:11:11.173 DEBUG 25256 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 14:11:11.176 DEBUG 25256 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 14:11:11.188 DEBUG 25256 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 14:11:11.197 DEBUG 25256 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 14:11:11.203 DEBUG 25256 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 14:11:11.212 DEBUG 25256 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 14:11:11.218 DEBUG 25256 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 14:11:11.230 DEBUG 25256 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 14:11:11.243 DEBUG 25256 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 14:11:11.258 DEBUG 25256 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 14:11:11.280  INFO 25256 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 14:11:11.288  INFO 25256 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 14:11:12.196 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 14:11:12.199 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 14:11:12.331  WARN 25256 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 14:11:13.012  INFO 25256 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10724a72, org.springframework.security.web.context.SecurityContextPersistenceFilter@4b916cc2, org.springframework.security.web.header.HeaderWriterFilter@42db955e, org.springframework.security.web.authentication.logout.LogoutFilter@6aa9a93b, com.paytm.assignment1.filters.JwtRequestFilter@399c408c, com.paytm.assignment1.filters.UserAuthorizationFilter@4a5fab78, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@323eecf8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20b67366, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25435731, org.springframework.security.web.session.SessionManagementFilter@1344f7fe, org.springframework.security.web.access.ExceptionTranslationFilter@43cbafa6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@37083af6]
2022-02-17 14:11:14.439  INFO 25256 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 14:11:14.443  INFO 25256 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 14:11:14.463  INFO 25256 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 20 ms
2022-02-17 14:11:14.632  INFO 25256 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 14:11:14.804  INFO 25256 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:11:14.806  INFO 25256 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:11:14.806  INFO 25256 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645087274800
2022-02-17 14:11:15.192  INFO 25256 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 14:11:15.200  INFO 25256 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:11:15.200  INFO 25256 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:11:15.200  INFO 25256 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:11:15.257  INFO 25256 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 14:11:15.380  INFO 25256 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:11:15.382  INFO 25256 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:11:15.382  INFO 25256 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645087275380
2022-02-17 14:11:15.388  INFO 25256 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 14:11:15.426  INFO 25256 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 14:11:15.462  INFO 25256 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:11:15.467  INFO 25256 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:11:15.467  INFO 25256 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645087275462
2022-02-17 14:11:15.474  INFO 25256 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 14:11:15.524  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 14:11:15.525  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 14:11:15.526  INFO 25256 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 58110 (http) with context path ''
2022-02-17 14:11:15.527  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:11:15.527  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:11:15.536  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:11:15.536  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:11:15.570  INFO 25256 --- [main] c.p.a.controllers.UserControllerIT       : Started UserControllerIT in 11.006 seconds (JVM running for 13.65)
2022-02-17 14:11:15.581  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 14:11:15.581  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 14:11:15.583  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:11:15.584  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:11:15.955  INFO 25256 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-17 14:11:15.955  INFO 25256 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-17 14:11:15.956  INFO 25256 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-02-17 14:11:15.970 TRACE 25256 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:15.971 DEBUG 25256 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:11:15.971 TRACE 25256 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:15.971 DEBUG 25256 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:15.981 TRACE 25256 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:15.983 DEBUG 25256 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:16.240 TRACE 25256 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:16.242 DEBUG 25256 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:11:16.243 TRACE 25256 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:16.243 DEBUG 25256 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:16.247 TRACE 25256 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:16.247 DEBUG 25256 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:16.314 TRACE 25256 --- [http-nio-auto-1-exec-2] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 14:11:16.340 TRACE 25256 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : addUser()
2022-02-17 14:11:16.340 DEBUG 25256 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : validating new user
2022-02-17 14:11:16.393 DEBUG 25256 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 14:11:16.462 DEBUG 25256 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 14:11:16.471 DEBUG 25256 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 14:11:16.472 DEBUG 25256 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : user validations done
2022-02-17 14:11:16.538 DEBUG 25256 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 14:11:16.541 DEBUG 25256 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 14:11:16.563 DEBUG 25256 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 14:11:16.671 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:16.675 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:11:16.675 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:16.675 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:16.678 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:16.679 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:16.687 TRACE 25256 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 14:11:16.687 TRACE 25256 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 14:11:16.687 DEBUG 25256 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 14:11:16.689 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 14:11:16.696 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 14:11:16.700 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 14:11:16.705  WARN 25256 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 14:11:16.797  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=67, memberId='consumer-user-wallet-group-2-498287f5-c25f-4ffa-a355-7e8e3817a68d', protocol='range'}
2022-02-17 14:11:16.797  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=67, memberId='consumer-user-wallet-group-1-b91ed724-96de-4aed-96a7-6e95ea36c524', protocol='range'}
2022-02-17 14:11:16.810 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:16.810 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:11:16.810 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:16.810 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:16.812 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:16.812 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:16.814 TRACE 25256 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 14:11:16.815 TRACE 25256 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 14:11:16.815 DEBUG 25256 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 14:11:16.816 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 14:11:16.823 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 14:11:16.824  WARN 25256 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :email
2022-02-17 14:11:16.839 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:16.840 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:11:16.840 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:16.840 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:16.841 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:16.842 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:16.844 TRACE 25256 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 14:11:16.844 TRACE 25256 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 14:11:16.844 DEBUG 25256 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 14:11:16.844  WARN 25256 --- [main] c.p.a.exceptions.EmptyFieldException     : Empty Field: userName
2022-02-17 14:11:16.852 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:16.852 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:11:16.852 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:16.852 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:16.852 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:16.853 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:16.862 TRACE 25256 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 14:11:16.862 TRACE 25256 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 14:11:16.862 DEBUG 25256 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 14:11:16.863 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 14:11:16.864 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 14:11:16.866 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 14:11:16.867 DEBUG 25256 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 14:11:16.869 DEBUG 25256 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 14:11:16.870 DEBUG 25256 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 14:11:16.873 DEBUG 25256 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 14:11:16.889 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:16.890 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:11:16.890 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:16.890 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:16.890 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:16.890 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:16.895 TRACE 25256 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 14:11:16.897 TRACE 25256 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:11:16.912  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=67, memberId='consumer-user-wallet-group-1-b91ed724-96de-4aed-96a7-6e95ea36c524', protocol='range'}
2022-02-17 14:11:16.912  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=67, memberId='consumer-user-wallet-group-2-498287f5-c25f-4ffa-a355-7e8e3817a68d', protocol='range'}
2022-02-17 14:11:16.923  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[transactions-0])
2022-02-17 14:11:16.923  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[])
2022-02-17 14:11:16.924  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Adding newly assigned partitions: 
2022-02-17 14:11:16.925  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: []
2022-02-17 14:11:16.926 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:11:16.926  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Adding newly assigned partitions: transactions-0
2022-02-17 14:11:16.944  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Setting offset for partition transactions-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 14:11:16.948  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [transactions-0]
2022-02-17 14:11:16.959 TRACE 25256 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:11:16.961 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:11:17.091 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:17.093 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:11:17.094 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.094 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:17.097 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.097 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:17.100 TRACE 25256 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 14:11:17.101 TRACE 25256 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:11:17.102 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:11:17.125 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:17.137 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:11:17.137 TRACE 25256 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:11:17.161 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:11:17.165 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.165 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:11:17.165 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:11:17.165 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:11:17.165 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:11:17.165 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 14:11:17.179 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:11:17.186 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.187 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:11:17.187 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:11:17.198 TRACE 25256 --- [main] c.p.a.controllers.UserController         : /user/{id} getUser() request
2022-02-17 14:11:17.199 TRACE 25256 --- [main] c.p.assignment1.services.UserService     : getUser()
2022-02-17 14:11:17.216 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 14:11:17.266 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:17.269 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:11:17.269 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.269 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:17.284 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:17.287 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:11:17.287 TRACE 25256 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:11:17.289 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:11:17.298 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.298 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:11:17.298 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 14:11:17.298 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:11:17.298 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 14:11:17.298 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 14:11:17.299 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:11:17.302 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 14:11:17.333 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:17.336 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:11:17.336 TRACE 25256 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:11:17.337 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:11:17.345 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.346 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:11:17.346 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 14:11:17.346 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:11:17.346 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 14:11:17.346 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 14:11:17.347 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:11:17.350 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 14:11:17.366 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:17.376 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:11:17.376 TRACE 25256 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:11:17.377 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:11:17.382 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.383 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:11:17.383 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:11:17.383 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:11:17.383 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:11:17.383 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 14:11:17.383 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:11:17.387 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.388 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:11:17.388 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:11:17.394 TRACE 25256 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 14:11:17.398 TRACE 25256 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 14:11:17.399 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 14:11:17.408 DEBUG 25256 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 14:11:17.409 DEBUG 25256 --- [main] c.p.assignment1.services.UserService     : validation complete
2022-02-17 14:11:17.422 DEBUG 25256 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 14:11:17.464 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:17.483 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:11:17.483 TRACE 25256 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:11:17.484 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:11:17.488 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.489 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:11:17.489 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 14:11:17.489 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:11:17.489 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 14:11:17.489 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 14:11:17.489 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:11:17.491 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 14:11:17.515 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:17.517 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:11:17.517 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.517 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:17.528 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:17.530 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:11:17.530 TRACE 25256 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:11:17.530 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:11:17.536 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.536 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:11:17.536 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:11:17.536 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:11:17.536 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:11:17.536 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 14:11:17.536 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:11:17.538 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.538 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:11:17.538 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:11:17.540 TRACE 25256 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 14:11:17.543 TRACE 25256 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 14:11:17.544 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 14:11:17.545 DEBUG 25256 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 14:11:17.547 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 14:11:17.549  WARN 25256 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 14:11:17.559 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:17.560 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:11:17.560 TRACE 25256 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:11:17.560 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:11:17.564 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.564 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:11:17.564 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 14:11:17.564 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:11:17.564 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 14:11:17.564 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 14:11:17.565 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:11:17.566 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 14:11:17.574 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:17.575 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:11:17.575 TRACE 25256 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:11:17.576 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:11:17.582 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.582 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:11:17.582 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:11:17.582 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:11:17.582 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:11:17.582 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 14:11:17.583 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:11:17.586 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.586 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:11:17.586 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:11:17.586 TRACE 25256 --- [main] c.p.a.controllers.UserController         : /user/{id} deleteUser() request
2022-02-17 14:11:17.587 TRACE 25256 --- [main] c.p.assignment1.services.UserService     : deleteUser()
2022-02-17 14:11:17.599 DEBUG 25256 --- [main] org.hibernate.SQL                        : select count(*) as col_0_0_ from user user0_ where user0_.id=?
2022-02-17 14:11:17.616 DEBUG 25256 --- [main] org.hibernate.SQL                        : update user set is_active=? where id=?
2022-02-17 14:11:17.649 DEBUG 25256 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 14:11:17.658 DEBUG 25256 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 14:11:17.660 DEBUG 25256 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 14:11:17.664 TRACE 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:11:17.665 DEBUG 25256 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:11:17.665 TRACE 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:11:17.665 DEBUG 25256 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:11:17.706  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Revoke previously assigned partitions transactions-0
2022-02-17 14:11:17.707  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-498287f5-c25f-4ffa-a355-7e8e3817a68d sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 14:11:17.711  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [transactions-0]
2022-02-17 14:11:17.712  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:11:17.712  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-b91ed724-96de-4aed-96a7-6e95ea36c524 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 14:11:17.712  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:11:17.712  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 14:11:17.712  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:11:17.712  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:11:17.712  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 14:11:17.712  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:11:17.713  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:11:17.714  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:11:17.714  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:11:17.716  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:11:17.716  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:11:17.716  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:11:17.716  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:11:17.717  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:11:17.716  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:11:17.722  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 14:11:17.722  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 14:11:17.725  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 14:11:17.725  INFO 25256 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 14:11:17.735  INFO 25256 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 14:11:17.742  INFO 25256 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 14:11:17.760  INFO 25256 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 14:13:43.988  INFO 25418 --- [main] c.p.a.controllers.UserControllerIT       : Starting UserControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 25418 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 14:13:43.990 DEBUG 25418 --- [main] c.p.a.controllers.UserControllerIT       : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 14:13:43.990  INFO 25418 --- [main] c.p.a.controllers.UserControllerIT       : No active profile set, falling back to default profiles: default
2022-02-17 14:13:45.301  INFO 25418 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 14:13:45.403  INFO 25418 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 95 ms. Found 3 JPA repository interfaces.
2022-02-17 14:13:46.958  INFO 25418 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 14:13:46.977  INFO 25418 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 14:13:46.977  INFO 25418 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 14:13:47.184  INFO 25418 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 14:13:47.185  INFO 25418 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3167 ms
2022-02-17 14:13:47.792  INFO 25418 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 14:13:47.842  INFO 25418 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 14:13:47.985  INFO 25418 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 14:13:48.078  INFO 25418 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 14:13:48.792  INFO 25418 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 14:13:48.821  INFO 25418 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 14:13:49.938 DEBUG 25418 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 14:13:50.012 DEBUG 25418 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 14:13:50.025 DEBUG 25418 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 14:13:50.032 DEBUG 25418 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 14:13:50.037 DEBUG 25418 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 14:13:50.042 DEBUG 25418 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 14:13:50.047 DEBUG 25418 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 14:13:50.056 DEBUG 25418 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 14:13:50.066 DEBUG 25418 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 14:13:50.069 DEBUG 25418 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 14:13:50.081 DEBUG 25418 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 14:13:50.088 DEBUG 25418 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 14:13:50.095 DEBUG 25418 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 14:13:50.102 DEBUG 25418 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 14:13:50.109 DEBUG 25418 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 14:13:50.120 DEBUG 25418 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 14:13:50.134 DEBUG 25418 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 14:13:50.149 DEBUG 25418 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 14:13:50.168  INFO 25418 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 14:13:50.178  INFO 25418 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 14:13:51.135 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 14:13:51.138 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 14:13:51.239  WARN 25418 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 14:13:52.015  INFO 25418 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10301d6f, org.springframework.security.web.context.SecurityContextPersistenceFilter@323eecf8, org.springframework.security.web.header.HeaderWriterFilter@6c8ad6d7, org.springframework.security.web.authentication.logout.LogoutFilter@14b9df65, com.paytm.assignment1.filters.JwtRequestFilter@399c408c, com.paytm.assignment1.filters.UserAuthorizationFilter@4a5fab78, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e355249, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c0ece6d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5cd6719d, org.springframework.security.web.session.SessionManagementFilter@1b10f60e, org.springframework.security.web.access.ExceptionTranslationFilter@64fc6470, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@28c7fd9d]
2022-02-17 14:13:53.545  INFO 25418 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 14:13:53.547  INFO 25418 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 14:13:53.553  INFO 25418 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 6 ms
2022-02-17 14:13:53.709  INFO 25418 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 14:13:53.847  INFO 25418 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:13:53.848  INFO 25418 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:13:53.848  INFO 25418 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645087433843
2022-02-17 14:13:54.255  INFO 25418 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 14:13:54.262  INFO 25418 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:13:54.263  INFO 25418 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:13:54.264  INFO 25418 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:13:54.359  INFO 25418 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 14:13:54.434  INFO 25418 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:13:54.437  INFO 25418 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:13:54.437  INFO 25418 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645087434434
2022-02-17 14:13:54.443  INFO 25418 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 14:13:54.496  INFO 25418 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 14:13:54.522  INFO 25418 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:13:54.523  INFO 25418 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:13:54.523  INFO 25418 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645087434522
2022-02-17 14:13:54.524  INFO 25418 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 14:13:54.561  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 14:13:54.561  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 14:13:54.564  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:13:54.565  INFO 25418 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 58190 (http) with context path ''
2022-02-17 14:13:54.564  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:13:54.573  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:13:54.573  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:13:54.605  INFO 25418 --- [main] c.p.a.controllers.UserControllerIT       : Started UserControllerIT in 11.157 seconds (JVM running for 13.629)
2022-02-17 14:13:54.620  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 14:13:54.620  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 14:13:54.621  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:13:54.621  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:13:54.990  INFO 25418 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-17 14:13:54.991  INFO 25418 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-17 14:13:54.992  INFO 25418 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-02-17 14:13:55.006 TRACE 25418 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:55.007 DEBUG 25418 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:13:55.007 TRACE 25418 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:55.007 DEBUG 25418 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:55.018 TRACE 25418 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:55.020 DEBUG 25418 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:55.224 TRACE 25418 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:55.226 DEBUG 25418 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:13:55.226 TRACE 25418 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:55.226 DEBUG 25418 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:55.228 TRACE 25418 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:55.229 DEBUG 25418 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:55.296 TRACE 25418 --- [http-nio-auto-1-exec-2] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 14:13:55.315 TRACE 25418 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : addUser()
2022-02-17 14:13:55.315 DEBUG 25418 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : validating new user
2022-02-17 14:13:55.388 DEBUG 25418 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 14:13:55.449 DEBUG 25418 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 14:13:55.456 DEBUG 25418 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 14:13:55.460 DEBUG 25418 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : user validations done
2022-02-17 14:13:55.517 DEBUG 25418 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 14:13:55.520 DEBUG 25418 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 14:13:55.544 DEBUG 25418 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 14:13:55.588  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=71, memberId='consumer-user-wallet-group-2-db1b28e4-96b7-4f3a-a19e-3493d58ae890', protocol='range'}
2022-02-17 14:13:55.588  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=71, memberId='consumer-user-wallet-group-1-1cbcdbd1-779f-4d47-bc2e-f605e2a947d5', protocol='range'}
2022-02-17 14:13:55.672 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:55.675 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:13:55.675 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:55.675 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:55.678 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:55.679 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:55.688 TRACE 25418 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 14:13:55.696 TRACE 25418 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 14:13:55.696 DEBUG 25418 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 14:13:55.701 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 14:13:55.706  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=71, memberId='consumer-user-wallet-group-1-1cbcdbd1-779f-4d47-bc2e-f605e2a947d5', protocol='range'}
2022-02-17 14:13:55.706  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=71, memberId='consumer-user-wallet-group-2-db1b28e4-96b7-4f3a-a19e-3493d58ae890', protocol='range'}
2022-02-17 14:13:55.715  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[])
2022-02-17 14:13:55.715  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[transactions-0])
2022-02-17 14:13:55.716  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Adding newly assigned partitions: 
2022-02-17 14:13:55.718  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: []
2022-02-17 14:13:55.720 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 14:13:55.723  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Adding newly assigned partitions: transactions-0
2022-02-17 14:13:55.723 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 14:13:55.730  WARN 25418 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 14:13:55.745  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Setting offset for partition transactions-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 14:13:55.747  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [transactions-0]
2022-02-17 14:13:55.827 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:55.827 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:13:55.827 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:55.827 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:55.829 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:55.829 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:55.831 TRACE 25418 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 14:13:55.832 TRACE 25418 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 14:13:55.832 DEBUG 25418 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 14:13:55.833 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 14:13:55.837 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 14:13:55.838  WARN 25418 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :email
2022-02-17 14:13:55.859 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:55.859 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:13:55.860 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:55.860 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:55.860 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:55.860 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:55.862 TRACE 25418 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 14:13:55.862 TRACE 25418 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 14:13:55.862 DEBUG 25418 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 14:13:55.862  WARN 25418 --- [main] c.p.a.exceptions.EmptyFieldException     : Empty Field: userName
2022-02-17 14:13:55.874 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:55.874 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:13:55.874 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:55.874 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:55.875 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:55.875 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:55.876 TRACE 25418 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 14:13:55.876 TRACE 25418 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 14:13:55.876 DEBUG 25418 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 14:13:55.877 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 14:13:55.879 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 14:13:55.886 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 14:13:55.889 DEBUG 25418 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 14:13:55.890 DEBUG 25418 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 14:13:55.891 DEBUG 25418 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 14:13:55.893 DEBUG 25418 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 14:13:55.910 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:55.911 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:13:55.911 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:55.911 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:55.911 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:55.911 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:55.915 TRACE 25418 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 14:13:55.919 TRACE 25418 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:13:55.931 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:13:55.950 TRACE 25418 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:13:55.951 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:13:56.048 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:56.049 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:13:56.049 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.049 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:56.050 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.051 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:56.053 TRACE 25418 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 14:13:56.053 TRACE 25418 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:13:56.054 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:13:56.079 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:56.103 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:13:56.104 TRACE 25418 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:13:56.137 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:13:56.152 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.153 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:13:56.153 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:13:56.154 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:13:56.154 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:13:56.154 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 14:13:56.171 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:13:56.179 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.179 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:13:56.179 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:13:56.191 TRACE 25418 --- [main] c.p.a.controllers.UserController         : /user/{id} getUser() request
2022-02-17 14:13:56.192 TRACE 25418 --- [main] c.p.assignment1.services.UserService     : getUser()
2022-02-17 14:13:56.208 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 14:13:56.242 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:56.243 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:13:56.243 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.243 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:56.257 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:56.259 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:13:56.259 TRACE 25418 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:13:56.260 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:13:56.264 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.264 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:13:56.264 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 14:13:56.264 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:13:56.264 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 14:13:56.264 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 14:13:56.265 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:13:56.267 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 14:13:56.276 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:56.278 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:13:56.278 TRACE 25418 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:13:56.281 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:13:56.287 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.288 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:13:56.288 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 14:13:56.288 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:13:56.288 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 14:13:56.288 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 14:13:56.288 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:13:56.290 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 14:13:56.299 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:56.309 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:13:56.309 TRACE 25418 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:13:56.310 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:13:56.315 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.315 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:13:56.315 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:13:56.315 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:13:56.315 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:13:56.315 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 14:13:56.316 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:13:56.317 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.317 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:13:56.317 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:13:56.319 TRACE 25418 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 14:13:56.320 TRACE 25418 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 14:13:56.320 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 14:13:56.322 DEBUG 25418 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 14:13:56.323 DEBUG 25418 --- [main] c.p.assignment1.services.UserService     : validation complete
2022-02-17 14:13:56.332 DEBUG 25418 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 14:13:56.369 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:56.382 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:13:56.382 TRACE 25418 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:13:56.384 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:13:56.390 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.390 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:13:56.391 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 14:13:56.391 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:13:56.391 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 14:13:56.391 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 14:13:56.392 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:13:56.394 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 14:13:56.403 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:56.405 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:13:56.406 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.406 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:56.420 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:56.423 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:13:56.423 TRACE 25418 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:13:56.423 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:13:56.426 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.426 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:13:56.426 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:13:56.427 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:13:56.427 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:13:56.427 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 14:13:56.427 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:13:56.428 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.428 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:13:56.428 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:13:56.430 TRACE 25418 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 14:13:56.431 TRACE 25418 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 14:13:56.431 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 14:13:56.432 DEBUG 25418 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 14:13:56.434 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 14:13:56.436  WARN 25418 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 14:13:56.447 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:56.448 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:13:56.448 TRACE 25418 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:13:56.448 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:13:56.451 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.452 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:13:56.452 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 14:13:56.452 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:13:56.452 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 14:13:56.452 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 14:13:56.452 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:13:56.453 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 14:13:56.460 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:56.461 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 14:13:56.463 TRACE 25418 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:13:56.463 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:13:56.470 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.470 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:13:56.470 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:13:56.470 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:13:56.470 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:13:56.470 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 14:13:56.471 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 14:13:56.473 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.473 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:13:56.473 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 14:13:56.474 TRACE 25418 --- [main] c.p.a.controllers.UserController         : /user/{id} deleteUser() request
2022-02-17 14:13:56.474 TRACE 25418 --- [main] c.p.assignment1.services.UserService     : deleteUser()
2022-02-17 14:13:56.483 DEBUG 25418 --- [main] org.hibernate.SQL                        : select count(*) as col_0_0_ from user user0_ where user0_.id=?
2022-02-17 14:13:56.491 DEBUG 25418 --- [main] org.hibernate.SQL                        : update user set is_active=? where id=?
2022-02-17 14:13:56.511 DEBUG 25418 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 14:13:56.517 DEBUG 25418 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 14:13:56.519 DEBUG 25418 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 14:13:56.522 TRACE 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:13:56.522 DEBUG 25418 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:13:56.522 TRACE 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:13:56.522 DEBUG 25418 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:13:56.558  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Revoke previously assigned partitions transactions-0
2022-02-17 14:13:56.557  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-db1b28e4-96b7-4f3a-a19e-3493d58ae890 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 14:13:56.562  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [transactions-0]
2022-02-17 14:13:56.563  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-1cbcdbd1-779f-4d47-bc2e-f605e2a947d5 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 14:13:56.564  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:13:56.564  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:13:56.564  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 14:13:56.564  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:13:56.564  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:13:56.564  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 14:13:56.566  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:13:56.565  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:13:56.568  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:13:56.568  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:13:56.571  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:13:56.571  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:13:56.571  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:13:56.571  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:13:56.572  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:13:56.572  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:13:56.579  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 14:13:56.579  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 14:13:56.583  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 14:13:56.583  INFO 25418 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 14:13:56.593  INFO 25418 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 14:13:56.600  INFO 25418 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 14:13:56.614  INFO 25418 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 14:41:12.941  INFO 26792 --- [main] c.p.a.controllers.WalletControllerIT     : Starting WalletControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 26792 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 14:41:12.943 DEBUG 26792 --- [main] c.p.a.controllers.WalletControllerIT     : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 14:41:12.944  INFO 26792 --- [main] c.p.a.controllers.WalletControllerIT     : No active profile set, falling back to default profiles: default
2022-02-17 14:41:14.318  INFO 26792 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 14:41:14.410  INFO 26792 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 86 ms. Found 3 JPA repository interfaces.
2022-02-17 14:41:16.188  INFO 26792 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 14:41:16.205  INFO 26792 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 14:41:16.206  INFO 26792 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 14:41:16.414  INFO 26792 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 14:41:16.416  INFO 26792 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3430 ms
2022-02-17 14:41:17.014  INFO 26792 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 14:41:17.053  INFO 26792 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 14:41:17.238  INFO 26792 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 14:41:17.352  INFO 26792 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 14:41:18.183  INFO 26792 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 14:41:18.217  INFO 26792 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 14:41:19.762 DEBUG 26792 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 14:41:19.806 DEBUG 26792 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 14:41:19.818 DEBUG 26792 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 14:41:19.827 DEBUG 26792 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 14:41:19.832 DEBUG 26792 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 14:41:19.839 DEBUG 26792 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 14:41:19.844 DEBUG 26792 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 14:41:19.853 DEBUG 26792 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 14:41:19.861 DEBUG 26792 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 14:41:19.864 DEBUG 26792 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 14:41:19.878 DEBUG 26792 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 14:41:19.886 DEBUG 26792 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 14:41:19.892 DEBUG 26792 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 14:41:19.901 DEBUG 26792 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 14:41:19.912 DEBUG 26792 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 14:41:19.923 DEBUG 26792 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 14:41:19.939 DEBUG 26792 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 14:41:19.954 DEBUG 26792 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 14:41:19.974  INFO 26792 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 14:41:19.988  INFO 26792 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 14:41:21.401 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 14:41:21.404 DEBUG 26792 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 14:41:21.537  WARN 26792 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 14:41:22.452  INFO 26792 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@453a30f8, org.springframework.security.web.context.SecurityContextPersistenceFilter@6ad3fbe4, org.springframework.security.web.header.HeaderWriterFilter@4aa517c3, org.springframework.security.web.authentication.logout.LogoutFilter@65a80fdb, com.paytm.assignment1.filters.JwtRequestFilter@5034681f, com.paytm.assignment1.filters.UserAuthorizationFilter@1fe05fff, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@983050b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d15789f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7cec3975, org.springframework.security.web.session.SessionManagementFilter@7381d6f0, org.springframework.security.web.access.ExceptionTranslationFilter@1af82ba8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@12bcf7c6]
2022-02-17 14:41:24.323  INFO 26792 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 14:41:24.325  INFO 26792 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 14:41:24.329  INFO 26792 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 4 ms
2022-02-17 14:41:24.497  INFO 26792 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 14:41:24.631  INFO 26792 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:41:24.631  INFO 26792 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:41:24.631  INFO 26792 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645089084626
2022-02-17 14:41:25.095  INFO 26792 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 14:41:25.102  INFO 26792 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:41:25.103  INFO 26792 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:41:25.104  INFO 26792 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:41:25.173  INFO 26792 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 14:41:25.262  INFO 26792 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:41:25.264  INFO 26792 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:41:25.264  INFO 26792 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645089085262
2022-02-17 14:41:25.268  INFO 26792 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 14:41:25.310  INFO 26792 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 14:41:25.427  INFO 26792 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:41:25.428  INFO 26792 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:41:25.428  INFO 26792 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645089085427
2022-02-17 14:41:25.429  INFO 26792 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 14:41:25.446  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 14:41:25.445  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 14:41:25.448  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:41:25.448  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:41:25.462  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:41:25.462  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:41:25.481  INFO 26792 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 58610 (http) with context path ''
2022-02-17 14:41:25.498  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 14:41:25.498  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 14:41:25.500  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:41:25.500  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:41:25.517  INFO 26792 --- [main] c.p.a.controllers.WalletControllerIT     : Started WalletControllerIT in 13.388 seconds (JVM running for 15.461)
2022-02-17 14:41:25.746 TRACE 26792 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:41:25.748 DEBUG 26792 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:41:25.748 TRACE 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:41:25.748 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:41:25.759 TRACE 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:41:25.760 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:41:25.843 TRACE 26792 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 14:41:25.863 TRACE 26792 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 14:41:25.864 DEBUG 26792 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 14:41:25.900 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 14:41:25.943 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 14:41:25.950 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 14:41:25.952 DEBUG 26792 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 14:41:25.995 DEBUG 26792 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 14:41:25.998 DEBUG 26792 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 14:41:26.023 DEBUG 26792 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 14:41:26.150 TRACE 26792 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:41:26.152 DEBUG 26792 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:41:26.152 TRACE 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:41:26.152 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:41:26.155 TRACE 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:41:26.155 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:41:26.160 TRACE 26792 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 14:41:26.160 TRACE 26792 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 14:41:26.160 DEBUG 26792 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 14:41:26.161 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 14:41:26.171 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 14:41:26.172 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 14:41:26.173 DEBUG 26792 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 14:41:26.174 DEBUG 26792 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 14:41:26.176 DEBUG 26792 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 14:41:26.178 DEBUG 26792 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 14:41:26.196 TRACE 26792 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:41:26.197 DEBUG 26792 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:41:26.197 TRACE 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:41:26.197 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:41:26.197 TRACE 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:41:26.197 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:41:26.205 TRACE 26792 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 14:41:26.209 TRACE 26792 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:41:26.224 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:41:26.246 TRACE 26792 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:41:26.249 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:41:26.387 TRACE 26792 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:41:26.400 DEBUG 26792 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:41:26.400 TRACE 26792 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:41:26.431 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:41:26.437 TRACE 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:41:26.439 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:41:26.439 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 14:41:26.439 TRACE 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:41:26.439 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 14:41:26.439 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 14:41:26.448 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:41:26.453 TRACE 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:41:26.454 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:41:26.454 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 14:41:26.476 TRACE 26792 --- [main] c.p.a.controllers.WalletController       : /create-wallet/{mobile}
2022-02-17 14:41:26.477 DEBUG 26792 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 14:41:26.505 TRACE 26792 --- [main] c.p.assignment1.services.WalletService   : createWallet() 
2022-02-17 14:41:26.524 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.mobile=?
2022-02-17 14:41:26.550 DEBUG 26792 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 14:41:26.552 DEBUG 26792 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 14:41:26.570  INFO 26792 --- [main] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values: 
	acks = -1
	batch.size = 16384
	bootstrap.servers = [127.0.0.1:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-02-17 14:41:26.615  INFO 26792 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:41:26.619  INFO 26792 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:41:26.619  INFO 26792 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645089086615
2022-02-17 14:41:26.647  INFO 26792 --- [kafka-producer-network-thread | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 14:41:26.668 DEBUG 26792 --- [main] org.hibernate.SQL                        : insert into user_wallet (create_time, update_time, balance_amount, is_active, id) values (?, ?, ?, ?, ?)
2022-02-17 14:41:26.682 DEBUG 26792 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 14:41:26.685 DEBUG 26792 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 14:41:26.779 TRACE 26792 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:41:26.779 DEBUG 26792 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:41:26.780 TRACE 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:41:26.781 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:41:26.829 TRACE 26792 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:41:26.833 DEBUG 26792 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:41:26.833 TRACE 26792 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:41:26.835 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:41:26.873 TRACE 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:41:26.873 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:41:26.873 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/8630018154
2022-02-17 14:41:26.873 TRACE 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:41:26.873 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/8630018154
2022-02-17 14:41:26.873 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 8630018154
2022-02-17 14:41:26.874 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:41:26.884 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 14:41:26.931 TRACE 26792 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:41:26.934 DEBUG 26792 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:41:26.934 TRACE 26792 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:41:26.938 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:41:26.964 TRACE 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:41:26.964 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:41:26.964 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 14:41:26.964 TRACE 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:41:26.964 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 14:41:26.964 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 14:41:26.965 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:41:26.967 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 14:41:27.002 TRACE 26792 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:41:27.011 DEBUG 26792 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:41:27.012 TRACE 26792 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:41:27.013 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:41:27.031 TRACE 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:41:27.032 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:41:27.032 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 14:41:27.032 TRACE 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:41:27.032 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 14:41:27.032 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 14:41:27.033 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:41:27.040 TRACE 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:41:27.040 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:41:27.040 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 14:41:27.046 TRACE 26792 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 14:41:27.048 DEBUG 26792 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 14:41:27.049 TRACE 26792 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 14:41:27.066 DEBUG 26792 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 14:41:27.075 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 14:41:27.105 TRACE 26792 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:41:27.109 DEBUG 26792 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:41:27.110 TRACE 26792 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:41:27.110 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:41:27.117 TRACE 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:41:27.117 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:41:27.117 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 14:41:27.117 TRACE 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:41:27.117 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 14:41:27.117 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 14:41:27.118 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:41:27.120 TRACE 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:41:27.120 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:41:27.121 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 14:41:27.121 TRACE 26792 --- [main] c.p.a.controllers.WalletController       : /create-wallet/{mobile}
2022-02-17 14:41:27.121 DEBUG 26792 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 14:41:27.122 TRACE 26792 --- [main] c.p.assignment1.services.WalletService   : createWallet() 
2022-02-17 14:41:27.123 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.mobile=?
2022-02-17 14:41:27.125  WARN 26792 --- [main] c.p.a.e.WalletAlreadyPresentException    : 9808727553
2022-02-17 14:41:27.142 TRACE 26792 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:41:27.143 DEBUG 26792 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:41:27.143 TRACE 26792 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:41:27.144 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:41:27.146 TRACE 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:41:27.147 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:41:27.147 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/8630018154
2022-02-17 14:41:27.147 TRACE 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:41:27.147 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/8630018154
2022-02-17 14:41:27.147 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 8630018154
2022-02-17 14:41:27.147 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:41:27.149 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 14:41:27.163 TRACE 26792 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:41:27.165 DEBUG 26792 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:41:27.166 TRACE 26792 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:41:27.166 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:41:27.172 TRACE 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:41:27.175 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:41:27.175 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 14:41:27.175 TRACE 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:41:27.175 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 14:41:27.175 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 14:41:27.176 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:41:27.178 TRACE 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:41:27.178 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:41:27.178 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 14:41:27.179 TRACE 26792 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 14:41:27.179 DEBUG 26792 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 14:41:27.180 TRACE 26792 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 14:41:27.181 DEBUG 26792 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 14:41:27.184 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 14:41:27.192 TRACE 26792 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:41:27.193 DEBUG 26792 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:41:27.193 TRACE 26792 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:41:27.194 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:41:27.197 TRACE 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:41:27.197 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:41:27.197 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 14:41:27.197 TRACE 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:41:27.197 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 14:41:27.198 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 14:41:27.199 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:41:27.201 TRACE 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:41:27.201 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:41:27.202 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 14:41:27.215 TRACE 26792 --- [main] c.p.a.controllers.WalletController       : /add-balance
2022-02-17 14:41:27.216 DEBUG 26792 --- [main] c.p.a.controllers.WalletController       : RequestParams mobile:9808727553 amount:500.0
2022-02-17 14:41:27.219 TRACE 26792 --- [main] c.p.assignment1.services.WalletService   : addBalance() 
2022-02-17 14:41:27.220 DEBUG 26792 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 14:41:27.223 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 14:41:27.242 DEBUG 26792 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 14:41:27.254 TRACE 26792 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:41:27.256 DEBUG 26792 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:41:27.256 TRACE 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:41:27.256 DEBUG 26792 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:41:27.277 DEBUG 26792 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_
2022-02-17 14:41:27.279 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 14:41:27.289 DEBUG 26792 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 14:41:27.292 DEBUG 26792 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_0_, userwallet0_.create_time as create_t2_2_0_, userwallet0_.update_time as update_t3_2_0_, userwallet0_.balance_amount as balance_4_2_0_, userwallet0_.is_active as is_activ5_2_0_ from user_wallet userwallet0_ where userwallet0_.id=?
2022-02-17 14:41:27.299 DEBUG 26792 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 14:41:27.301 DEBUG 26792 --- [main] org.hibernate.SQL                        : delete from user_wallet where id=?
2022-02-17 14:41:27.309 DEBUG 26792 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 14:41:27.350  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-9cd31585-f27a-4790-b18c-f4300a03a424 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 14:41:27.351  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-36cb7303-9ba7-439c-9b96-e1d9c077db1b sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 14:41:27.354  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:41:27.354  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:41:27.354  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:41:27.354  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:41:27.354  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 14:41:27.354  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 14:41:27.355  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:41:27.355  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:41:27.356  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:41:27.356  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:41:27.977  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:41:27.977  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:41:27.979  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:41:27.980  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:41:27.981  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:41:27.981  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:41:27.988  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 14:41:27.999  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 14:41:27.999  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 14:41:27.999  INFO 26792 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 14:41:28.012  INFO 26792 --- [SpringApplicationShutdownHook] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2022-02-17 14:41:28.018  INFO 26792 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:41:28.018  INFO 26792 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:41:28.018  INFO 26792 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:41:28.019  INFO 26792 --- [SpringApplicationShutdownHook] o.a.kafka.common.utils.AppInfoParser     : App info kafka.producer for producer-1 unregistered
2022-02-17 14:41:28.023  INFO 26792 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 14:41:28.030  INFO 26792 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 14:41:28.048  INFO 26792 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 14:41:52.186  INFO 26823 --- [main] c.p.a.controllers.WalletControllerIT     : Starting WalletControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 26823 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 14:41:52.190 DEBUG 26823 --- [main] c.p.a.controllers.WalletControllerIT     : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 14:41:52.190  INFO 26823 --- [main] c.p.a.controllers.WalletControllerIT     : No active profile set, falling back to default profiles: default
2022-02-17 14:41:54.253  INFO 26823 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 14:41:54.506  INFO 26823 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 223 ms. Found 3 JPA repository interfaces.
2022-02-17 14:41:57.125  INFO 26823 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 14:41:57.173  INFO 26823 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 14:41:57.173  INFO 26823 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 14:41:57.406  INFO 26823 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 14:41:57.406  INFO 26823 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5152 ms
2022-02-17 14:41:58.259  INFO 26823 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 14:41:58.373  INFO 26823 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 14:41:58.773  INFO 26823 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 14:41:59.038  INFO 26823 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 14:42:00.237  INFO 26823 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 14:42:00.317  INFO 26823 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 14:42:02.321 DEBUG 26823 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 14:42:02.380 DEBUG 26823 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 14:42:02.391 DEBUG 26823 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 14:42:02.408 DEBUG 26823 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 14:42:02.413 DEBUG 26823 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 14:42:02.420 DEBUG 26823 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 14:42:02.426 DEBUG 26823 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 14:42:02.439 DEBUG 26823 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 14:42:02.450 DEBUG 26823 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 14:42:02.453 DEBUG 26823 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 14:42:02.467 DEBUG 26823 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 14:42:02.475 DEBUG 26823 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 14:42:02.482 DEBUG 26823 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 14:42:02.494 DEBUG 26823 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 14:42:02.500 DEBUG 26823 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 14:42:02.511 DEBUG 26823 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 14:42:02.528 DEBUG 26823 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 14:42:02.544 DEBUG 26823 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 14:42:02.566  INFO 26823 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 14:42:02.593  INFO 26823 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 14:42:04.135 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 14:42:04.138 DEBUG 26823 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 14:42:04.466  WARN 26823 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 14:42:05.613  INFO 26823 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c376b44, org.springframework.security.web.context.SecurityContextPersistenceFilter@20724c21, org.springframework.security.web.header.HeaderWriterFilter@5b977aaa, org.springframework.security.web.authentication.logout.LogoutFilter@761ea1f5, com.paytm.assignment1.filters.JwtRequestFilter@7b55f0a6, com.paytm.assignment1.filters.UserAuthorizationFilter@1016b44e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@eb66b47, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5cbaafbd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@47596e9, org.springframework.security.web.session.SessionManagementFilter@1a23136f, org.springframework.security.web.access.ExceptionTranslationFilter@51c15508, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6f53f5a4]
2022-02-17 14:42:07.689  INFO 26823 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 14:42:07.692  INFO 26823 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 14:42:07.697  INFO 26823 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 5 ms
2022-02-17 14:42:07.954  INFO 26823 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 14:42:08.251  INFO 26823 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:42:08.251  INFO 26823 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:42:08.251  INFO 26823 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645089128245
2022-02-17 14:42:09.026  INFO 26823 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 14:42:09.032  INFO 26823 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:42:09.032  INFO 26823 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:42:09.034  INFO 26823 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:42:09.095  INFO 26823 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 14:42:09.203  INFO 26823 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:42:09.203  INFO 26823 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:42:09.203  INFO 26823 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645089129203
2022-02-17 14:42:09.206  INFO 26823 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 14:42:09.269  INFO 26823 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 14:42:09.314  INFO 26823 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:42:09.314  INFO 26823 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:42:09.314  INFO 26823 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645089129313
2022-02-17 14:42:09.315  INFO 26823 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 14:42:09.389  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 14:42:09.389  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 14:42:09.394  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:42:09.394  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:42:09.397  INFO 26823 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 58641 (http) with context path ''
2022-02-17 14:42:09.403  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:42:09.405  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:42:09.439  INFO 26823 --- [main] c.p.a.controllers.WalletControllerIT     : Started WalletControllerIT in 18.418 seconds (JVM running for 22.097)
2022-02-17 14:42:09.468  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 14:42:09.468  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 14:42:09.484  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:42:09.484  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:42:09.865 TRACE 26823 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:42:09.869 DEBUG 26823 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:42:09.870 TRACE 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:42:09.870 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:42:09.900 TRACE 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:42:09.901 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:42:10.062 TRACE 26823 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 14:42:10.088 TRACE 26823 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 14:42:10.089 DEBUG 26823 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 14:42:10.165 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 14:42:10.240 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 14:42:10.246 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 14:42:10.248 DEBUG 26823 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 14:42:10.324 DEBUG 26823 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 14:42:10.326 DEBUG 26823 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 14:42:10.401 DEBUG 26823 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 14:42:10.542  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=77, memberId='consumer-user-wallet-group-2-c0a8c671-5a73-4941-bebb-c1b186701fb3', protocol='range'}
2022-02-17 14:42:10.542  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=77, memberId='consumer-user-wallet-group-1-b49d99d7-4334-4a47-aa58-5a2129443f64', protocol='range'}
2022-02-17 14:42:10.620 TRACE 26823 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:42:10.622 DEBUG 26823 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:42:10.622 TRACE 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:42:10.622 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:42:10.623 TRACE 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:42:10.624 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:42:10.628 TRACE 26823 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 14:42:10.628 TRACE 26823 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 14:42:10.628 DEBUG 26823 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 14:42:10.630 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 14:42:10.635 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 14:42:10.638 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 14:42:10.639 DEBUG 26823 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 14:42:10.641 DEBUG 26823 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 14:42:10.642 DEBUG 26823 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 14:42:10.645 DEBUG 26823 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 14:42:10.675 TRACE 26823 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:42:10.677 DEBUG 26823 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:42:10.677 TRACE 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:42:10.677 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:42:10.679 TRACE 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:42:10.679 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:42:10.686 TRACE 26823 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 14:42:10.702 TRACE 26823 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:42:10.723 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:42:10.764 TRACE 26823 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:42:10.766 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:42:10.872  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=77, memberId='consumer-user-wallet-group-2-c0a8c671-5a73-4941-bebb-c1b186701fb3', protocol='range'}
2022-02-17 14:42:10.872  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=77, memberId='consumer-user-wallet-group-1-b49d99d7-4334-4a47-aa58-5a2129443f64', protocol='range'}
2022-02-17 14:42:10.881  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[])
2022-02-17 14:42:10.886  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[transactions-0])
2022-02-17 14:42:10.890  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Adding newly assigned partitions: 
2022-02-17 14:42:10.894  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: []
2022-02-17 14:42:10.901  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Adding newly assigned partitions: transactions-0
2022-02-17 14:42:10.929  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Setting offset for partition transactions-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 14:42:10.931  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [transactions-0]
2022-02-17 14:42:23.331 TRACE 26823 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:42:23.391 DEBUG 26823 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:42:23.392 TRACE 26823 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:42:23.438 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:42:23.468 TRACE 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:42:23.470 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:42:23.470 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 14:42:23.470 TRACE 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:42:23.470 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 14:42:23.470 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 14:42:23.516 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:42:23.529 TRACE 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:42:23.530 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:42:23.530 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 14:42:23.572 TRACE 26823 --- [main] c.p.a.controllers.WalletController       : /create-wallet/{mobile}
2022-02-17 14:42:23.573 DEBUG 26823 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 14:42:23.604 TRACE 26823 --- [main] c.p.assignment1.services.WalletService   : createWallet() 
2022-02-17 14:42:23.619 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.mobile=?
2022-02-17 14:42:23.644 DEBUG 26823 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 14:42:23.646 DEBUG 26823 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 14:42:23.681  INFO 26823 --- [main] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values: 
	acks = -1
	batch.size = 16384
	bootstrap.servers = [127.0.0.1:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-02-17 14:42:23.734  INFO 26823 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:42:23.734  INFO 26823 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:42:23.735  INFO 26823 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645089143733
2022-02-17 14:42:23.752  INFO 26823 --- [kafka-producer-network-thread | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 14:42:23.804 DEBUG 26823 --- [main] org.hibernate.SQL                        : insert into user_wallet (create_time, update_time, balance_amount, is_active, id) values (?, ?, ?, ?, ?)
2022-02-17 14:42:23.820 DEBUG 26823 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 14:42:23.830 DEBUG 26823 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 14:42:52.960  WARN 26823 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=52s612ms).
2022-02-17 14:42:52.984 TRACE 26823 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:42:52.996 DEBUG 26823 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:42:52.996 TRACE 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:42:52.997 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:43:16.596 TRACE 26823 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:43:16.605 DEBUG 26823 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:43:16.605 TRACE 26823 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:43:16.613 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:43:16.723 TRACE 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:43:16.724 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:43:16.724 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/8630018154
2022-02-17 14:43:16.724 TRACE 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:43:16.724 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/8630018154
2022-02-17 14:43:16.724 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 8630018154
2022-02-17 14:43:16.726 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:43:16.739 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 14:43:16.803 TRACE 26823 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:43:16.809 DEBUG 26823 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:43:16.809 TRACE 26823 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:43:16.810 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:43:16.822 TRACE 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:43:16.822 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:43:16.822 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 14:43:16.822 TRACE 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:43:16.822 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 14:43:16.822 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 14:43:16.822 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:43:16.824 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 14:43:16.844 TRACE 26823 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:43:16.846 DEBUG 26823 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:43:16.847 TRACE 26823 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:43:16.848 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:43:16.860 TRACE 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:43:16.864 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:43:16.864 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 14:43:16.864 TRACE 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:43:16.865 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 14:43:16.865 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 14:43:16.866 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:43:16.872 TRACE 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:43:16.873 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:43:16.873 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 14:43:16.879 TRACE 26823 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 14:43:16.879 DEBUG 26823 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 14:43:16.882 TRACE 26823 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 14:43:16.923 DEBUG 26823 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 14:43:16.955 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 14:44:06.304  WARN 26823 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m13s338ms).
2022-02-17 14:44:06.318  INFO 26823 --- [kafka-coordinator-heartbeat-thread | user-wallet-group] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Group coordinator localhost:9092 (id: 2147483647 rack: null) is unavailable or invalid due to cause: session timed out without receiving a heartbeat response.isDisconnected: false. Rediscovery will be attempted.
2022-02-17 14:44:06.331  INFO 26823 --- [kafka-coordinator-heartbeat-thread | user-wallet-group] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Group coordinator localhost:9092 (id: 2147483647 rack: null) is unavailable or invalid due to cause: session timed out without receiving a heartbeat response.isDisconnected: false. Rediscovery will be attempted.
2022-02-17 14:44:06.333 TRACE 26823 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:44:06.345 DEBUG 26823 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:44:06.345 TRACE 26823 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:44:06.355 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:44:06.380  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:44:06.388  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:44:06.388  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Group coordinator localhost:9092 (id: 2147483647 rack: null) is unavailable or invalid due to cause: coordinator unavailable.isDisconnected: false. Rediscovery will be attempted.
2022-02-17 14:44:06.398  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:44:06.399  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:44:06.399  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Group coordinator localhost:9092 (id: 2147483647 rack: null) is unavailable or invalid due to cause: coordinator unavailable.isDisconnected: false. Rediscovery will be attempted.
2022-02-17 14:44:06.400 TRACE 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:44:06.400 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:44:06.400 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 14:44:06.400 TRACE 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:44:06.400 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 14:44:06.400 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 14:44:06.401 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:44:06.410 TRACE 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:44:06.411 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:44:06.411 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 14:44:06.413 TRACE 26823 --- [main] c.p.a.controllers.WalletController       : /create-wallet/{mobile}
2022-02-17 14:44:06.413 DEBUG 26823 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 14:44:06.414 TRACE 26823 --- [main] c.p.assignment1.services.WalletService   : createWallet() 
2022-02-17 14:44:06.415 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.mobile=?
2022-02-17 14:44:06.419  WARN 26823 --- [main] c.p.a.e.WalletAlreadyPresentException    : 9808727553
2022-02-17 14:44:06.469 TRACE 26823 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:44:06.470 DEBUG 26823 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:44:06.470 TRACE 26823 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:44:06.470 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:44:06.474 TRACE 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:44:06.474 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:44:06.474 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/8630018154
2022-02-17 14:44:06.474 TRACE 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:44:06.474 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/8630018154
2022-02-17 14:44:06.474 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 8630018154
2022-02-17 14:44:06.474 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:44:06.476 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 14:44:06.488 TRACE 26823 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:44:06.490 DEBUG 26823 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:44:06.490 TRACE 26823 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:44:06.491 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:44:06.492  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:44:06.497 TRACE 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:44:06.498 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:44:06.498 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 14:44:06.498 TRACE 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:44:06.498 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 14:44:06.498 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 14:44:06.498 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:44:06.500 TRACE 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:44:06.501 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:44:06.502 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 14:44:06.501  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Attempt to heartbeat with Generation{generationId=77, memberId='consumer-user-wallet-group-1-b49d99d7-4334-4a47-aa58-5a2129443f64', protocol='range'} and group instance id Optional.empty failed due to UNKNOWN_MEMBER_ID, resetting generation
2022-02-17 14:44:06.504  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: encountered UNKNOWN_MEMBER_ID from HEARTBEAT response
2022-02-17 14:44:06.508 TRACE 26823 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 14:44:06.505  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:44:06.509 DEBUG 26823 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 14:44:06.508  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: encountered UNKNOWN_MEMBER_ID from HEARTBEAT response
2022-02-17 14:44:06.509  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Giving away all assigned partitions as lost since generation has been reset,indicating that consumer is no longer part of the group
2022-02-17 14:44:06.509  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Lost previously assigned partitions transactions-0
2022-02-17 14:44:06.511 TRACE 26823 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 14:44:06.512 DEBUG 26823 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 14:44:06.513  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions lost: [transactions-0]
2022-02-17 14:44:06.515  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Attempt to heartbeat with Generation{generationId=77, memberId='consumer-user-wallet-group-2-c0a8c671-5a73-4941-bebb-c1b186701fb3', protocol='range'} and group instance id Optional.empty failed due to UNKNOWN_MEMBER_ID, resetting generation
2022-02-17 14:44:06.515  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [transactions-0]
2022-02-17 14:44:06.516  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: encountered UNKNOWN_MEMBER_ID from HEARTBEAT response
2022-02-17 14:44:06.516  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: encountered UNKNOWN_MEMBER_ID from HEARTBEAT response
2022-02-17 14:44:06.516  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:44:06.517  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:44:06.521 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 14:44:06.521  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 14:44:06.527  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:44:06.537  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 14:44:06.537  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:44:06.544 TRACE 26823 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:44:06.545 DEBUG 26823 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:44:06.546 TRACE 26823 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:44:06.546 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:44:06.550 TRACE 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:44:06.550 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:44:06.550 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 14:44:06.550 TRACE 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:44:06.550 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 14:44:06.550 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 14:44:06.552 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:44:06.555 TRACE 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:44:06.555 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:44:06.555 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 14:44:06.593 TRACE 26823 --- [main] c.p.a.controllers.WalletController       : /add-balance
2022-02-17 14:44:06.594 DEBUG 26823 --- [main] c.p.a.controllers.WalletController       : RequestParams mobile:9808727553 amount:500.0
2022-02-17 14:44:06.596 TRACE 26823 --- [main] c.p.assignment1.services.WalletService   : addBalance() 
2022-02-17 14:44:06.598 DEBUG 26823 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 14:44:06.601 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 14:44:06.625 DEBUG 26823 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 14:44:06.640 TRACE 26823 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:44:06.640 DEBUG 26823 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:44:06.640 TRACE 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:44:06.640 DEBUG 26823 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:44:06.680 DEBUG 26823 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_
2022-02-17 14:44:06.682 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 14:44:06.704 DEBUG 26823 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 14:44:06.709 DEBUG 26823 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_0_, userwallet0_.create_time as create_t2_2_0_, userwallet0_.update_time as update_t3_2_0_, userwallet0_.balance_amount as balance_4_2_0_, userwallet0_.is_active as is_activ5_2_0_ from user_wallet userwallet0_ where userwallet0_.id=?
2022-02-17 14:44:06.734 DEBUG 26823 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 14:44:06.756 DEBUG 26823 --- [main] org.hibernate.SQL                        : delete from user_wallet where id=?
2022-02-17 14:44:06.764 DEBUG 26823 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 14:44:06.848  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-f09d514e-48e4-4370-8c21-dcbd444a3d73 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 14:44:06.848  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-d7898e6e-b188-43e2-8d01-17091aeba3da sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 14:44:06.853  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:44:06.853  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:44:06.853  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 14:44:06.853  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:44:06.853  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:44:06.853  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 14:44:06.854  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:44:06.854  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:44:06.855  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:44:06.855  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:44:07.734  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:44:07.734  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:44:07.739  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:44:07.739  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:44:07.740  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:44:07.740  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:44:07.748  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 14:44:07.753  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 14:44:07.757  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 14:44:07.757  INFO 26823 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 14:44:07.775  INFO 26823 --- [SpringApplicationShutdownHook] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2022-02-17 14:44:07.791  INFO 26823 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:44:07.793  INFO 26823 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:44:07.793  INFO 26823 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:44:07.796  INFO 26823 --- [SpringApplicationShutdownHook] o.a.kafka.common.utils.AppInfoParser     : App info kafka.producer for producer-1 unregistered
2022-02-17 14:44:07.801  INFO 26823 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 14:44:07.809  INFO 26823 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 14:44:07.828  INFO 26823 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 14:45:31.998  INFO 27057 --- [main] c.p.a.controllers.WalletControllerIT     : Starting WalletControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 27057 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 14:45:32.004 DEBUG 27057 --- [main] c.p.a.controllers.WalletControllerIT     : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 14:45:32.005  INFO 27057 --- [main] c.p.a.controllers.WalletControllerIT     : No active profile set, falling back to default profiles: default
2022-02-17 14:45:33.927  INFO 27057 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 14:45:34.042  INFO 27057 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 108 ms. Found 3 JPA repository interfaces.
2022-02-17 14:45:35.703  INFO 27057 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 14:45:35.720  INFO 27057 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 14:45:35.721  INFO 27057 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 14:45:35.898  INFO 27057 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 14:45:35.899  INFO 27057 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3829 ms
2022-02-17 14:45:36.510  INFO 27057 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 14:45:36.545  INFO 27057 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 14:45:36.679  INFO 27057 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 14:45:36.797  INFO 27057 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 14:45:37.513  INFO 27057 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 14:45:37.557  INFO 27057 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 14:45:38.840 DEBUG 27057 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 14:45:38.921 DEBUG 27057 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 14:45:38.929 DEBUG 27057 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 14:45:38.936 DEBUG 27057 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 14:45:38.940 DEBUG 27057 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 14:45:38.946 DEBUG 27057 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 14:45:38.952 DEBUG 27057 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 14:45:38.962 DEBUG 27057 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 14:45:38.970 DEBUG 27057 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 14:45:38.974 DEBUG 27057 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 14:45:38.987 DEBUG 27057 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 14:45:38.995 DEBUG 27057 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 14:45:39.003 DEBUG 27057 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 14:45:39.011 DEBUG 27057 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 14:45:39.018 DEBUG 27057 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 14:45:39.028 DEBUG 27057 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 14:45:39.045 DEBUG 27057 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 14:45:39.059 DEBUG 27057 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 14:45:39.082  INFO 27057 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 14:45:39.092  INFO 27057 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 14:45:40.244 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 14:45:40.248 DEBUG 27057 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 14:45:40.387  WARN 27057 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 14:45:41.116  INFO 27057 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@453a30f8, org.springframework.security.web.context.SecurityContextPersistenceFilter@6ad3fbe4, org.springframework.security.web.header.HeaderWriterFilter@4aa517c3, org.springframework.security.web.authentication.logout.LogoutFilter@65a80fdb, com.paytm.assignment1.filters.JwtRequestFilter@5034681f, com.paytm.assignment1.filters.UserAuthorizationFilter@1fe05fff, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@983050b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d15789f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7cec3975, org.springframework.security.web.session.SessionManagementFilter@7381d6f0, org.springframework.security.web.access.ExceptionTranslationFilter@1af82ba8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@12bcf7c6]
2022-02-17 14:45:42.472  INFO 27057 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 14:45:42.472  INFO 27057 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 14:45:42.475  INFO 27057 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2022-02-17 14:45:42.648  INFO 27057 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 14:45:42.787  INFO 27057 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:45:42.787  INFO 27057 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:45:42.787  INFO 27057 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645089342785
2022-02-17 14:45:43.246  INFO 27057 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 14:45:43.255  INFO 27057 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:45:43.256  INFO 27057 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:45:43.256  INFO 27057 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:45:43.302  INFO 27057 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 14:45:43.356  INFO 27057 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:45:43.356  INFO 27057 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:45:43.356  INFO 27057 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645089343356
2022-02-17 14:45:43.358  INFO 27057 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 14:45:43.383  INFO 27057 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 14:45:43.405  INFO 27057 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:45:43.406  INFO 27057 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:45:43.406  INFO 27057 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645089343405
2022-02-17 14:45:43.411  INFO 27057 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 14:45:43.443  INFO 27057 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 58716 (http) with context path ''
2022-02-17 14:45:43.442  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 14:45:43.442  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 14:45:43.445  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:45:43.445  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:45:43.451  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:45:43.452  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:45:43.480  INFO 27057 --- [main] c.p.a.controllers.WalletControllerIT     : Started WalletControllerIT in 12.45 seconds (JVM running for 14.693)
2022-02-17 14:45:43.496  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 14:45:43.495  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 14:45:43.502  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:45:43.502  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:45:43.764 TRACE 27057 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:45:43.767 DEBUG 27057 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:45:43.768 TRACE 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:45:43.768 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:45:43.785 TRACE 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:45:43.786 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:45:43.874 TRACE 27057 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 14:45:43.892 TRACE 27057 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 14:45:43.893 DEBUG 27057 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 14:45:43.935 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 14:45:43.959  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=81, memberId='consumer-user-wallet-group-1-94efc899-f614-49be-87cd-2dad9216060e', protocol='range'}
2022-02-17 14:45:43.959  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=81, memberId='consumer-user-wallet-group-2-bcd52f08-04f8-4c27-9a8c-066fd69936f4', protocol='range'}
2022-02-17 14:45:44.020 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 14:45:44.041 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 14:45:44.045 DEBUG 27057 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 14:45:44.124 DEBUG 27057 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 14:45:44.129 DEBUG 27057 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 14:45:44.153 DEBUG 27057 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 14:45:44.247 TRACE 27057 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:45:44.248 DEBUG 27057 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:45:44.248 TRACE 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:45:44.248 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:45:44.250 TRACE 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:45:44.251 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:45:44.254 TRACE 27057 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 14:45:44.255 TRACE 27057 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 14:45:44.255 DEBUG 27057 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 14:45:44.256 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 14:45:44.261 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 14:45:44.263 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 14:45:44.264 DEBUG 27057 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 14:45:44.266 DEBUG 27057 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 14:45:44.267 DEBUG 27057 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 14:45:44.270 DEBUG 27057 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 14:45:44.285 TRACE 27057 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:45:44.285 DEBUG 27057 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:45:44.285 TRACE 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:45:44.285 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:45:44.285 TRACE 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:45:44.285 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:45:44.295 TRACE 27057 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 14:45:44.299 TRACE 27057 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:45:44.313 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:45:44.336 TRACE 27057 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:45:44.337 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:45:44.435  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=81, memberId='consumer-user-wallet-group-1-94efc899-f614-49be-87cd-2dad9216060e', protocol='range'}
2022-02-17 14:45:44.435  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=81, memberId='consumer-user-wallet-group-2-bcd52f08-04f8-4c27-9a8c-066fd69936f4', protocol='range'}
2022-02-17 14:45:44.457  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[])
2022-02-17 14:45:44.457  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[transactions-0])
2022-02-17 14:45:44.461  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Adding newly assigned partitions: 
2022-02-17 14:45:44.464  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Adding newly assigned partitions: transactions-0
2022-02-17 14:45:44.466  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: []
2022-02-17 14:45:44.482  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Setting offset for partition transactions-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 14:45:44.483  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [transactions-0]
2022-02-17 14:45:44.521 TRACE 27057 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:45:44.533 DEBUG 27057 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:45:44.533 TRACE 27057 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:45:44.554 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:45:44.560 TRACE 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:45:44.561 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:45:44.561 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 14:45:44.561 TRACE 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:45:44.561 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 14:45:44.561 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 14:45:44.568 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:45:44.572 TRACE 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:45:44.572 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:45:44.572 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 14:45:44.586 TRACE 27057 --- [main] c.p.a.controllers.WalletController       : /create-wallet/{mobile}
2022-02-17 14:45:44.586 DEBUG 27057 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 14:45:44.604 TRACE 27057 --- [main] c.p.assignment1.services.WalletService   : createWallet() 
2022-02-17 14:45:44.614 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.mobile=?
2022-02-17 14:45:44.623 DEBUG 27057 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 14:45:44.624 DEBUG 27057 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 14:45:44.634  INFO 27057 --- [main] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values: 
	acks = -1
	batch.size = 16384
	bootstrap.servers = [127.0.0.1:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-02-17 14:45:44.664  INFO 27057 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:45:44.664  INFO 27057 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:45:44.665  INFO 27057 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645089344662
2022-02-17 14:45:44.675  INFO 27057 --- [kafka-producer-network-thread | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 14:45:44.692 DEBUG 27057 --- [main] org.hibernate.SQL                        : insert into user_wallet (create_time, update_time, balance_amount, is_active, id) values (?, ?, ?, ?, ?)
2022-02-17 14:45:44.700 DEBUG 27057 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 14:45:44.705 DEBUG 27057 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 14:45:44.803 TRACE 27057 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:45:44.805 DEBUG 27057 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:45:44.805 TRACE 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:45:44.805 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:45:44.835 TRACE 27057 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:45:44.838 DEBUG 27057 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:45:44.839 TRACE 27057 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:45:44.841 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:45:44.880 TRACE 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:45:44.881 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:45:44.881 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/8630018154
2022-02-17 14:45:44.881 TRACE 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:45:44.881 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/8630018154
2022-02-17 14:45:44.881 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 8630018154
2022-02-17 14:45:44.883 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:45:44.888 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 14:45:44.916 TRACE 27057 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:45:44.918 DEBUG 27057 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:45:44.918 TRACE 27057 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:45:44.919 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:45:44.930 TRACE 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:45:44.931 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:45:44.931 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 14:45:44.931 TRACE 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:45:44.931 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 14:45:44.932 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 14:45:44.932 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:45:44.934 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 14:45:44.949 TRACE 27057 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:45:44.950 DEBUG 27057 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:45:44.950 TRACE 27057 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:45:44.951 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:45:44.957 TRACE 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:45:44.958 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:45:44.959 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 14:45:44.959 TRACE 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:45:44.959 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 14:45:44.959 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 14:45:44.960 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:45:44.966 TRACE 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:45:44.966 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:45:44.966 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 14:45:44.972 TRACE 27057 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 14:45:44.972 DEBUG 27057 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 14:45:44.974 TRACE 27057 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 14:45:44.991 DEBUG 27057 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 14:45:45.001 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 14:45:45.032 TRACE 27057 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:45:45.035 DEBUG 27057 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:45:45.035 TRACE 27057 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:45:45.036 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:45:45.041 TRACE 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:45:45.041 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:45:45.041 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 14:45:45.041 TRACE 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:45:45.041 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 14:45:45.041 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 14:45:45.042 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:45:45.044 TRACE 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:45:45.045 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:45:45.045 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 14:45:45.046 TRACE 27057 --- [main] c.p.a.controllers.WalletController       : /create-wallet/{mobile}
2022-02-17 14:45:45.046 DEBUG 27057 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 14:45:45.046 TRACE 27057 --- [main] c.p.assignment1.services.WalletService   : createWallet() 
2022-02-17 14:45:45.047 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.mobile=?
2022-02-17 14:45:45.049  WARN 27057 --- [main] c.p.a.e.WalletAlreadyPresentException    : 9808727553
2022-02-17 14:45:45.063 TRACE 27057 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:45:45.066 DEBUG 27057 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:45:45.067 TRACE 27057 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:45:45.067 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:45:45.071 TRACE 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:45:45.071 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:45:45.071 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/8630018154
2022-02-17 14:45:45.071 TRACE 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:45:45.071 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/8630018154
2022-02-17 14:45:45.071 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 8630018154
2022-02-17 14:45:45.072 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:45:45.073 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 14:45:45.082 TRACE 27057 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:45:45.086 DEBUG 27057 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:45:45.086 TRACE 27057 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:45:45.086 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:45:45.089 TRACE 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:45:45.089 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:45:45.089 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 14:45:45.089 TRACE 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:45:45.089 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 14:45:45.089 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 14:45:45.090 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:45:45.092 TRACE 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:45:45.092 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:45:45.092 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 14:45:45.093 TRACE 27057 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 14:45:45.093 DEBUG 27057 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 14:45:45.094 TRACE 27057 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 14:45:45.094 DEBUG 27057 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 14:45:45.097 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 14:45:45.111 TRACE 27057 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:45:45.112 DEBUG 27057 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:45:45.112 TRACE 27057 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:45:45.112 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:45:45.116 TRACE 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:45:45.117 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:45:45.117 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 14:45:45.117 TRACE 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:45:45.117 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 14:45:45.117 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 14:45:45.118 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:45:45.120 TRACE 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:45:45.120 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:45:45.120 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 14:45:45.131 TRACE 27057 --- [main] c.p.a.controllers.WalletController       : /add-balance
2022-02-17 14:45:45.133 DEBUG 27057 --- [main] c.p.a.controllers.WalletController       : RequestParams mobile:9808727553 amount:500.0
2022-02-17 14:45:45.135 TRACE 27057 --- [main] c.p.assignment1.services.WalletService   : addBalance() 
2022-02-17 14:45:45.136 DEBUG 27057 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 14:45:45.139 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 14:45:45.156 DEBUG 27057 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 14:45:45.167 TRACE 27057 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:45:45.167 DEBUG 27057 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:45:45.167 TRACE 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:45:45.168 DEBUG 27057 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:45:45.187 DEBUG 27057 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_
2022-02-17 14:45:45.189 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 14:45:45.199 DEBUG 27057 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 14:45:45.202 DEBUG 27057 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_0_, userwallet0_.create_time as create_t2_2_0_, userwallet0_.update_time as update_t3_2_0_, userwallet0_.balance_amount as balance_4_2_0_, userwallet0_.is_active as is_activ5_2_0_ from user_wallet userwallet0_ where userwallet0_.id=?
2022-02-17 14:45:45.209 DEBUG 27057 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 14:45:45.211 DEBUG 27057 --- [main] org.hibernate.SQL                        : delete from user_wallet where id=?
2022-02-17 14:45:45.212 DEBUG 27057 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 14:45:45.270  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Revoke previously assigned partitions transactions-0
2022-02-17 14:45:45.271  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-bcd52f08-04f8-4c27-9a8c-066fd69936f4 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 14:45:45.273  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [transactions-0]
2022-02-17 14:45:45.274  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:45:45.274  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:45:45.274  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 14:45:45.274  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-94efc899-f614-49be-87cd-2dad9216060e sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 14:45:45.274  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:45:45.274  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:45:45.276  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:45:45.276  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:45:45.276  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 14:45:45.276  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:45:45.276  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:45:45.277  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:45:45.278  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:45:45.277  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:45:45.278  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:45:45.278  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:45:45.278  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:45:45.286  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 14:45:45.286  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 14:45:45.289  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 14:45:45.289  INFO 27057 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 14:45:45.299  INFO 27057 --- [SpringApplicationShutdownHook] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2022-02-17 14:45:45.302  INFO 27057 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:45:45.302  INFO 27057 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:45:45.302  INFO 27057 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:45:45.303  INFO 27057 --- [SpringApplicationShutdownHook] o.a.kafka.common.utils.AppInfoParser     : App info kafka.producer for producer-1 unregistered
2022-02-17 14:45:45.311  INFO 27057 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 14:45:45.321  INFO 27057 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 14:45:45.344  INFO 27057 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 14:53:59.621  INFO 27555 --- [main] c.p.a.controllers.WalletControllerIT     : Starting WalletControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 27555 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 14:53:59.625 DEBUG 27555 --- [main] c.p.a.controllers.WalletControllerIT     : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 14:53:59.625  INFO 27555 --- [main] c.p.a.controllers.WalletControllerIT     : No active profile set, falling back to default profiles: default
2022-02-17 14:54:00.955  INFO 27555 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 14:54:01.069  INFO 27555 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 95 ms. Found 3 JPA repository interfaces.
2022-02-17 14:54:02.597  INFO 27555 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 14:54:02.619  INFO 27555 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 14:54:02.619  INFO 27555 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 14:54:02.778  INFO 27555 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 14:54:02.778  INFO 27555 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3100 ms
2022-02-17 14:54:03.567  INFO 27555 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 14:54:03.609  INFO 27555 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 14:54:03.753  INFO 27555 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 14:54:03.844  INFO 27555 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 14:54:04.472  INFO 27555 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 14:54:04.502  INFO 27555 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 14:54:05.491 DEBUG 27555 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 14:54:05.531 DEBUG 27555 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 14:54:05.540 DEBUG 27555 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 14:54:05.548 DEBUG 27555 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 14:54:05.553 DEBUG 27555 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 14:54:05.566 DEBUG 27555 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 14:54:05.572 DEBUG 27555 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 14:54:05.582 DEBUG 27555 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 14:54:05.592 DEBUG 27555 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 14:54:05.594 DEBUG 27555 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 14:54:05.605 DEBUG 27555 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 14:54:05.613 DEBUG 27555 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 14:54:05.620 DEBUG 27555 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 14:54:05.629 DEBUG 27555 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 14:54:05.636 DEBUG 27555 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 14:54:05.650 DEBUG 27555 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 14:54:05.666 DEBUG 27555 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 14:54:05.681 DEBUG 27555 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 14:54:05.698  INFO 27555 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 14:54:05.705  INFO 27555 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 14:54:06.815 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 14:54:06.818 DEBUG 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 14:54:06.951  WARN 27555 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 14:54:07.682  INFO 27555 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@b2d8dcd, org.springframework.security.web.context.SecurityContextPersistenceFilter@7c840fe3, org.springframework.security.web.header.HeaderWriterFilter@1c0680b0, org.springframework.security.web.authentication.logout.LogoutFilter@5c0272e0, com.paytm.assignment1.filters.JwtRequestFilter@74a5bef0, com.paytm.assignment1.filters.UserAuthorizationFilter@570ed9c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f5923ef, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ad3fbe4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1c98fe6f, org.springframework.security.web.session.SessionManagementFilter@3a13f663, org.springframework.security.web.access.ExceptionTranslationFilter@1bcb8599, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@56d5460f]
2022-02-17 14:54:08.964  INFO 27555 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 14:54:08.966  INFO 27555 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 14:54:08.968  INFO 27555 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2022-02-17 14:54:09.155  INFO 27555 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 14:54:09.322  INFO 27555 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:54:09.323  INFO 27555 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:54:09.323  INFO 27555 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645089849317
2022-02-17 14:54:09.714  INFO 27555 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 14:54:09.741  INFO 27555 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:54:09.742  INFO 27555 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:54:09.742  INFO 27555 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:54:09.814  INFO 27555 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 14:54:09.874  INFO 27555 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:54:09.876  INFO 27555 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:54:09.877  INFO 27555 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645089849874
2022-02-17 14:54:09.880  INFO 27555 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 14:54:09.923  INFO 27555 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 14:54:09.961  INFO 27555 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:54:09.964  INFO 27555 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:54:09.966  INFO 27555 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645089849961
2022-02-17 14:54:09.967  INFO 27555 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 14:54:09.991  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 14:54:09.990  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 14:54:09.994  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:54:09.994  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 14:54:10.001  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:54:10.001  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:54:10.026  INFO 27555 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 58854 (http) with context path ''
2022-02-17 14:54:10.052  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 14:54:10.053  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 14:54:10.059  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:54:10.060  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 14:54:10.074  INFO 27555 --- [main] c.p.a.controllers.WalletControllerIT     : Started WalletControllerIT in 11.344 seconds (JVM running for 13.277)
2022-02-17 14:54:10.349 TRACE 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:54:10.351 DEBUG 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:54:10.353 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:54:10.353 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:54:10.367 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:54:10.367 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:54:10.460 TRACE 27555 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 14:54:10.484 TRACE 27555 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 14:54:10.485 DEBUG 27555 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 14:54:10.523 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 14:54:10.569 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 14:54:10.577 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 14:54:10.580 DEBUG 27555 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 14:54:10.622 DEBUG 27555 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 14:54:10.624 DEBUG 27555 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 14:54:10.653 DEBUG 27555 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 14:54:10.754 TRACE 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:54:10.754 DEBUG 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:54:10.755 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:54:10.755 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:54:10.755 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:54:10.755 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:54:10.757 TRACE 27555 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 14:54:10.758 TRACE 27555 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 14:54:10.758 DEBUG 27555 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 14:54:10.758 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 14:54:10.764 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 14:54:10.765 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 14:54:10.767 DEBUG 27555 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 14:54:10.768 DEBUG 27555 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 14:54:10.769 DEBUG 27555 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 14:54:10.772 DEBUG 27555 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 14:54:10.784 TRACE 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:54:10.785 DEBUG 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:54:10.785 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:54:10.785 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:54:10.785 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:54:10.785 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:54:10.788 TRACE 27555 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 14:54:10.790 TRACE 27555 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:54:10.796 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:54:10.813 TRACE 27555 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:54:10.815 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:54:10.874 TRACE 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:54:10.874 DEBUG 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:54:10.874 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:54:10.874 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:54:10.875 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:54:10.875 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:54:10.877 TRACE 27555 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 14:54:10.879 TRACE 27555 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:54:10.879 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:54:10.883 TRACE 27555 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:54:10.883 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:54:10.966 TRACE 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:54:10.978 DEBUG 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:54:10.979 TRACE 27555 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:54:11.003 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:54:11.011 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:54:11.011 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:54:11.011 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 14:54:11.012 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:54:11.012 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 14:54:11.012 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 14:54:11.024 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:54:11.030 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:54:11.030 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:54:11.030 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 14:54:11.046 TRACE 27555 --- [main] c.p.a.controllers.WalletController       : /create-wallet/{mobile}
2022-02-17 14:54:11.047 DEBUG 27555 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 14:54:11.061 TRACE 27555 --- [main] c.p.assignment1.services.WalletService   : createWallet() 
2022-02-17 14:54:11.072 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.mobile=?
2022-02-17 14:54:11.086 DEBUG 27555 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 14:54:11.089 DEBUG 27555 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 14:54:11.101  INFO 27555 --- [main] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values: 
	acks = -1
	batch.size = 16384
	bootstrap.servers = [127.0.0.1:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-02-17 14:54:11.130  INFO 27555 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 14:54:11.186  INFO 27555 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 14:54:11.187  INFO 27555 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645089851130
2022-02-17 14:54:11.208  INFO 27555 --- [kafka-producer-network-thread | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 14:54:11.259 DEBUG 27555 --- [main] org.hibernate.SQL                        : insert into user_wallet (create_time, update_time, balance_amount, is_active, id) values (?, ?, ?, ?, ?)
2022-02-17 14:54:11.272 DEBUG 27555 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 14:54:11.282 DEBUG 27555 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 14:54:11.358 TRACE 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:54:11.359 DEBUG 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:54:11.359 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:54:11.359 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:54:11.376 TRACE 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:54:11.379 DEBUG 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:54:11.380 TRACE 27555 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:54:11.381 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:54:11.399 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:54:11.399 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:54:11.399 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 14:54:11.399 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:54:11.399 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 14:54:11.399 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 14:54:11.400 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:54:11.404 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 14:54:11.418 TRACE 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:54:11.419 DEBUG 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:54:11.420 TRACE 27555 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:54:11.421 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:54:11.424 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:54:11.424 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:54:11.424 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/8630018154
2022-02-17 14:54:11.424 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:54:11.424 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/8630018154
2022-02-17 14:54:11.424 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 8630018154
2022-02-17 14:54:11.425 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:54:11.427 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 14:54:11.435 TRACE 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:54:11.436 DEBUG 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 14:54:11.436 TRACE 27555 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:54:11.439 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:54:11.461 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:54:11.461 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:54:11.461 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 14:54:11.461 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:54:11.461 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 14:54:11.461 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 14:54:11.462 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:54:11.464 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:54:11.465 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:54:11.465 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 14:54:11.470 TRACE 27555 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 14:54:11.470 DEBUG 27555 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9027822400
2022-02-17 14:54:11.471 TRACE 27555 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 14:54:11.480 DEBUG 27555 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 14:54:11.484  WARN 27555 --- [main] c.p.a.e.WalletNotFoundException          : 9027822400
2022-02-17 14:54:11.501 TRACE 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:54:11.502 DEBUG 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:54:11.502 TRACE 27555 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:54:11.503 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:54:11.507 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:54:11.507 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:54:11.507 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 14:54:11.507 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:54:11.507 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 14:54:11.507 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 14:54:11.507 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:54:11.509 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:54:11.509 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:54:11.509 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 14:54:11.509 TRACE 27555 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 14:54:11.509 DEBUG 27555 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 14:54:11.510 TRACE 27555 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 14:54:11.510 DEBUG 27555 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 14:54:11.518 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 14:54:11.541 TRACE 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:54:11.543 DEBUG 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:54:11.544 TRACE 27555 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:54:11.544 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:54:11.555 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:54:11.556 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:54:11.556 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 14:54:11.556 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:54:11.556 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 14:54:11.556 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 14:54:11.556 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:54:11.559 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:54:11.560 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:54:11.560 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 14:54:11.561 TRACE 27555 --- [main] c.p.a.controllers.WalletController       : /create-wallet/{mobile}
2022-02-17 14:54:11.562 DEBUG 27555 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 14:54:11.564 TRACE 27555 --- [main] c.p.assignment1.services.WalletService   : createWallet() 
2022-02-17 14:54:11.565 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.mobile=?
2022-02-17 14:54:11.568  WARN 27555 --- [main] c.p.a.e.WalletAlreadyPresentException    : 9808727553
2022-02-17 14:54:11.580 TRACE 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:54:11.583 DEBUG 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:54:11.583 TRACE 27555 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:54:11.583 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:54:11.586 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:54:11.586 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:54:11.586 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/8630018154
2022-02-17 14:54:11.586 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:54:11.586 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/8630018154
2022-02-17 14:54:11.586 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 8630018154
2022-02-17 14:54:11.586 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:54:11.589 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 14:54:11.597 TRACE 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:54:11.598 DEBUG 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:54:11.598 TRACE 27555 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:54:11.598 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:54:11.603 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:54:11.604 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:54:11.604 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 14:54:11.604 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:54:11.604 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 14:54:11.604 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 14:54:11.605 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:54:11.608 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:54:11.610 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:54:11.610 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 14:54:11.611 TRACE 27555 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 14:54:11.611 DEBUG 27555 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 14:54:11.613 TRACE 27555 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 14:54:11.614 DEBUG 27555 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 14:54:11.615 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 14:54:11.620 TRACE 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:54:11.622 DEBUG 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 14:54:11.622 TRACE 27555 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 14:54:11.623 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 14:54:11.628 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:54:11.629 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:54:11.629 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 14:54:11.629 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 14:54:11.629 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 14:54:11.629 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 14:54:11.629 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 14:54:11.632 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:54:11.632 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 14:54:11.632 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 14:54:11.646  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=83, memberId='consumer-user-wallet-group-1-caa07974-8085-4f52-a266-00c5ef5e92f9', protocol='range'}
2022-02-17 14:54:11.646  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=83, memberId='consumer-user-wallet-group-2-e5b47b2e-73dd-43af-ad2d-6cd358d1776a', protocol='range'}
2022-02-17 14:54:11.659 TRACE 27555 --- [main] c.p.a.controllers.WalletController       : /add-balance
2022-02-17 14:54:11.660 DEBUG 27555 --- [main] c.p.a.controllers.WalletController       : RequestParams mobile:9808727553 amount:500.0
2022-02-17 14:54:11.662 TRACE 27555 --- [main] c.p.assignment1.services.WalletService   : addBalance() 
2022-02-17 14:54:11.663 DEBUG 27555 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 14:54:11.666 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 14:54:11.687 DEBUG 27555 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 14:54:11.714 TRACE 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 14:54:11.715 DEBUG 27555 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 14:54:11.715 TRACE 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 14:54:11.715 DEBUG 27555 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 14:54:11.753 DEBUG 27555 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_
2022-02-17 14:54:11.759  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=83, memberId='consumer-user-wallet-group-2-e5b47b2e-73dd-43af-ad2d-6cd358d1776a', protocol='range'}
2022-02-17 14:54:11.760  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=83, memberId='consumer-user-wallet-group-1-caa07974-8085-4f52-a266-00c5ef5e92f9', protocol='range'}
2022-02-17 14:54:11.764 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 14:54:11.769  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[])
2022-02-17 14:54:11.770  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[])
2022-02-17 14:54:11.770  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Adding newly assigned partitions: 
2022-02-17 14:54:11.770  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Adding newly assigned partitions: 
2022-02-17 14:54:11.773  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: []
2022-02-17 14:54:11.773  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: []
2022-02-17 14:54:11.795 DEBUG 27555 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 14:54:11.810 DEBUG 27555 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_0_, userwallet0_.create_time as create_t2_2_0_, userwallet0_.update_time as update_t3_2_0_, userwallet0_.balance_amount as balance_4_2_0_, userwallet0_.is_active as is_activ5_2_0_ from user_wallet userwallet0_ where userwallet0_.id=?
2022-02-17 14:54:11.825 DEBUG 27555 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 14:54:11.830 DEBUG 27555 --- [main] org.hibernate.SQL                        : delete from user_wallet where id=?
2022-02-17 14:54:11.832 DEBUG 27555 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 14:54:11.892  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-e5b47b2e-73dd-43af-ad2d-6cd358d1776a sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 14:54:11.892  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-caa07974-8085-4f52-a266-00c5ef5e92f9 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 14:54:11.894  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:54:11.894  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:54:11.895  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:54:11.895  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:54:11.895  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 14:54:11.895  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 14:54:11.896  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:54:11.896  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:54:11.896  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 14:54:11.896  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 14:54:11.900  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:54:11.900  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:54:11.900  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:54:11.900  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:54:11.901  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:54:11.901  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:54:11.904  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 14:54:11.904  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 14:54:11.909  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 14:54:11.909  INFO 27555 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 14:54:11.915  INFO 27555 --- [SpringApplicationShutdownHook] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2022-02-17 14:54:11.917  INFO 27555 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 14:54:11.917  INFO 27555 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 14:54:11.917  INFO 27555 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 14:54:11.918  INFO 27555 --- [SpringApplicationShutdownHook] o.a.kafka.common.utils.AppInfoParser     : App info kafka.producer for producer-1 unregistered
2022-02-17 14:54:11.922  INFO 27555 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 14:54:11.927  INFO 27555 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 14:54:11.942  INFO 27555 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 15:00:20.460  INFO 27873 --- [main] c.p.a.controllers.WalletControllerIT     : Starting WalletControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 27873 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 15:00:20.463 DEBUG 27873 --- [main] c.p.a.controllers.WalletControllerIT     : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 15:00:20.464  INFO 27873 --- [main] c.p.a.controllers.WalletControllerIT     : No active profile set, falling back to default profiles: default
2022-02-17 15:00:21.834  INFO 27873 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 15:00:21.929  INFO 27873 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 86 ms. Found 3 JPA repository interfaces.
2022-02-17 15:00:23.527  INFO 27873 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 15:00:23.545  INFO 27873 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 15:00:23.545  INFO 27873 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 15:00:23.726  INFO 27873 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 15:00:23.726  INFO 27873 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3220 ms
2022-02-17 15:00:24.302  INFO 27873 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 15:00:24.342  INFO 27873 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 15:00:24.471  INFO 27873 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 15:00:24.607  INFO 27873 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 15:00:25.247  INFO 27873 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 15:00:25.273  INFO 27873 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 15:00:26.368 DEBUG 27873 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 15:00:26.417 DEBUG 27873 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 15:00:26.428 DEBUG 27873 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 15:00:26.436 DEBUG 27873 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 15:00:26.443 DEBUG 27873 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 15:00:26.449 DEBUG 27873 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 15:00:26.454 DEBUG 27873 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 15:00:26.468 DEBUG 27873 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 15:00:26.488 DEBUG 27873 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 15:00:26.491 DEBUG 27873 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 15:00:26.503 DEBUG 27873 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 15:00:26.510 DEBUG 27873 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 15:00:26.517 DEBUG 27873 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 15:00:26.531 DEBUG 27873 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 15:00:26.539 DEBUG 27873 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 15:00:26.551 DEBUG 27873 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 15:00:26.564 DEBUG 27873 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 15:00:26.580 DEBUG 27873 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 15:00:26.655  INFO 27873 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 15:00:26.662  INFO 27873 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 15:00:27.615 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 15:00:27.617 DEBUG 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 15:00:27.735  WARN 27873 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 15:00:28.383  INFO 27873 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@205f52ea, org.springframework.security.web.context.SecurityContextPersistenceFilter@6aadb092, org.springframework.security.web.header.HeaderWriterFilter@75de7009, org.springframework.security.web.authentication.logout.LogoutFilter@6614ecca, com.paytm.assignment1.filters.JwtRequestFilter@1d06801f, com.paytm.assignment1.filters.UserAuthorizationFilter@6ffbf0ac, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4caf875c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5621a671, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@34f60be9, org.springframework.security.web.session.SessionManagementFilter@6ad3fbe4, org.springframework.security.web.access.ExceptionTranslationFilter@11dbcb3b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1123d461]
2022-02-17 15:00:29.701  INFO 27873 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 15:00:29.703  INFO 27873 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 15:00:29.705  INFO 27873 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2022-02-17 15:00:29.902  INFO 27873 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 15:00:30.070  INFO 27873 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 15:00:30.072  INFO 27873 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 15:00:30.072  INFO 27873 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645090230066
2022-02-17 15:00:30.516  INFO 27873 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 15:00:30.526  INFO 27873 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 15:00:30.526  INFO 27873 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 15:00:30.527  INFO 27873 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 15:00:30.587  INFO 27873 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 15:00:30.662  INFO 27873 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 15:00:30.664  INFO 27873 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 15:00:30.665  INFO 27873 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645090230662
2022-02-17 15:00:30.667  INFO 27873 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 15:00:30.750  INFO 27873 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 15:00:30.770  INFO 27873 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 15:00:30.787  INFO 27873 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 15:00:30.787  INFO 27873 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645090230770
2022-02-17 15:00:30.788  INFO 27873 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 15:00:30.825  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 15:00:30.825  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 15:00:30.827  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 15:00:30.828  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 15:00:30.832  INFO 27873 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 58949 (http) with context path ''
2022-02-17 15:00:30.833  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 15:00:30.833  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 15:00:30.872  INFO 27873 --- [main] c.p.a.controllers.WalletControllerIT     : Started WalletControllerIT in 11.236 seconds (JVM running for 13.264)
2022-02-17 15:00:30.962  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 15:00:30.962  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 15:00:30.973  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 15:00:30.974  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 15:00:31.140 TRACE 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 15:00:31.141 DEBUG 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 15:00:31.142 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 15:00:31.142 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 15:00:31.161 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 15:00:31.161 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 15:00:31.268 TRACE 27873 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 15:00:31.288 TRACE 27873 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 15:00:31.290 DEBUG 27873 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 15:00:31.331 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 15:00:31.375 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 15:00:31.384 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 15:00:31.385 DEBUG 27873 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 15:00:31.426 DEBUG 27873 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 15:00:31.429 DEBUG 27873 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 15:00:31.451 DEBUG 27873 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 15:00:31.534 TRACE 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 15:00:31.534 DEBUG 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 15:00:31.534 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 15:00:31.534 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 15:00:31.535 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 15:00:31.535 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 15:00:31.538 TRACE 27873 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 15:00:31.538 TRACE 27873 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 15:00:31.538 DEBUG 27873 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 15:00:31.538 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 15:00:31.543 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 15:00:31.544 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 15:00:31.545 DEBUG 27873 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 15:00:31.546 DEBUG 27873 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 15:00:31.547 DEBUG 27873 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 15:00:31.550 DEBUG 27873 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 15:00:31.569 TRACE 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 15:00:31.569 DEBUG 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 15:00:31.569 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 15:00:31.569 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 15:00:31.570 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 15:00:31.570 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 15:00:31.573 TRACE 27873 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 15:00:31.579 TRACE 27873 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 15:00:31.589 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 15:00:31.605 TRACE 27873 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 15:00:31.606 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 15:00:31.650 TRACE 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 15:00:31.650 DEBUG 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 15:00:31.650 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 15:00:31.650 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 15:00:31.650 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 15:00:31.651 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 15:00:31.653 TRACE 27873 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 15:00:31.654 TRACE 27873 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 15:00:31.654 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 15:00:31.657 TRACE 27873 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 15:00:31.658 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 15:00:31.768 TRACE 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 15:00:31.784 DEBUG 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 15:00:31.784 TRACE 27873 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 15:00:31.809 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 15:00:31.816 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 15:00:31.817 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 15:00:31.817 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 15:00:31.817 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 15:00:31.817 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 15:00:31.817 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 15:00:31.827 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 15:00:31.834 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 15:00:31.835 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 15:00:31.835 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 15:00:31.864 TRACE 27873 --- [main] c.p.a.controllers.WalletController       : /create-wallet/{mobile}
2022-02-17 15:00:31.865 DEBUG 27873 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 15:00:31.888 TRACE 27873 --- [main] c.p.assignment1.services.WalletService   : createWallet() 
2022-02-17 15:00:31.904 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.mobile=?
2022-02-17 15:00:31.930 DEBUG 27873 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 15:00:31.932 DEBUG 27873 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 15:00:31.941  INFO 27873 --- [main] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values: 
	acks = -1
	batch.size = 16384
	bootstrap.servers = [127.0.0.1:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-02-17 15:00:31.986  INFO 27873 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 15:00:31.987  INFO 27873 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 15:00:31.987  INFO 27873 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645090231986
2022-02-17 15:00:32.001  INFO 27873 --- [kafka-producer-network-thread | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 15:00:32.021 DEBUG 27873 --- [main] org.hibernate.SQL                        : insert into user_wallet (create_time, update_time, balance_amount, is_active, id) values (?, ?, ?, ?, ?)
2022-02-17 15:00:32.027 DEBUG 27873 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 15:00:32.032 DEBUG 27873 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 15:00:32.110 TRACE 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 15:00:32.111 DEBUG 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 15:00:32.111 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 15:00:32.111 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 15:00:32.131 TRACE 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 15:00:32.135 DEBUG 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 15:00:32.135 TRACE 27873 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 15:00:32.137 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 15:00:32.165 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 15:00:32.166 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 15:00:32.166 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 15:00:32.166 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 15:00:32.166 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 15:00:32.166 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 15:00:32.168 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 15:00:32.180 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 15:00:32.214 TRACE 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 15:00:32.216 DEBUG 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 15:00:32.222 TRACE 27873 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 15:00:32.223 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 15:00:32.228 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 15:00:32.228 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 15:00:32.228 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/8630018154
2022-02-17 15:00:32.228 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 15:00:32.228 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/8630018154
2022-02-17 15:00:32.228 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 8630018154
2022-02-17 15:00:32.229 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 15:00:32.231 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 15:00:32.240 TRACE 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 15:00:32.241 DEBUG 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 15:00:32.241 TRACE 27873 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 15:00:32.242 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 15:00:32.248 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 15:00:32.250 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 15:00:32.250 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 15:00:32.250 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 15:00:32.250 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 15:00:32.250 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 15:00:32.250 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 15:00:32.253 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 15:00:32.254 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 15:00:32.254 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 15:00:32.259 TRACE 27873 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 15:00:32.259 DEBUG 27873 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9027822400
2022-02-17 15:00:32.260 TRACE 27873 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 15:00:32.270 DEBUG 27873 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 15:00:32.274  WARN 27873 --- [main] c.p.a.e.WalletNotFoundException          : 9027822400
2022-02-17 15:00:32.290 TRACE 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 15:00:32.291 DEBUG 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 15:00:32.291 TRACE 27873 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 15:00:32.292 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 15:00:32.300 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 15:00:32.300 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 15:00:32.300 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 15:00:32.300 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 15:00:32.300 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 15:00:32.300 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 15:00:32.301 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 15:00:32.302 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 15:00:32.302 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 15:00:32.302 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 15:00:32.303 TRACE 27873 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 15:00:32.303 DEBUG 27873 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 15:00:32.304 TRACE 27873 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 15:00:32.305 DEBUG 27873 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 15:00:32.312 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 15:00:32.350 TRACE 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 15:00:32.352 DEBUG 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 15:00:32.352 TRACE 27873 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 15:00:32.353 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 15:00:32.356 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 15:00:32.356 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 15:00:32.356 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 15:00:32.356 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 15:00:32.356 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 15:00:32.356 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 15:00:32.357 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 15:00:32.359 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 15:00:32.361 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 15:00:32.361 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 15:00:32.362 TRACE 27873 --- [main] c.p.a.controllers.WalletController       : /create-wallet/{mobile}
2022-02-17 15:00:32.362 DEBUG 27873 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 15:00:32.363 TRACE 27873 --- [main] c.p.assignment1.services.WalletService   : createWallet() 
2022-02-17 15:00:32.363 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.mobile=?
2022-02-17 15:00:32.366  WARN 27873 --- [main] c.p.a.e.WalletAlreadyPresentException    : 9808727553
2022-02-17 15:00:32.374 TRACE 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 15:00:32.378 DEBUG 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 15:00:32.378 TRACE 27873 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 15:00:32.379 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 15:00:32.384 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 15:00:32.384 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 15:00:32.384 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 15:00:32.384 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 15:00:32.384 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 15:00:32.384 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 15:00:32.384 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 15:00:32.386 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 15:00:32.393 TRACE 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 15:00:32.394 DEBUG 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 15:00:32.394 TRACE 27873 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 15:00:32.394 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 15:00:32.400 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 15:00:32.401 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 15:00:32.401 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/8630018154
2022-02-17 15:00:32.401 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 15:00:32.401 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/8630018154
2022-02-17 15:00:32.401 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 8630018154
2022-02-17 15:00:32.402 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 15:00:32.406 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 15:00:32.414 TRACE 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 15:00:32.416 DEBUG 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 15:00:32.416 TRACE 27873 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 15:00:32.417 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 15:00:32.421 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 15:00:32.422 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 15:00:32.422 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 15:00:32.422 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 15:00:32.422 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 15:00:32.422 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 15:00:32.422 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 15:00:32.424 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 15:00:32.424 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 15:00:32.425 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 15:00:32.426 TRACE 27873 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 15:00:32.427 DEBUG 27873 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 15:00:32.428 TRACE 27873 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 15:00:32.428 DEBUG 27873 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 15:00:32.430 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 15:00:32.436 TRACE 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 15:00:32.437 DEBUG 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 15:00:32.437 TRACE 27873 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 15:00:32.438 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 15:00:32.443 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 15:00:32.443 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 15:00:32.443 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 15:00:32.443 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 15:00:32.443 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 15:00:32.443 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 15:00:32.443 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 15:00:32.446 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 15:00:32.447 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 15:00:32.447 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 15:00:32.459 TRACE 27873 --- [main] c.p.a.controllers.WalletController       : /add-balance
2022-02-17 15:00:32.460 DEBUG 27873 --- [main] c.p.a.controllers.WalletController       : RequestParams mobile:9808727553 amount:500.0
2022-02-17 15:00:32.461 TRACE 27873 --- [main] c.p.assignment1.services.WalletService   : addBalance() 
2022-02-17 15:00:32.461 DEBUG 27873 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 15:00:32.463 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 15:00:32.482 DEBUG 27873 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 15:00:32.500 TRACE 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 15:00:32.500 DEBUG 27873 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 15:00:32.500 TRACE 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 15:00:32.500 DEBUG 27873 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 15:00:32.526 DEBUG 27873 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_
2022-02-17 15:00:32.529 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 15:00:32.540 DEBUG 27873 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 15:00:32.543 DEBUG 27873 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_0_, userwallet0_.create_time as create_t2_2_0_, userwallet0_.update_time as update_t3_2_0_, userwallet0_.balance_amount as balance_4_2_0_, userwallet0_.is_active as is_activ5_2_0_ from user_wallet userwallet0_ where userwallet0_.id=?
2022-02-17 15:00:32.550 DEBUG 27873 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 15:00:32.556 DEBUG 27873 --- [main] org.hibernate.SQL                        : delete from user_wallet where id=?
2022-02-17 15:00:32.558 DEBUG 27873 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 15:00:32.590  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-46121272-42f0-496e-9003-bb6e35f53cb0 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 15:00:32.590  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-9bd30caf-343b-4819-8bac-2a835af8ee56 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 15:00:32.593  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 15:00:32.593  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 15:00:32.593  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 15:00:32.593  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 15:00:32.593  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 15:00:32.593  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 15:00:32.595  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 15:00:32.595  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 15:00:32.595  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 15:00:32.595  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 15:00:33.191  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 15:00:33.191  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 15:00:33.195  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 15:00:33.195  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 15:00:33.197  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 15:00:33.197  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 15:00:33.204  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 15:00:33.205  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 15:00:33.216  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 15:00:33.216  INFO 27873 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 15:00:33.232  INFO 27873 --- [SpringApplicationShutdownHook] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2022-02-17 15:00:33.243  INFO 27873 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 15:00:33.243  INFO 27873 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 15:00:33.243  INFO 27873 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 15:00:33.244  INFO 27873 --- [SpringApplicationShutdownHook] o.a.kafka.common.utils.AppInfoParser     : App info kafka.producer for producer-1 unregistered
2022-02-17 15:00:33.250  INFO 27873 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 15:00:33.257  INFO 27873 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 15:00:33.276  INFO 27873 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 17:19:18.554  INFO 31111 --- [main] c.p.a.c.TransactionControllerIT          : Starting TransactionControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 31111 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 17:19:18.558 DEBUG 31111 --- [main] c.p.a.c.TransactionControllerIT          : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 17:19:18.558  INFO 31111 --- [main] c.p.a.c.TransactionControllerIT          : No active profile set, falling back to default profiles: default
2022-02-17 17:19:19.921  INFO 31111 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 17:19:20.045  INFO 31111 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 115 ms. Found 3 JPA repository interfaces.
2022-02-17 17:19:21.640  INFO 31111 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 17:19:21.659  INFO 31111 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 17:19:21.659  INFO 31111 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 17:19:21.836  INFO 31111 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 17:19:21.837  INFO 31111 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3210 ms
2022-02-17 17:19:22.419  INFO 31111 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 17:19:22.461  INFO 31111 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 17:19:22.646  INFO 31111 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 17:19:22.749  INFO 31111 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 17:19:23.369  INFO 31111 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 17:19:23.408  INFO 31111 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 17:19:24.594 DEBUG 31111 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 17:19:24.638 DEBUG 31111 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 17:19:24.650 DEBUG 31111 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 17:19:24.661 DEBUG 31111 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 17:19:24.671 DEBUG 31111 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 17:19:24.676 DEBUG 31111 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 17:19:24.682 DEBUG 31111 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 17:19:24.693 DEBUG 31111 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 17:19:24.702 DEBUG 31111 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 17:19:24.706 DEBUG 31111 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 17:19:24.717 DEBUG 31111 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 17:19:24.725 DEBUG 31111 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 17:19:24.731 DEBUG 31111 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 17:19:24.738 DEBUG 31111 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 17:19:24.744 DEBUG 31111 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 17:19:24.755 DEBUG 31111 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 17:19:24.769 DEBUG 31111 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 17:19:24.784 DEBUG 31111 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 17:19:24.804  INFO 31111 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 17:19:24.812  INFO 31111 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 17:19:25.791 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 17:19:25.800 DEBUG 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 17:19:25.935  WARN 31111 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 17:19:26.591  INFO 31111 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6b899971, org.springframework.security.web.context.SecurityContextPersistenceFilter@7c03f9d0, org.springframework.security.web.header.HeaderWriterFilter@11dbcb3b, org.springframework.security.web.authentication.logout.LogoutFilter@aa23f11, com.paytm.assignment1.filters.JwtRequestFilter@570ed9c, com.paytm.assignment1.filters.UserAuthorizationFilter@1dfe5dd1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@17189618, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4caf875c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@453a30f8, org.springframework.security.web.session.SessionManagementFilter@5f5923ef, org.springframework.security.web.access.ExceptionTranslationFilter@2f3cd727, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3a116ca6]
2022-02-17 17:19:27.983  INFO 31111 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 17:19:27.986  INFO 31111 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 17:19:27.992  INFO 31111 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 6 ms
2022-02-17 17:19:28.171  INFO 31111 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 17:19:28.345  INFO 31111 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:19:28.346  INFO 31111 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:19:28.346  INFO 31111 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645098568341
2022-02-17 17:19:28.736  INFO 31111 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 17:19:28.745  INFO 31111 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:19:28.746  INFO 31111 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:19:28.747  INFO 31111 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:19:28.815  INFO 31111 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 17:19:28.887  INFO 31111 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:19:28.889  INFO 31111 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:19:28.889  INFO 31111 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645098568887
2022-02-17 17:19:28.892  INFO 31111 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 17:19:28.935  INFO 31111 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 17:19:28.978  INFO 31111 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:19:28.980  INFO 31111 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:19:28.980  INFO 31111 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645098568978
2022-02-17 17:19:28.981  INFO 31111 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 17:19:29.054  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 17:19:29.054  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 17:19:29.056  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 17:19:29.056  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 17:19:29.060  INFO 31111 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 60981 (http) with context path ''
2022-02-17 17:19:29.063  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:19:29.064  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:19:29.105  INFO 31111 --- [main] c.p.a.c.TransactionControllerIT          : Started TransactionControllerIT in 11.261 seconds (JVM running for 13.711)
2022-02-17 17:19:29.109  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 17:19:29.114  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 17:19:29.114  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:19:29.114  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:19:29.394 TRACE 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:19:29.397 DEBUG 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:19:29.398 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:29.398 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:19:29.410 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:29.411 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:19:29.487 TRACE 31111 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 17:19:29.511 TRACE 31111 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 17:19:29.512 DEBUG 31111 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 17:19:29.558 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 17:19:29.603 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 17:19:29.610 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 17:19:29.612 DEBUG 31111 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 17:19:29.668 DEBUG 31111 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:19:29.671 DEBUG 31111 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:19:29.713 DEBUG 31111 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 17:19:29.889 TRACE 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:19:29.890 DEBUG 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:19:29.890 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:29.890 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:19:29.891 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:29.891 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:19:29.894 TRACE 31111 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 17:19:29.896 TRACE 31111 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:19:29.921 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:19:29.942 TRACE 31111 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:19:29.942 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:19:29.988 TRACE 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:19:30.000 DEBUG 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:19:30.000 TRACE 31111 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:19:30.022 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:19:30.027 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:30.027 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:19:30.027 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:19:30.027 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:19:30.027 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:19:30.027 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:19:30.036 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:19:30.040 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:30.040 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:19:30.040 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:19:30.054 TRACE 31111 --- [main] c.p.a.controllers.WalletController       : /create-wallet/{mobile}
2022-02-17 17:19:30.054 DEBUG 31111 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 17:19:30.079 TRACE 31111 --- [main] c.p.assignment1.services.WalletService   : createWallet() 
2022-02-17 17:19:30.092 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.mobile=?
2022-02-17 17:19:30.102 DEBUG 31111 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:19:30.104 DEBUG 31111 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:19:30.114  INFO 31111 --- [main] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values: 
	acks = -1
	batch.size = 16384
	bootstrap.servers = [127.0.0.1:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-02-17 17:19:30.149  INFO 31111 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:19:30.150  INFO 31111 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:19:30.150  INFO 31111 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645098570147
2022-02-17 17:19:30.166  INFO 31111 --- [kafka-producer-network-thread | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 17:19:30.200 DEBUG 31111 --- [main] org.hibernate.SQL                        : insert into user_wallet (create_time, update_time, balance_amount, is_active, id) values (?, ?, ?, ?, ?)
2022-02-17 17:19:30.209 DEBUG 31111 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 17:19:30.216 DEBUG 31111 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:19:30.264 TRACE 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:19:30.271 DEBUG 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:19:30.272 TRACE 31111 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:19:30.274 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:19:30.305 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:30.307 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:19:30.307 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:19:30.307 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:19:30.307 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:19:30.307 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:19:30.310 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:19:30.327 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:30.328 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:19:30.328 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:19:30.357 TRACE 31111 --- [main] c.p.a.controllers.WalletController       : /add-balance
2022-02-17 17:19:30.358 DEBUG 31111 --- [main] c.p.a.controllers.WalletController       : RequestParams mobile:9808727553 amount:2000.0
2022-02-17 17:19:30.362 TRACE 31111 --- [main] c.p.assignment1.services.WalletService   : addBalance() 
2022-02-17 17:19:30.379 DEBUG 31111 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:19:30.394 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:19:30.416 DEBUG 31111 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:19:30.434 TRACE 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:19:30.434 DEBUG 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:19:30.434 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:30.435 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:19:30.435 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:30.435 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:19:30.438 TRACE 31111 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 17:19:30.442 TRACE 31111 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 17:19:30.442 DEBUG 31111 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 17:19:30.443 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 17:19:30.445 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 17:19:30.446 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 17:19:30.447 DEBUG 31111 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 17:19:30.449 DEBUG 31111 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:19:30.450 DEBUG 31111 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:19:30.458 DEBUG 31111 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 17:19:30.468 TRACE 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:19:30.469 DEBUG 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:19:30.469 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:30.469 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:19:30.469 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:30.470 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:19:30.470 TRACE 31111 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 17:19:30.471 TRACE 31111 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:19:30.472 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:19:30.475 TRACE 31111 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:19:30.475 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:19:30.484 TRACE 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:19:30.487 DEBUG 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:19:30.487 TRACE 31111 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:19:30.487 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:19:30.493 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:30.494 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:19:30.494 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 17:19:30.494 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:19:30.494 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 17:19:30.494 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:19:30.494 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:19:30.496 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:30.497 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:19:30.497 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 17:19:30.498 TRACE 31111 --- [main] c.p.a.controllers.WalletController       : /create-wallet/{mobile}
2022-02-17 17:19:30.498 DEBUG 31111 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9027822400
2022-02-17 17:19:30.499 TRACE 31111 --- [main] c.p.assignment1.services.WalletService   : createWallet() 
2022-02-17 17:19:30.499 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.mobile=?
2022-02-17 17:19:30.501 DEBUG 31111 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:19:30.503 DEBUG 31111 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:19:30.507 DEBUG 31111 --- [main] org.hibernate.SQL                        : insert into user_wallet (create_time, update_time, balance_amount, is_active, id) values (?, ?, ?, ?, ?)
2022-02-17 17:19:30.509 DEBUG 31111 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 17:19:30.511 DEBUG 31111 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:19:30.528 TRACE 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:19:30.530 DEBUG 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:19:30.530 TRACE 31111 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:19:30.530 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:19:30.536 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:30.537 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:19:30.537 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:19:30.537 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:19:30.537 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:19:30.537 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:19:30.537 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:19:30.539 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:30.539 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:19:30.539 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:19:30.539 TRACE 31111 --- [main] c.p.a.controllers.WalletController       : /add-balance
2022-02-17 17:19:30.539 DEBUG 31111 --- [main] c.p.a.controllers.WalletController       : RequestParams mobile:9027822400 amount:3000.0
2022-02-17 17:19:30.542 TRACE 31111 --- [main] c.p.assignment1.services.WalletService   : addBalance() 
2022-02-17 17:19:30.542 DEBUG 31111 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:19:30.545 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:19:30.549 DEBUG 31111 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:19:30.655 TRACE 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:19:30.658 DEBUG 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:19:30.658 TRACE 31111 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:19:30.658 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:19:30.662 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:30.662 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:19:30.662 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9027822400
2022-02-17 17:19:30.662 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:19:30.662 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9027822400
2022-02-17 17:19:30.662 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: /9027822400
2022-02-17 17:19:30.662 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:19:30.663 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 17:19:30.680 TRACE 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:19:30.681 DEBUG 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:19:30.681 TRACE 31111 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:19:30.682 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:19:30.685 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:30.685 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:19:30.685 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:19:30.685 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:19:30.686 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:19:30.686 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: /9808727553
2022-02-17 17:19:30.686 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:19:30.691 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 17:19:30.712 TRACE 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:19:30.714 DEBUG 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:19:30.715 TRACE 31111 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:19:30.715 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:19:30.727 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:30.728 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:19:30.728 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:19:30.728 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:19:30.728 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:19:30.728 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:19:30.729 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:19:30.732 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:30.733 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:19:30.733 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:19:30.735 TRACE 31111 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:19:30.743 DEBUG 31111 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 17:19:30.744 TRACE 31111 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:19:30.745 DEBUG 31111 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:19:30.747 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:19:30.758 TRACE 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:19:30.759 DEBUG 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:19:30.759 TRACE 31111 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:19:30.760 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:19:30.765 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:30.765 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:19:30.765 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:19:30.765 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:19:30.766 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:19:30.766 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:19:30.767 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:19:30.770 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:30.773 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:19:30.773 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:19:30.774 TRACE 31111 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:19:30.774 DEBUG 31111 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9027822400
2022-02-17 17:19:30.776 TRACE 31111 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:19:30.777 DEBUG 31111 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:19:30.779 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:19:30.789 TRACE 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:19:30.793 DEBUG 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:19:30.793 TRACE 31111 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:19:30.794 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:19:30.799 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:30.799 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:19:30.799 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:19:30.799 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:19:30.799 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:19:30.799 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: /9808727553
2022-02-17 17:19:30.800 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:19:30.802 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 17:19:30.825 TRACE 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:19:30.827 DEBUG 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:19:30.827 TRACE 31111 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:19:30.828 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:19:30.833 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:30.833 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:19:30.833 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:19:30.833 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:19:30.833 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:19:30.833 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:19:30.834 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:19:30.836 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:30.836 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:19:30.836 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:19:30.837 TRACE 31111 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:19:30.837 DEBUG 31111 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 17:19:30.837 TRACE 31111 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:19:30.838 DEBUG 31111 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:19:30.840 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:19:30.848 TRACE 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:19:30.850 DEBUG 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:19:30.850 TRACE 31111 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:19:30.851 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:19:30.854 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:30.855 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:19:30.855 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:19:30.855 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:19:30.855 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:19:30.855 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:19:30.855 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:19:30.858 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:30.860 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:19:30.860 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:19:30.860 TRACE 31111 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:19:30.861 DEBUG 31111 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9027822400
2022-02-17 17:19:30.861 TRACE 31111 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:19:30.862 DEBUG 31111 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:19:30.866 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:19:30.876 TRACE 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:19:30.877 DEBUG 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:19:30.877 TRACE 31111 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:19:30.879 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:19:30.884 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:30.884 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:19:30.884 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:19:30.884 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:19:30.884 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:19:30.884 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: /9808727553
2022-02-17 17:19:30.884 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:19:30.887 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 17:19:30.900 TRACE 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:19:30.906 DEBUG 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:19:30.906 TRACE 31111 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:19:30.907 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:19:30.912 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:30.912 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:19:30.912 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:19:30.912 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:19:30.912 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:19:30.912 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: /9808727553
2022-02-17 17:19:30.912 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:19:30.915 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 17:19:30.929 TRACE 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:19:30.930 DEBUG 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:19:30.930 TRACE 31111 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:19:30.931 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:19:30.936 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:30.936 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:19:30.936 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction
2022-02-17 17:19:30.936 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:19:30.936 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction
2022-02-17 17:19:30.937 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:30.937 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:19:30.937 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction
2022-02-17 17:19:30.940 TRACE 31111 --- [main] c.p.a.controllers.TransactionController  : /transaction getTransaction
2022-02-17 17:19:30.993 TRACE 31111 --- [main] c.p.a.services.TransactionService        : getTransaction()
2022-02-17 17:19:31.001 DEBUG 31111 --- [main] org.hibernate.SQL                        : select transactio0_.id as id1_0_0_, transactio0_.create_time as create_t2_0_0_, transactio0_.update_time as update_t3_0_0_, transactio0_.amount as amount4_0_0_, transactio0_.payee_wallet_id as payee_wa8_0_0_, transactio0_.payee_closing_balance as payee_cl5_0_0_, transactio0_.payer_wallet_id as payer_wa9_0_0_, transactio0_.payer_closing_balance as payer_cl6_0_0_, transactio0_.status as status7_0_0_, userwallet1_.id as id1_2_1_, userwallet1_.create_time as create_t2_2_1_, userwallet1_.update_time as update_t3_2_1_, userwallet1_.balance_amount as balance_4_2_1_, userwallet1_.is_active as is_activ5_2_1_, userwallet2_.id as id1_2_2_, userwallet2_.create_time as create_t2_2_2_, userwallet2_.update_time as update_t3_2_2_, userwallet2_.balance_amount as balance_4_2_2_, userwallet2_.is_active as is_activ5_2_2_ from transaction transactio0_ inner join user_wallet userwallet1_ on transactio0_.payee_wallet_id=userwallet1_.id inner join user_wallet userwallet2_ on transactio0_.payer_wallet_id=userwallet2_.id where transactio0_.id=?
2022-02-17 17:19:31.005  WARN 31111 --- [main] c.p.a.e.TransactionNotFoundException     : 10
2022-02-17 17:19:31.033 TRACE 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:19:31.041 DEBUG 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:19:31.042 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:31.042 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:19:31.055 TRACE 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:19:31.055 DEBUG 31111 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:19:31.055 TRACE 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:19:31.055 DEBUG 31111 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:19:31.072 DEBUG 31111 --- [main] org.hibernate.SQL                        : select transactio0_.id as id1_0_, transactio0_.create_time as create_t2_0_, transactio0_.update_time as update_t3_0_, transactio0_.amount as amount4_0_, transactio0_.payee_wallet_id as payee_wa8_0_, transactio0_.payee_closing_balance as payee_cl5_0_, transactio0_.payer_wallet_id as payer_wa9_0_, transactio0_.payer_closing_balance as payer_cl6_0_, transactio0_.status as status7_0_ from transaction transactio0_
2022-02-17 17:19:31.077 DEBUG 31111 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_
2022-02-17 17:19:31.083 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:19:31.087 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:19:31.102 DEBUG 31111 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 17:19:31.112 DEBUG 31111 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_0_, userwallet0_.create_time as create_t2_2_0_, userwallet0_.update_time as update_t3_2_0_, userwallet0_.balance_amount as balance_4_2_0_, userwallet0_.is_active as is_activ5_2_0_ from user_wallet userwallet0_ where userwallet0_.id=?
2022-02-17 17:19:31.116 DEBUG 31111 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_0_, userwallet0_.create_time as create_t2_2_0_, userwallet0_.update_time as update_t3_2_0_, userwallet0_.balance_amount as balance_4_2_0_, userwallet0_.is_active as is_activ5_2_0_ from user_wallet userwallet0_ where userwallet0_.id=?
2022-02-17 17:19:31.122 DEBUG 31111 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 17:19:31.129 DEBUG 31111 --- [main] org.hibernate.SQL                        : delete from user_wallet where id=?
2022-02-17 17:19:31.138 DEBUG 31111 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 17:19:31.139 DEBUG 31111 --- [main] org.hibernate.SQL                        : delete from user_wallet where id=?
2022-02-17 17:19:31.183  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-ff38945e-960f-4dcb-bf5d-fd654ad1455e sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 17:19:31.183  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-c44c0bc7-de87-4533-90cd-8a78c9e49bc3 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 17:19:31.186  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:19:31.186  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:19:31.186  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 17:19:31.186  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:19:31.186  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:19:31.186  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 17:19:31.187  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:19:31.188  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:19:31.188  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:19:31.188  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:19:32.098  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:19:32.098  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:19:32.102  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:19:32.102  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:19:32.103  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:19:32.103  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:19:32.120  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 17:19:32.130  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 17:19:32.139  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 17:19:32.139  INFO 31111 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 17:19:32.149  INFO 31111 --- [SpringApplicationShutdownHook] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2022-02-17 17:19:32.152  INFO 31111 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:19:32.153  INFO 31111 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:19:32.153  INFO 31111 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:19:32.153  INFO 31111 --- [SpringApplicationShutdownHook] o.a.kafka.common.utils.AppInfoParser     : App info kafka.producer for producer-1 unregistered
2022-02-17 17:19:32.159  INFO 31111 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 17:19:32.164  INFO 31111 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 17:19:32.181  INFO 31111 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 17:22:41.774  INFO 31270 --- [main] c.p.a.c.TransactionControllerIT          : Starting TransactionControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 31270 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 17:22:41.778 DEBUG 31270 --- [main] c.p.a.c.TransactionControllerIT          : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 17:22:41.778  INFO 31270 --- [main] c.p.a.c.TransactionControllerIT          : No active profile set, falling back to default profiles: default
2022-02-17 17:22:43.240  INFO 31270 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 17:22:43.345  INFO 31270 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 96 ms. Found 3 JPA repository interfaces.
2022-02-17 17:22:44.921  INFO 31270 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 17:22:44.942  INFO 31270 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 17:22:44.943  INFO 31270 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 17:22:45.133  INFO 31270 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 17:22:45.135  INFO 31270 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3304 ms
2022-02-17 17:22:45.704  INFO 31270 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 17:22:45.739  INFO 31270 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 17:22:45.913  INFO 31270 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 17:22:46.029  INFO 31270 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 17:22:46.662  INFO 31270 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 17:22:46.690  INFO 31270 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 17:22:47.825 DEBUG 31270 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 17:22:47.866 DEBUG 31270 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 17:22:47.884 DEBUG 31270 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 17:22:47.894 DEBUG 31270 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 17:22:47.899 DEBUG 31270 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 17:22:47.905 DEBUG 31270 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 17:22:47.910 DEBUG 31270 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 17:22:47.970 DEBUG 31270 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 17:22:47.978 DEBUG 31270 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 17:22:47.980 DEBUG 31270 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 17:22:47.991 DEBUG 31270 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 17:22:47.999 DEBUG 31270 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 17:22:48.006 DEBUG 31270 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 17:22:48.013 DEBUG 31270 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 17:22:48.021 DEBUG 31270 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 17:22:48.032 DEBUG 31270 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 17:22:48.046 DEBUG 31270 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 17:22:48.061 DEBUG 31270 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 17:22:48.082  INFO 31270 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 17:22:48.091  INFO 31270 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 17:22:49.017 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 17:22:49.019 DEBUG 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 17:22:49.118  WARN 31270 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 17:22:49.770  INFO 31270 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@579dde54, org.springframework.security.web.context.SecurityContextPersistenceFilter@7381d6f0, org.springframework.security.web.header.HeaderWriterFilter@703cb756, org.springframework.security.web.authentication.logout.LogoutFilter@303fbc4, com.paytm.assignment1.filters.JwtRequestFilter@570ed9c, com.paytm.assignment1.filters.UserAuthorizationFilter@1dfe5dd1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7c03f9d0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6aadb092, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@30b9728f, org.springframework.security.web.session.SessionManagementFilter@7c840fe3, org.springframework.security.web.access.ExceptionTranslationFilter@5ba63110, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@28bc9749]
2022-02-17 17:22:51.179  INFO 31270 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 17:22:51.181  INFO 31270 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 17:22:51.187  INFO 31270 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 4 ms
2022-02-17 17:22:51.336  INFO 31270 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 17:22:51.476  INFO 31270 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:22:51.476  INFO 31270 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:22:51.476  INFO 31270 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645098771471
2022-02-17 17:22:51.949  INFO 31270 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 17:22:51.960  INFO 31270 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:22:51.961  INFO 31270 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:22:51.961  INFO 31270 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:22:52.033  INFO 31270 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 17:22:52.100  INFO 31270 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:22:52.102  INFO 31270 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:22:52.102  INFO 31270 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645098772100
2022-02-17 17:22:52.105  INFO 31270 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 17:22:52.157  INFO 31270 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 17:22:52.184  INFO 31270 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:22:52.185  INFO 31270 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:22:52.185  INFO 31270 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645098772184
2022-02-17 17:22:52.186  INFO 31270 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 17:22:52.205  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 17:22:52.204  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 17:22:52.210  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 17:22:52.210  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 17:22:52.216  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:22:52.216  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:22:52.239  INFO 31270 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 61090 (http) with context path ''
2022-02-17 17:22:52.255  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 17:22:52.255  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 17:22:52.263  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:22:52.264  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:22:52.277  INFO 31270 --- [main] c.p.a.c.TransactionControllerIT          : Started TransactionControllerIT in 11.293 seconds (JVM running for 13.589)
2022-02-17 17:22:52.542 TRACE 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:22:52.544 DEBUG 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:22:52.544 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:52.544 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:22:52.555 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:52.555 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:22:52.620 TRACE 31270 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 17:22:52.644 TRACE 31270 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 17:22:52.644 DEBUG 31270 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 17:22:52.679 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 17:22:52.725 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 17:22:52.731 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 17:22:52.735 DEBUG 31270 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 17:22:52.785 DEBUG 31270 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:22:52.789 DEBUG 31270 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:22:52.814 DEBUG 31270 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 17:22:52.894 TRACE 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:22:52.894 DEBUG 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:22:52.894 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:52.894 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:22:52.895 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:52.896 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:22:52.906 TRACE 31270 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 17:22:52.908 TRACE 31270 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:22:52.922 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:22:52.942 TRACE 31270 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:22:52.942 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:22:52.987 TRACE 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:22:52.997 DEBUG 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:22:52.997 TRACE 31270 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:22:53.020 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:22:53.026 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.026 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:22:53.026 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:22:53.026 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:22:53.026 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:22:53.026 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:22:53.035 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:22:53.039 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.039 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:22:53.039 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:22:53.054 TRACE 31270 --- [main] c.p.a.controllers.WalletController       : /create-wallet/{mobile}
2022-02-17 17:22:53.054 DEBUG 31270 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 17:22:53.067 TRACE 31270 --- [main] c.p.assignment1.services.WalletService   : createWallet() 
2022-02-17 17:22:53.078 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.mobile=?
2022-02-17 17:22:53.089 DEBUG 31270 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:22:53.090 DEBUG 31270 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:22:53.101  INFO 31270 --- [main] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values: 
	acks = -1
	batch.size = 16384
	bootstrap.servers = [127.0.0.1:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-02-17 17:22:53.140  INFO 31270 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:22:53.141  INFO 31270 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:22:53.141  INFO 31270 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645098773138
2022-02-17 17:22:53.154  INFO 31270 --- [kafka-producer-network-thread | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 17:22:53.182 DEBUG 31270 --- [main] org.hibernate.SQL                        : insert into user_wallet (create_time, update_time, balance_amount, is_active, id) values (?, ?, ?, ?, ?)
2022-02-17 17:22:53.202 DEBUG 31270 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 17:22:53.216 DEBUG 31270 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:22:53.264 TRACE 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:22:53.268 DEBUG 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:22:53.269 TRACE 31270 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:22:53.271 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:22:53.304 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.305 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:22:53.305 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:22:53.305 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:22:53.305 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:22:53.305 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:22:53.309 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:22:53.319 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.320 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:22:53.325 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:22:53.350 TRACE 31270 --- [main] c.p.a.controllers.WalletController       : /add-balance
2022-02-17 17:22:53.351 DEBUG 31270 --- [main] c.p.a.controllers.WalletController       : RequestParams mobile:9808727553 amount:2000.0
2022-02-17 17:22:53.356 TRACE 31270 --- [main] c.p.assignment1.services.WalletService   : addBalance() 
2022-02-17 17:22:53.372 DEBUG 31270 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:22:53.386 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:22:53.411 DEBUG 31270 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:22:53.430 TRACE 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:22:53.430 DEBUG 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:22:53.430 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.430 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:22:53.430 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.430 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:22:53.432 TRACE 31270 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 17:22:53.433 TRACE 31270 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 17:22:53.433 DEBUG 31270 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 17:22:53.433 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 17:22:53.435 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 17:22:53.436 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 17:22:53.437 DEBUG 31270 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 17:22:53.439 DEBUG 31270 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:22:53.441 DEBUG 31270 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:22:53.443 DEBUG 31270 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 17:22:53.448 TRACE 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:22:53.449 DEBUG 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:22:53.449 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.449 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:22:53.449 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.449 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:22:53.450 TRACE 31270 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 17:22:53.450 TRACE 31270 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:22:53.450 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:22:53.453 TRACE 31270 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:22:53.453 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:22:53.463 TRACE 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:22:53.467 DEBUG 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:22:53.467 TRACE 31270 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:22:53.467 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:22:53.474 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.474 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:22:53.474 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 17:22:53.474 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:22:53.474 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 17:22:53.474 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:22:53.475 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:22:53.477 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.479 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:22:53.479 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 17:22:53.480 TRACE 31270 --- [main] c.p.a.controllers.WalletController       : /create-wallet/{mobile}
2022-02-17 17:22:53.480 DEBUG 31270 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9027822400
2022-02-17 17:22:53.480 TRACE 31270 --- [main] c.p.assignment1.services.WalletService   : createWallet() 
2022-02-17 17:22:53.481 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.mobile=?
2022-02-17 17:22:53.484 DEBUG 31270 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:22:53.493 DEBUG 31270 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:22:53.498 DEBUG 31270 --- [main] org.hibernate.SQL                        : insert into user_wallet (create_time, update_time, balance_amount, is_active, id) values (?, ?, ?, ?, ?)
2022-02-17 17:22:53.500 DEBUG 31270 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 17:22:53.502 DEBUG 31270 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:22:53.512 TRACE 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:22:53.515 DEBUG 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:22:53.515 TRACE 31270 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:22:53.516 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:22:53.524 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.525 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:22:53.525 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:22:53.525 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:22:53.525 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:22:53.525 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:22:53.525 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:22:53.526 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.526 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:22:53.527 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:22:53.527 TRACE 31270 --- [main] c.p.a.controllers.WalletController       : /add-balance
2022-02-17 17:22:53.527 DEBUG 31270 --- [main] c.p.a.controllers.WalletController       : RequestParams mobile:9027822400 amount:3000.0
2022-02-17 17:22:53.530 TRACE 31270 --- [main] c.p.assignment1.services.WalletService   : addBalance() 
2022-02-17 17:22:53.531 DEBUG 31270 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:22:53.533 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:22:53.537 DEBUG 31270 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:22:53.626 TRACE 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:22:53.627 DEBUG 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:22:53.627 TRACE 31270 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:22:53.628 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:22:53.632 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.634 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:22:53.634 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9027822400
2022-02-17 17:22:53.634 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:22:53.634 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9027822400
2022-02-17 17:22:53.634 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:22:53.635 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:22:53.636 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 17:22:53.661 TRACE 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:22:53.662 DEBUG 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:22:53.662 TRACE 31270 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:22:53.662 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:22:53.665 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.666 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:22:53.666 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:22:53.666 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:22:53.666 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:22:53.666 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:22:53.666 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:22:53.668 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.669 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:22:53.669 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:22:53.676  WARN 31270 --- [main] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingPathVariableException: Required URI template variable 'userMobile' for method parameter type String is not present]
2022-02-17 17:22:53.695 TRACE 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:22:53.701 DEBUG 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:22:53.701 TRACE 31270 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:22:53.702 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:22:53.706 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.706 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:22:53.706 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:22:53.706 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:22:53.706 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:22:53.706 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:22:53.707 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:22:53.710 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.714 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:22:53.714 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:22:53.715 TRACE 31270 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:22:53.715 DEBUG 31270 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 17:22:53.716 TRACE 31270 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:22:53.717 DEBUG 31270 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:22:53.719 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:22:53.729 TRACE 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:22:53.732 DEBUG 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:22:53.732 TRACE 31270 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:22:53.733 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:22:53.737 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.738 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:22:53.738 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:22:53.738 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:22:53.738 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:22:53.738 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:22:53.738 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:22:53.741 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.741 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:22:53.741 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:22:53.742 TRACE 31270 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:22:53.743 DEBUG 31270 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9027822400
2022-02-17 17:22:53.743 TRACE 31270 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:22:53.744 DEBUG 31270 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:22:53.746 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:22:53.754 TRACE 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:22:53.759 DEBUG 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:22:53.759 TRACE 31270 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:22:53.760 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:22:53.769 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.769 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:22:53.769 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:22:53.769 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:22:53.769 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:22:53.769 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:22:53.770 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:22:53.772 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.773 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:22:53.773 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:22:53.775  WARN 31270 --- [main] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingPathVariableException: Required URI template variable 'userMobile' for method parameter type String is not present]
2022-02-17 17:22:53.790 TRACE 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:22:53.791 DEBUG 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:22:53.792 TRACE 31270 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:22:53.792 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:22:53.795 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.795 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:22:53.795 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:22:53.795 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:22:53.795 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:22:53.796 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:22:53.796 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:22:53.797 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.797 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:22:53.797 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:22:53.798 TRACE 31270 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:22:53.799 DEBUG 31270 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 17:22:53.799 TRACE 31270 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:22:53.800 DEBUG 31270 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:22:53.802 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:22:53.810 TRACE 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:22:53.811 DEBUG 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:22:53.811 TRACE 31270 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:22:53.811 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:22:53.815 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.815 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:22:53.815 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:22:53.815 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:22:53.815 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:22:53.815 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:22:53.815 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:22:53.817 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.817 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:22:53.817 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:22:53.818 TRACE 31270 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:22:53.818 DEBUG 31270 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9027822400
2022-02-17 17:22:53.818 TRACE 31270 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:22:53.818 DEBUG 31270 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:22:53.819 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:22:53.826 TRACE 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:22:53.829 DEBUG 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:22:53.829 TRACE 31270 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:22:53.830 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:22:53.833 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.834 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:22:53.834 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:22:53.834 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:22:53.834 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:22:53.834 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:22:53.834 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:22:53.836 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.836 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:22:53.836 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:22:53.837  WARN 31270 --- [main] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingPathVariableException: Required URI template variable 'userMobile' for method parameter type String is not present]
2022-02-17 17:22:53.849 TRACE 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:22:53.851 DEBUG 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:22:53.851 TRACE 31270 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:22:53.852 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:22:53.875 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.875 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:22:53.875 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:22:53.875 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:22:53.875 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:22:53.875 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:22:53.876 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:22:53.879 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.879 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:22:53.879 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:22:53.880 TRACE 31270 --- [main] c.p.a.controllers.TransactionController  : /transaction/{mobile} getTransactions()
2022-02-17 17:22:53.882 TRACE 31270 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:22:53.883 DEBUG 31270 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:22:53.885 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:22:53.936 TRACE 31270 --- [main] c.p.a.services.TransactionService        : getTransactions()
2022-02-17 17:22:53.959 DEBUG 31270 --- [main] org.hibernate.SQL                        : SELECT * FROM transaction WHERE payee_wallet_id = ? OR payer_wallet_id = ? order by create_time desc limit ?
2022-02-17 17:22:53.981 TRACE 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:22:53.990 DEBUG 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:22:53.990 TRACE 31270 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:22:53.990 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:22:53.995 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.995 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:22:53.995 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction
2022-02-17 17:22:53.995 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:22:53.995 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction
2022-02-17 17:22:53.996 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:53.996 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:22:53.996 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction
2022-02-17 17:22:53.997 TRACE 31270 --- [main] c.p.a.controllers.TransactionController  : /transaction getTransaction
2022-02-17 17:22:53.997 TRACE 31270 --- [main] c.p.a.services.TransactionService        : getTransaction()
2022-02-17 17:22:54.004 DEBUG 31270 --- [main] org.hibernate.SQL                        : select transactio0_.id as id1_0_0_, transactio0_.create_time as create_t2_0_0_, transactio0_.update_time as update_t3_0_0_, transactio0_.amount as amount4_0_0_, transactio0_.payee_wallet_id as payee_wa8_0_0_, transactio0_.payee_closing_balance as payee_cl5_0_0_, transactio0_.payer_wallet_id as payer_wa9_0_0_, transactio0_.payer_closing_balance as payer_cl6_0_0_, transactio0_.status as status7_0_0_, userwallet1_.id as id1_2_1_, userwallet1_.create_time as create_t2_2_1_, userwallet1_.update_time as update_t3_2_1_, userwallet1_.balance_amount as balance_4_2_1_, userwallet1_.is_active as is_activ5_2_1_, userwallet2_.id as id1_2_2_, userwallet2_.create_time as create_t2_2_2_, userwallet2_.update_time as update_t3_2_2_, userwallet2_.balance_amount as balance_4_2_2_, userwallet2_.is_active as is_activ5_2_2_ from transaction transactio0_ inner join user_wallet userwallet1_ on transactio0_.payee_wallet_id=userwallet1_.id inner join user_wallet userwallet2_ on transactio0_.payer_wallet_id=userwallet2_.id where transactio0_.id=?
2022-02-17 17:22:54.009  WARN 31270 --- [main] c.p.a.e.TransactionNotFoundException     : 10
2022-02-17 17:22:54.034 TRACE 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:22:54.035 DEBUG 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:22:54.035 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:54.035 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:22:54.045 TRACE 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:22:54.050 DEBUG 31270 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:22:54.050 TRACE 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:22:54.050 DEBUG 31270 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:22:54.069 DEBUG 31270 --- [main] org.hibernate.SQL                        : select transactio0_.id as id1_0_, transactio0_.create_time as create_t2_0_, transactio0_.update_time as update_t3_0_, transactio0_.amount as amount4_0_, transactio0_.payee_wallet_id as payee_wa8_0_, transactio0_.payee_closing_balance as payee_cl5_0_, transactio0_.payer_wallet_id as payer_wa9_0_, transactio0_.payer_closing_balance as payer_cl6_0_, transactio0_.status as status7_0_ from transaction transactio0_
2022-02-17 17:22:54.078 DEBUG 31270 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_
2022-02-17 17:22:54.083 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:22:54.085 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:22:54.098 DEBUG 31270 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 17:22:54.103 DEBUG 31270 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_0_, userwallet0_.create_time as create_t2_2_0_, userwallet0_.update_time as update_t3_2_0_, userwallet0_.balance_amount as balance_4_2_0_, userwallet0_.is_active as is_activ5_2_0_ from user_wallet userwallet0_ where userwallet0_.id=?
2022-02-17 17:22:54.105 DEBUG 31270 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_0_, userwallet0_.create_time as create_t2_2_0_, userwallet0_.update_time as update_t3_2_0_, userwallet0_.balance_amount as balance_4_2_0_, userwallet0_.is_active as is_activ5_2_0_ from user_wallet userwallet0_ where userwallet0_.id=?
2022-02-17 17:22:54.109 DEBUG 31270 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 17:22:54.113 DEBUG 31270 --- [main] org.hibernate.SQL                        : delete from user_wallet where id=?
2022-02-17 17:22:54.115 DEBUG 31270 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 17:22:54.116 DEBUG 31270 --- [main] org.hibernate.SQL                        : delete from user_wallet where id=?
2022-02-17 17:22:54.155  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-6208487e-9a7a-4739-9241-2b047b6ccd07 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 17:22:54.155  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-33987867-f461-4a81-9cf2-ec6204fab5ef sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 17:22:54.158  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:22:54.159  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:22:54.159  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 17:22:54.158  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:22:54.159  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:22:54.159  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 17:22:54.161  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:22:54.161  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:22:54.162  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:22:54.162  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:22:54.224  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:22:54.224  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:22:54.228  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:22:54.228  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:22:54.233  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:22:54.233  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:22:54.241  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 17:22:54.244  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 17:22:54.254  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 17:22:54.254  INFO 31270 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 17:22:54.265  INFO 31270 --- [SpringApplicationShutdownHook] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2022-02-17 17:22:54.273  INFO 31270 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:22:54.273  INFO 31270 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:22:54.274  INFO 31270 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:22:54.274  INFO 31270 --- [SpringApplicationShutdownHook] o.a.kafka.common.utils.AppInfoParser     : App info kafka.producer for producer-1 unregistered
2022-02-17 17:22:54.277  INFO 31270 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 17:22:54.290  INFO 31270 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 17:22:54.317  INFO 31270 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 17:25:30.035  INFO 31408 --- [main] c.p.a.c.TransactionControllerIT          : Starting TransactionControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 31408 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 17:25:30.040 DEBUG 31408 --- [main] c.p.a.c.TransactionControllerIT          : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 17:25:30.040  INFO 31408 --- [main] c.p.a.c.TransactionControllerIT          : No active profile set, falling back to default profiles: default
2022-02-17 17:25:31.966  INFO 31408 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 17:25:32.140  INFO 31408 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 152 ms. Found 3 JPA repository interfaces.
2022-02-17 17:25:34.648  INFO 31408 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 17:25:34.704  INFO 31408 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 17:25:34.705  INFO 31408 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 17:25:34.974  INFO 31408 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 17:25:34.974  INFO 31408 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4873 ms
2022-02-17 17:25:35.879  INFO 31408 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 17:25:35.999  INFO 31408 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 17:25:36.393  INFO 31408 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 17:25:36.696  INFO 31408 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 17:25:37.889  INFO 31408 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 17:25:37.971  INFO 31408 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 17:25:40.238 DEBUG 31408 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 17:25:40.299 DEBUG 31408 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 17:25:40.310 DEBUG 31408 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 17:25:40.320 DEBUG 31408 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 17:25:40.327 DEBUG 31408 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 17:25:40.333 DEBUG 31408 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 17:25:40.340 DEBUG 31408 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 17:25:40.354 DEBUG 31408 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 17:25:40.363 DEBUG 31408 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 17:25:40.366 DEBUG 31408 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 17:25:40.387 DEBUG 31408 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 17:25:40.396 DEBUG 31408 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 17:25:40.402 DEBUG 31408 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 17:25:40.410 DEBUG 31408 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 17:25:40.416 DEBUG 31408 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 17:25:40.427 DEBUG 31408 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 17:25:40.449 DEBUG 31408 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 17:25:40.462 DEBUG 31408 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 17:25:40.482  INFO 31408 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 17:25:40.526  INFO 31408 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 17:25:42.055 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 17:25:42.056 DEBUG 31408 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 17:25:42.211  WARN 31408 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 17:25:43.696  INFO 31408 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ab29866, org.springframework.security.web.context.SecurityContextPersistenceFilter@eb66b47, org.springframework.security.web.header.HeaderWriterFilter@dffcf1, org.springframework.security.web.authentication.logout.LogoutFilter@7a91027c, com.paytm.assignment1.filters.JwtRequestFilter@3fc7abf6, com.paytm.assignment1.filters.UserAuthorizationFilter@6c6c93f8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@23c61c1b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6edb093f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@74cad577, org.springframework.security.web.session.SessionManagementFilter@20724c21, org.springframework.security.web.access.ExceptionTranslationFilter@5b977aaa, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7d50b4c4]
2022-02-17 17:25:45.911  INFO 31408 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 17:25:45.914  INFO 31408 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 17:25:45.919  INFO 31408 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 5 ms
2022-02-17 17:25:46.165  INFO 31408 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 17:25:46.484  INFO 31408 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:25:46.484  INFO 31408 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:25:46.484  INFO 31408 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645098946477
2022-02-17 17:25:47.299  INFO 31408 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 17:25:47.308  INFO 31408 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:25:47.308  INFO 31408 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:25:47.310  INFO 31408 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:25:47.386  INFO 31408 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 17:25:47.494  INFO 31408 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:25:47.496  INFO 31408 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:25:47.496  INFO 31408 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645098947494
2022-02-17 17:25:47.501  INFO 31408 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 17:25:47.594  INFO 31408 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 17:25:47.626  INFO 31408 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:25:47.629  INFO 31408 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:25:47.630  INFO 31408 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645098947626
2022-02-17 17:25:47.631  INFO 31408 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 17:25:47.668  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 17:25:47.668  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 17:25:47.674  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 17:25:47.675  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 17:25:47.684  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:25:47.684  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:25:47.692  INFO 31408 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 61154 (http) with context path ''
2022-02-17 17:25:47.730  INFO 31408 --- [main] c.p.a.c.TransactionControllerIT          : Started TransactionControllerIT in 18.746 seconds (JVM running for 22.193)
2022-02-17 17:25:47.752  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 17:25:47.752  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 17:25:47.754  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:25:47.754  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:25:47.768  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=96, memberId='consumer-user-wallet-group-2-0acd2526-7b3c-45d0-b36c-ca9e56c21a91', protocol='range'}
2022-02-17 17:25:47.768  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=96, memberId='consumer-user-wallet-group-1-639a2385-f4a7-4510-a093-89997b2d1774', protocol='range'}
2022-02-17 17:25:47.822  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Finished assignment for group at generation 96: {consumer-user-wallet-group-1-639a2385-f4a7-4510-a093-89997b2d1774=Assignment(partitions=[transactions-0]), consumer-user-wallet-group-2-0acd2526-7b3c-45d0-b36c-ca9e56c21a91=Assignment(partitions=[create-wallet-0])}
2022-02-17 17:25:47.871  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=96, memberId='consumer-user-wallet-group-1-639a2385-f4a7-4510-a093-89997b2d1774', protocol='range'}
2022-02-17 17:25:47.871  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=96, memberId='consumer-user-wallet-group-2-0acd2526-7b3c-45d0-b36c-ca9e56c21a91', protocol='range'}
2022-02-17 17:25:47.874  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[create-wallet-0])
2022-02-17 17:25:47.874  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[transactions-0])
2022-02-17 17:25:47.893  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Adding newly assigned partitions: create-wallet-0
2022-02-17 17:25:47.893  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Adding newly assigned partitions: transactions-0
2022-02-17 17:25:47.985  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Setting offset for partition create-wallet-0 to the committed offset FetchPosition{offset=9, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 17:25:47.985  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Setting offset for partition transactions-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 17:25:47.994  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [transactions-0]
2022-02-17 17:25:48.098  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [create-wallet-0]
2022-02-17 17:25:48.248 TRACE 31408 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:25:48.249 DEBUG 31408 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:25:48.249 TRACE 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:25:48.249 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:25:48.278 TRACE 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:25:48.279 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:25:48.445 TRACE 31408 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 17:25:48.474 TRACE 31408 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 17:25:48.475 DEBUG 31408 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 17:25:48.569 DEBUG 31408 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 17:25:48.655 DEBUG 31408 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 17:25:48.662 DEBUG 31408 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 17:25:48.664 DEBUG 31408 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 17:25:48.745 DEBUG 31408 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:25:48.747 DEBUG 31408 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:25:48.816 DEBUG 31408 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 17:25:49.000 TRACE 31408 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:25:49.000 DEBUG 31408 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:25:49.000 TRACE 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:25:49.000 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:25:49.001 TRACE 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:25:49.001 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:25:49.005 TRACE 31408 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 17:25:49.009 TRACE 31408 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:25:49.023 DEBUG 31408 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:25:49.054 TRACE 31408 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:25:49.054 DEBUG 31408 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:25:49.153 TRACE 31408 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:25:49.181 DEBUG 31408 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:25:49.181 TRACE 31408 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:25:49.208 DEBUG 31408 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:25:49.215 TRACE 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:25:49.215 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:25:49.215 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:25:49.215 TRACE 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:25:49.215 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:25:49.215 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:25:49.224 DEBUG 31408 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:25:49.236 TRACE 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:25:49.237 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:25:49.237 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:25:49.259 TRACE 31408 --- [main] c.p.a.controllers.WalletController       : /create-wallet/{mobile}
2022-02-17 17:25:49.259 DEBUG 31408 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 17:25:49.279 TRACE 31408 --- [main] c.p.assignment1.services.WalletService   : createWallet() 
2022-02-17 17:25:49.300 DEBUG 31408 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.mobile=?
2022-02-17 17:25:49.339 DEBUG 31408 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:25:49.343 DEBUG 31408 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:25:49.370  INFO 31408 --- [main] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values: 
	acks = -1
	batch.size = 16384
	bootstrap.servers = [127.0.0.1:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-02-17 17:25:49.433  INFO 31408 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:25:49.436  INFO 31408 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:25:49.436  INFO 31408 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645098949432
2022-02-17 17:25:49.451  INFO 31408 --- [kafka-producer-network-thread | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 17:25:49.538 DEBUG 31408 --- [main] org.hibernate.SQL                        : insert into user_wallet (create_time, update_time, balance_amount, is_active, id) values (?, ?, ?, ?, ?)
2022-02-17 17:25:49.568 DEBUG 31408 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 17:25:49.574 DEBUG 31408 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:25:49.605 DEBUG 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] c.p.assignment1.services.WalletService   : Received kafka event for create-wallet : new wallet created with mobile 9808727553
2022-02-17 17:25:49.622 TRACE 31408 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:25:49.625 DEBUG 31408 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:25:49.625 TRACE 31408 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:25:49.626 DEBUG 31408 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:25:49.659 TRACE 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:25:49.662 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:25:49.662 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:25:49.662 TRACE 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:25:49.662 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:25:49.662 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:25:49.662 DEBUG 31408 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:25:49.668 TRACE 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:25:49.668 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:25:49.668 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:25:49.688 TRACE 31408 --- [main] c.p.a.controllers.WalletController       : /add-balance
2022-02-17 17:25:49.688 DEBUG 31408 --- [main] c.p.a.controllers.WalletController       : RequestParams mobile:9808727553 amount:2000.0
2022-02-17 17:25:49.689 TRACE 31408 --- [main] c.p.assignment1.services.WalletService   : addBalance() 
2022-02-17 17:25:49.702 DEBUG 31408 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:25:49.722 DEBUG 31408 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:25:49.747 DEBUG 31408 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:25:49.764 TRACE 31408 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:25:49.764 DEBUG 31408 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:25:49.764 TRACE 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:25:49.764 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:25:49.764 TRACE 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:25:49.764 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:25:49.766 TRACE 31408 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 17:25:49.767 TRACE 31408 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 17:25:49.767 DEBUG 31408 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 17:25:49.767 DEBUG 31408 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 17:25:49.769 DEBUG 31408 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 17:25:49.770 DEBUG 31408 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 17:25:49.771 DEBUG 31408 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 17:25:49.772 DEBUG 31408 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:25:49.773 DEBUG 31408 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:25:49.775 DEBUG 31408 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 17:25:49.780 TRACE 31408 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:25:49.781 DEBUG 31408 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:25:49.781 TRACE 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:25:49.781 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:25:49.782 TRACE 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:25:49.782 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:25:49.782 TRACE 31408 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 17:25:49.782 TRACE 31408 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:25:49.783 DEBUG 31408 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:25:49.787 TRACE 31408 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:25:49.789 DEBUG 31408 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:25:49.799 TRACE 31408 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:25:49.801 DEBUG 31408 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:25:49.801 TRACE 31408 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:25:49.802 DEBUG 31408 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:25:49.817 TRACE 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:25:49.817 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:25:49.817 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 17:25:49.817 TRACE 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:25:49.817 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 17:25:49.817 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:25:49.817 DEBUG 31408 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:25:49.820 TRACE 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:25:49.820 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:25:49.820 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 17:25:49.821 TRACE 31408 --- [main] c.p.a.controllers.WalletController       : /create-wallet/{mobile}
2022-02-17 17:25:49.821 DEBUG 31408 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9027822400
2022-02-17 17:25:49.821 TRACE 31408 --- [main] c.p.assignment1.services.WalletService   : createWallet() 
2022-02-17 17:25:49.822 DEBUG 31408 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.mobile=?
2022-02-17 17:25:49.825 DEBUG 31408 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:25:49.826 DEBUG 31408 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:25:49.830 DEBUG 31408 --- [main] org.hibernate.SQL                        : insert into user_wallet (create_time, update_time, balance_amount, is_active, id) values (?, ?, ?, ?, ?)
2022-02-17 17:25:49.833 DEBUG 31408 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 17:25:49.835 DEBUG 31408 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:25:49.835 DEBUG 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] c.p.assignment1.services.WalletService   : Received kafka event for create-wallet : new wallet created with mobile 9027822400
2022-02-17 17:25:49.841 TRACE 31408 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:25:49.842 DEBUG 31408 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:25:49.842 TRACE 31408 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:25:49.843 DEBUG 31408 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:25:49.850 TRACE 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:25:49.850 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:25:49.850 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:25:49.850 TRACE 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:25:49.850 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:25:49.850 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:25:49.850 DEBUG 31408 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:25:49.853 TRACE 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:25:49.853 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:25:49.853 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:25:49.854 TRACE 31408 --- [main] c.p.a.controllers.WalletController       : /add-balance
2022-02-17 17:25:49.854 DEBUG 31408 --- [main] c.p.a.controllers.WalletController       : RequestParams mobile:9027822400 amount:3000.0
2022-02-17 17:25:49.857 TRACE 31408 --- [main] c.p.assignment1.services.WalletService   : addBalance() 
2022-02-17 17:25:49.857 DEBUG 31408 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:25:49.859 DEBUG 31408 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:25:49.862 DEBUG 31408 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:25:50.043 TRACE 31408 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:25:50.046 DEBUG 31408 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:25:50.046 TRACE 31408 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:25:50.046 DEBUG 31408 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:25:50.060 TRACE 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:25:50.060 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:25:50.060 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9027822400
2022-02-17 17:25:50.060 TRACE 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:25:50.060 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9027822400
2022-02-17 17:25:50.060 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:25:50.061 DEBUG 31408 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:25:50.063 DEBUG 31408 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 17:39:02.740  INFO 32087 --- [main] c.p.a.c.TransactionControllerIT          : Starting TransactionControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 32087 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 17:39:02.745 DEBUG 32087 --- [main] c.p.a.c.TransactionControllerIT          : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 17:39:02.745  INFO 32087 --- [main] c.p.a.c.TransactionControllerIT          : No active profile set, falling back to default profiles: default
2022-02-17 17:39:04.164  INFO 32087 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 17:39:04.272  INFO 32087 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 100 ms. Found 3 JPA repository interfaces.
2022-02-17 17:39:05.931  INFO 32087 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 17:39:05.951  INFO 32087 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 17:39:05.951  INFO 32087 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 17:39:06.176  INFO 32087 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 17:39:06.178  INFO 32087 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3391 ms
2022-02-17 17:39:06.785  INFO 32087 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 17:39:06.826  INFO 32087 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 17:39:07.006  INFO 32087 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 17:39:07.112  INFO 32087 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 17:39:07.744  INFO 32087 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 17:39:07.775  INFO 32087 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 17:39:08.928 DEBUG 32087 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 17:39:09.023 DEBUG 32087 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 17:39:09.040 DEBUG 32087 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 17:39:09.055 DEBUG 32087 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 17:39:09.063 DEBUG 32087 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 17:39:09.069 DEBUG 32087 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 17:39:09.076 DEBUG 32087 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 17:39:09.087 DEBUG 32087 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 17:39:09.098 DEBUG 32087 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 17:39:09.100 DEBUG 32087 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 17:39:09.113 DEBUG 32087 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 17:39:09.121 DEBUG 32087 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 17:39:09.132 DEBUG 32087 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 17:39:09.140 DEBUG 32087 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 17:39:09.147 DEBUG 32087 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 17:39:09.157 DEBUG 32087 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 17:39:09.171 DEBUG 32087 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 17:39:09.187 DEBUG 32087 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 17:39:09.217  INFO 32087 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 17:39:09.225  INFO 32087 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 17:39:10.590 DEBUG 32087 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 17:39:10.593 DEBUG 32087 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 17:39:10.785  WARN 32087 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 17:39:11.646  INFO 32087 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@28bc9749, org.springframework.security.web.context.SecurityContextPersistenceFilter@703cb756, org.springframework.security.web.header.HeaderWriterFilter@5100c143, org.springframework.security.web.authentication.logout.LogoutFilter@21688427, com.paytm.assignment1.filters.JwtRequestFilter@546083d6, com.paytm.assignment1.filters.UserAuthorizationFilter@3a751535, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@11dbcb3b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@75de7009, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@54a5496f, org.springframework.security.web.session.SessionManagementFilter@1c0680b0, org.springframework.security.web.access.ExceptionTranslationFilter@515940af, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2361365c]
2022-02-17 17:39:13.005  INFO 32087 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 17:39:13.008  INFO 32087 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 17:39:13.014  INFO 32087 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 6 ms
2022-02-17 17:39:13.236  INFO 32087 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 17:39:13.413  INFO 32087 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:39:13.415  INFO 32087 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:39:13.415  INFO 32087 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645099753407
2022-02-17 17:39:13.862  INFO 32087 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 17:39:13.871  INFO 32087 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:39:13.872  INFO 32087 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:39:13.872  INFO 32087 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:39:13.996  INFO 32087 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 17:39:14.056  INFO 32087 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:39:14.058  INFO 32087 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:39:14.058  INFO 32087 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645099754056
2022-02-17 17:39:14.063  INFO 32087 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 17:39:14.137  INFO 32087 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 17:39:14.175  INFO 32087 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:39:14.177  INFO 32087 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:39:14.177  INFO 32087 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645099754175
2022-02-17 17:39:14.182  INFO 32087 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 17:39:14.194  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 17:39:14.196  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 17:39:14.197  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 17:39:14.200  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 17:39:14.209  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:39:14.209  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:39:14.239  INFO 32087 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 61362 (http) with context path ''
2022-02-17 17:39:14.254  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 17:39:14.254  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 17:39:14.255  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:39:14.255  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:39:14.266  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=98, memberId='consumer-user-wallet-group-2-87955c38-2c15-4256-a2ec-eaddab3cd640', protocol='range'}
2022-02-17 17:39:14.266  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=98, memberId='consumer-user-wallet-group-1-fed4321b-fc8d-4ea3-b905-744e2569e433', protocol='range'}
2022-02-17 17:39:14.277  INFO 32087 --- [main] c.p.a.c.TransactionControllerIT          : Started TransactionControllerIT in 12.51 seconds (JVM running for 14.478)
2022-02-17 17:39:14.292  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Finished assignment for group at generation 98: {consumer-user-wallet-group-2-87955c38-2c15-4256-a2ec-eaddab3cd640=Assignment(partitions=[create-wallet-0]), consumer-user-wallet-group-1-fed4321b-fc8d-4ea3-b905-744e2569e433=Assignment(partitions=[transactions-0])}
2022-02-17 17:39:14.309  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=98, memberId='consumer-user-wallet-group-2-87955c38-2c15-4256-a2ec-eaddab3cd640', protocol='range'}
2022-02-17 17:39:14.310  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[create-wallet-0])
2022-02-17 17:39:14.310  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=98, memberId='consumer-user-wallet-group-1-fed4321b-fc8d-4ea3-b905-744e2569e433', protocol='range'}
2022-02-17 17:39:14.312  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[transactions-0])
2022-02-17 17:39:14.315  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Adding newly assigned partitions: create-wallet-0
2022-02-17 17:39:14.315  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Adding newly assigned partitions: transactions-0
2022-02-17 17:39:14.437  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Revoke previously assigned partitions transactions-0
2022-02-17 17:39:14.439  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [transactions-0]
2022-02-17 17:39:14.441  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-fed4321b-fc8d-4ea3-b905-744e2569e433 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 17:39:14.441  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Setting offset for partition create-wallet-0 to the committed offset FetchPosition{offset=11, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 17:39:14.442  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Revoke previously assigned partitions create-wallet-0
2022-02-17 17:39:14.443  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:39:14.443  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:39:14.443  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 17:39:14.443  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [create-wallet-0]
2022-02-17 17:39:14.443  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-87955c38-2c15-4256-a2ec-eaddab3cd640 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 17:39:14.447  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:39:14.447  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:39:14.447  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:39:14.447  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:39:14.448  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 17:39:14.449  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:39:14.449  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:39:14.452  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:39:14.452  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:39:14.453  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:39:14.453  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:39:14.453  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:39:14.454  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:39:14.463  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 17:39:14.465  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 17:39:14.471  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 17:39:14.471  INFO 32087 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 17:39:14.505  INFO 32087 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 17:39:14.516  INFO 32087 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 17:39:14.564  INFO 32087 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 17:39:25.023  INFO 32127 --- [main] c.p.a.c.TransactionControllerIT          : Starting TransactionControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 32127 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 17:39:25.028 DEBUG 32127 --- [main] c.p.a.c.TransactionControllerIT          : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 17:39:25.029  INFO 32127 --- [main] c.p.a.c.TransactionControllerIT          : No active profile set, falling back to default profiles: default
2022-02-17 17:39:27.170  INFO 32127 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 17:39:27.341  INFO 32127 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 149 ms. Found 3 JPA repository interfaces.
2022-02-17 17:39:29.933  INFO 32127 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 17:39:29.977  INFO 32127 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 17:39:29.978  INFO 32127 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 17:39:30.229  INFO 32127 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 17:39:30.230  INFO 32127 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5137 ms
2022-02-17 17:39:31.174  INFO 32127 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 17:39:31.293  INFO 32127 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 17:39:31.655  INFO 32127 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 17:39:31.913  INFO 32127 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 17:39:33.040  INFO 32127 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 17:39:33.108  INFO 32127 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 17:39:35.013 DEBUG 32127 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 17:39:35.063 DEBUG 32127 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 17:39:35.072 DEBUG 32127 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 17:39:35.080 DEBUG 32127 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 17:39:35.084 DEBUG 32127 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 17:39:35.090 DEBUG 32127 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 17:39:35.100 DEBUG 32127 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 17:39:35.110 DEBUG 32127 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 17:39:35.118 DEBUG 32127 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 17:39:35.121 DEBUG 32127 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 17:39:35.134 DEBUG 32127 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 17:39:35.142 DEBUG 32127 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 17:39:35.149 DEBUG 32127 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 17:39:35.165 DEBUG 32127 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 17:39:35.173 DEBUG 32127 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 17:39:35.186 DEBUG 32127 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 17:39:35.200 DEBUG 32127 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 17:39:35.216 DEBUG 32127 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 17:39:35.239  INFO 32127 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 17:39:35.276  INFO 32127 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 17:39:36.752 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 17:39:36.754 DEBUG 32127 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 17:39:36.908  WARN 32127 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 17:39:38.112  INFO 32127 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5f5076f9, org.springframework.security.web.context.SecurityContextPersistenceFilter@738ae785, org.springframework.security.web.header.HeaderWriterFilter@1b897ffb, org.springframework.security.web.authentication.logout.LogoutFilter@6abca7a6, com.paytm.assignment1.filters.JwtRequestFilter@6bbac73d, com.paytm.assignment1.filters.UserAuthorizationFilter@6164b3a2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@24ae2183, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6dcdc378, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19439ec4, org.springframework.security.web.session.SessionManagementFilter@5bed8b91, org.springframework.security.web.access.ExceptionTranslationFilter@6b7ebac1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@33de9d85]
2022-02-17 17:39:40.135  INFO 32127 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 17:39:40.137  INFO 32127 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 17:39:40.141  INFO 32127 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2022-02-17 17:39:40.361  INFO 32127 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 17:39:40.647  INFO 32127 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:39:40.647  INFO 32127 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:39:40.647  INFO 32127 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645099780640
2022-02-17 17:39:41.441  INFO 32127 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 17:39:41.454  INFO 32127 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:39:41.454  INFO 32127 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:39:41.454  INFO 32127 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:39:41.522  INFO 32127 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 17:39:41.605  INFO 32127 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:39:41.606  INFO 32127 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:39:41.606  INFO 32127 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645099781605
2022-02-17 17:39:41.609  INFO 32127 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 17:39:41.667  INFO 32127 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 17:39:41.681  INFO 32127 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:39:41.683  INFO 32127 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:39:41.683  INFO 32127 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645099781681
2022-02-17 17:39:41.685  INFO 32127 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 17:39:41.725  INFO 32127 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 61383 (http) with context path ''
2022-02-17 17:39:41.726  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 17:39:41.726  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 17:39:41.728  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 17:39:41.728  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 17:39:41.735  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:39:41.735  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:39:41.766  INFO 32127 --- [main] c.p.a.c.TransactionControllerIT          : Started TransactionControllerIT in 17.751 seconds (JVM running for 20.8)
2022-02-17 17:39:41.819  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 17:39:41.819  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 17:39:41.823  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:39:41.823  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:39:41.842  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=100, memberId='consumer-user-wallet-group-2-be350e57-4927-4e12-a9df-dca967baf735', protocol='range'}
2022-02-17 17:39:41.860  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Finished assignment for group at generation 100: {consumer-user-wallet-group-2-be350e57-4927-4e12-a9df-dca967baf735=Assignment(partitions=[create-wallet-0])}
2022-02-17 17:39:41.893  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] SyncGroup failed: The group began another rebalance. Need to re-join the group. Sent generation was Generation{generationId=100, memberId='consumer-user-wallet-group-2-be350e57-4927-4e12-a9df-dca967baf735', protocol='range'}
2022-02-17 17:39:41.895  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:39:41.901  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=101, memberId='consumer-user-wallet-group-1-7592ce30-ebc0-4d5e-a4d0-3e0dcf839e1b', protocol='range'}
2022-02-17 17:39:41.901  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=101, memberId='consumer-user-wallet-group-2-be350e57-4927-4e12-a9df-dca967baf735', protocol='range'}
2022-02-17 17:39:41.934  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Finished assignment for group at generation 101: {consumer-user-wallet-group-2-be350e57-4927-4e12-a9df-dca967baf735=Assignment(partitions=[create-wallet-0]), consumer-user-wallet-group-1-7592ce30-ebc0-4d5e-a4d0-3e0dcf839e1b=Assignment(partitions=[transactions-0])}
2022-02-17 17:39:41.941  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=101, memberId='consumer-user-wallet-group-1-7592ce30-ebc0-4d5e-a4d0-3e0dcf839e1b', protocol='range'}
2022-02-17 17:39:41.942  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=101, memberId='consumer-user-wallet-group-2-be350e57-4927-4e12-a9df-dca967baf735', protocol='range'}
2022-02-17 17:39:41.943  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[transactions-0])
2022-02-17 17:39:41.943  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[create-wallet-0])
2022-02-17 17:39:41.962  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Adding newly assigned partitions: create-wallet-0
2022-02-17 17:39:41.962  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Adding newly assigned partitions: transactions-0
2022-02-17 17:39:42.036  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Setting offset for partition transactions-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 17:39:42.036  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Setting offset for partition create-wallet-0 to the committed offset FetchPosition{offset=11, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 17:39:42.040  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [transactions-0]
2022-02-17 17:39:42.145  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [create-wallet-0]
2022-02-17 17:39:42.265 TRACE 32127 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:39:42.268 DEBUG 32127 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:39:42.268 TRACE 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:39:42.268 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:39:42.293 TRACE 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:39:42.293 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:39:42.439 TRACE 32127 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 17:39:42.463 TRACE 32127 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 17:39:42.463 DEBUG 32127 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 17:39:42.531 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 17:39:42.602 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 17:39:42.620 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 17:39:42.622 DEBUG 32127 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 17:39:42.692 DEBUG 32127 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:39:42.694 DEBUG 32127 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:39:42.755 DEBUG 32127 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 17:39:42.917 TRACE 32127 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:39:42.917 DEBUG 32127 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:39:42.917 TRACE 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:39:42.917 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:39:42.918 TRACE 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:39:42.919 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:39:42.923 TRACE 32127 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 17:39:42.927 TRACE 32127 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:39:42.940 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:39:42.971 TRACE 32127 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:39:42.972 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:39:43.063 TRACE 32127 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:39:43.087 DEBUG 32127 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:39:43.088 TRACE 32127 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:39:43.115 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:39:43.121 TRACE 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:39:43.122 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:39:43.122 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:39:43.122 TRACE 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:39:43.122 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:39:43.122 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:39:43.135 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:39:43.140 TRACE 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:39:43.141 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:39:43.141 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:39:43.166 TRACE 32127 --- [main] c.p.a.controllers.WalletController       : /create-wallet/{mobile}
2022-02-17 17:39:43.166 DEBUG 32127 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 17:39:43.185 TRACE 32127 --- [main] c.p.assignment1.services.WalletService   : createWallet() 
2022-02-17 17:39:43.198 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.mobile=?
2022-02-17 17:39:43.216 DEBUG 32127 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:39:43.218 DEBUG 32127 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:39:43.235  INFO 32127 --- [main] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values: 
	acks = -1
	batch.size = 16384
	bootstrap.servers = [127.0.0.1:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-02-17 17:39:43.279  INFO 32127 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:39:43.280  INFO 32127 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:39:43.280  INFO 32127 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645099783277
2022-02-17 17:39:43.289  INFO 32127 --- [kafka-producer-network-thread | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 17:39:43.336 DEBUG 32127 --- [main] org.hibernate.SQL                        : insert into user_wallet (create_time, update_time, balance_amount, is_active, id) values (?, ?, ?, ?, ?)
2022-02-17 17:39:43.346 DEBUG 32127 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 17:39:43.356 DEBUG 32127 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:39:43.398 DEBUG 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] c.p.assignment1.services.WalletService   : Received kafka event for create-wallet : new wallet created with mobile 9808727553
2022-02-17 17:39:43.401 TRACE 32127 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:39:43.403 DEBUG 32127 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:39:43.404 TRACE 32127 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:39:43.405 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:39:43.454 TRACE 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:39:43.456 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:39:43.456 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:39:43.456 TRACE 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:39:43.456 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:39:43.456 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:39:43.459 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:39:43.471 TRACE 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:39:43.471 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:39:43.471 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:39:43.495 TRACE 32127 --- [main] c.p.a.controllers.WalletController       : /add-balance
2022-02-17 17:39:43.495 DEBUG 32127 --- [main] c.p.a.controllers.WalletController       : RequestParams mobile:9808727553 amount:2000.0
2022-02-17 17:39:43.498 TRACE 32127 --- [main] c.p.assignment1.services.WalletService   : addBalance() 
2022-02-17 17:39:43.513 DEBUG 32127 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:39:43.531 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:39:43.553 DEBUG 32127 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:39:43.576 TRACE 32127 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:39:43.576 DEBUG 32127 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:39:43.576 TRACE 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:39:43.576 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:39:43.577 TRACE 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:39:43.577 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:39:43.578 TRACE 32127 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 17:39:43.579 TRACE 32127 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 17:39:43.579 DEBUG 32127 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 17:39:43.580 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 17:39:43.581 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 17:39:43.585 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 17:39:43.587 DEBUG 32127 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 17:39:43.588 DEBUG 32127 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:39:43.589 DEBUG 32127 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:39:43.591 DEBUG 32127 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 17:39:43.597 TRACE 32127 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:39:43.597 DEBUG 32127 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:39:43.597 TRACE 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:39:43.597 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:39:43.598 TRACE 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:39:43.600 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:39:43.602 TRACE 32127 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 17:39:43.602 TRACE 32127 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:39:43.603 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:39:43.605 TRACE 32127 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:39:43.606 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:39:43.615 TRACE 32127 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:39:43.617 DEBUG 32127 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:39:43.617 TRACE 32127 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:39:43.617 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:39:43.625 TRACE 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:39:43.626 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:39:43.626 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 17:39:43.626 TRACE 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:39:43.626 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 17:39:43.626 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:39:43.626 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:39:43.629 TRACE 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:39:43.630 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:39:43.630 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 17:39:43.630 TRACE 32127 --- [main] c.p.a.controllers.WalletController       : /create-wallet/{mobile}
2022-02-17 17:39:43.631 DEBUG 32127 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9027822400
2022-02-17 17:39:43.632 TRACE 32127 --- [main] c.p.assignment1.services.WalletService   : createWallet() 
2022-02-17 17:39:43.633 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.mobile=?
2022-02-17 17:39:43.636 DEBUG 32127 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:39:43.637 DEBUG 32127 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:39:43.642 DEBUG 32127 --- [main] org.hibernate.SQL                        : insert into user_wallet (create_time, update_time, balance_amount, is_active, id) values (?, ?, ?, ?, ?)
2022-02-17 17:39:43.645 DEBUG 32127 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 17:39:43.646 DEBUG 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] c.p.assignment1.services.WalletService   : Received kafka event for create-wallet : new wallet created with mobile 9027822400
2022-02-17 17:39:43.646 DEBUG 32127 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:39:43.658 TRACE 32127 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:39:43.661 DEBUG 32127 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:39:43.661 TRACE 32127 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:39:43.662 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:39:43.666 TRACE 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:39:43.666 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:39:43.666 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:39:43.666 TRACE 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:39:43.666 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:39:43.666 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:39:43.667 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:39:43.668 TRACE 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:39:43.668 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:39:43.668 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:39:43.669 TRACE 32127 --- [main] c.p.a.controllers.WalletController       : /add-balance
2022-02-17 17:39:43.669 DEBUG 32127 --- [main] c.p.a.controllers.WalletController       : RequestParams mobile:9027822400 amount:3000.0
2022-02-17 17:39:43.680 TRACE 32127 --- [main] c.p.assignment1.services.WalletService   : addBalance() 
2022-02-17 17:39:43.683 DEBUG 32127 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:39:43.686 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:39:43.689 DEBUG 32127 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:40:05.114 TRACE 32127 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:40:05.131 DEBUG 32127 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:40:05.131 TRACE 32127 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:40:05.135 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:40:05.313 TRACE 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:40:05.313 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:40:05.313 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:40:05.313 TRACE 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:40:05.313 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:40:05.313 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:40:05.319 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:40:05.322 TRACE 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:40:05.322 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:40:05.322 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:40:05.326 TRACE 32127 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:40:05.327 DEBUG 32127 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 17:40:05.335 TRACE 32127 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:40:05.336 DEBUG 32127 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:40:05.338 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:40:14.404 TRACE 32127 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:40:14.416 DEBUG 32127 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:40:14.417 TRACE 32127 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:40:14.420 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:40:14.433 TRACE 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:40:14.434 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:40:14.434 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:40:14.434 TRACE 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:40:14.434 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:40:14.434 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:40:14.435 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:40:14.438 TRACE 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:40:14.438 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:40:14.438 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:40:14.440 TRACE 32127 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:40:14.440 DEBUG 32127 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9027822400
2022-02-17 17:40:14.453 TRACE 32127 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:40:14.454 DEBUG 32127 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:40:14.456 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:41:00.945 TRACE 32127 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:41:00.955 DEBUG 32127 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:41:00.956 TRACE 32127 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:41:00.960 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:41:01.021 TRACE 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:41:01.023 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:41:01.023 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:41:01.023 TRACE 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:41:01.023 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:41:01.023 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:41:01.026 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:41:01.032 TRACE 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:41:01.033 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:41:01.033 DEBUG 32127 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:41:01.076  WARN 32127 --- [main] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingPathVariableException: Required URI template variable 'userMobile' for method parameter type String is not present]
2022-02-17 17:41:01.218 DEBUG 32127 --- [main] org.hibernate.SQL                        : select transactio0_.id as id1_0_, transactio0_.create_time as create_t2_0_, transactio0_.update_time as update_t3_0_, transactio0_.amount as amount4_0_, transactio0_.payee_wallet_id as payee_wa8_0_, transactio0_.payee_closing_balance as payee_cl5_0_, transactio0_.payer_wallet_id as payer_wa9_0_, transactio0_.payer_closing_balance as payer_cl6_0_, transactio0_.status as status7_0_ from transaction transactio0_
2022-02-17 17:41:01.224 DEBUG 32127 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_
2022-02-17 17:41:01.226 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:41:01.233 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:41:01.256 DEBUG 32127 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 17:41:01.263 DEBUG 32127 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_0_, userwallet0_.create_time as create_t2_2_0_, userwallet0_.update_time as update_t3_2_0_, userwallet0_.balance_amount as balance_4_2_0_, userwallet0_.is_active as is_activ5_2_0_ from user_wallet userwallet0_ where userwallet0_.id=?
2022-02-17 17:41:01.273 DEBUG 32127 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_0_, userwallet0_.create_time as create_t2_2_0_, userwallet0_.update_time as update_t3_2_0_, userwallet0_.balance_amount as balance_4_2_0_, userwallet0_.is_active as is_activ5_2_0_ from user_wallet userwallet0_ where userwallet0_.id=?
2022-02-17 17:41:01.281 DEBUG 32127 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 17:41:01.288 DEBUG 32127 --- [main] org.hibernate.SQL                        : delete from user_wallet where id=?
2022-02-17 17:41:01.291 DEBUG 32127 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 17:41:01.292 DEBUG 32127 --- [main] org.hibernate.SQL                        : delete from user_wallet where id=?
2022-02-17 17:41:01.362  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Revoke previously assigned partitions create-wallet-0
2022-02-17 17:41:01.363  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Revoke previously assigned partitions transactions-0
2022-02-17 17:41:01.369  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [create-wallet-0]
2022-02-17 17:41:01.369  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [transactions-0]
2022-02-17 17:41:01.371  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-7592ce30-ebc0-4d5e-a4d0-3e0dcf839e1b sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 17:41:01.372  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-be350e57-4927-4e12-a9df-dca967baf735 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 17:41:01.376  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:41:01.376  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:41:01.376  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 17:41:01.376  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:41:01.376  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:41:01.376  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 17:41:01.378  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:41:01.378  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:41:01.378  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:41:01.378  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:41:01.397  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:41:01.397  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:41:01.399  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:41:01.399  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:41:01.401  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:41:01.401  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:41:01.411  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 17:41:01.412  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 17:41:01.416  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 17:41:01.416  INFO 32127 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 17:41:01.433  INFO 32127 --- [SpringApplicationShutdownHook] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2022-02-17 17:41:01.444  INFO 32127 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:41:01.444  INFO 32127 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:41:01.445  INFO 32127 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:41:01.445  INFO 32127 --- [SpringApplicationShutdownHook] o.a.kafka.common.utils.AppInfoParser     : App info kafka.producer for producer-1 unregistered
2022-02-17 17:41:01.456  INFO 32127 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 17:41:01.465  INFO 32127 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 17:41:01.499  INFO 32127 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 17:41:21.395  INFO 32242 --- [main] c.p.a.c.TransactionControllerIT          : Starting TransactionControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 32242 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 17:41:21.399 DEBUG 32242 --- [main] c.p.a.c.TransactionControllerIT          : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 17:41:21.400  INFO 32242 --- [main] c.p.a.c.TransactionControllerIT          : No active profile set, falling back to default profiles: default
2022-02-17 17:41:23.562  INFO 32242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 17:41:23.806  INFO 32242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 221 ms. Found 3 JPA repository interfaces.
2022-02-17 17:41:26.310  INFO 32242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 17:41:26.357  INFO 32242 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 17:41:26.358  INFO 32242 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 17:41:26.659  INFO 32242 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 17:41:26.660  INFO 32242 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5163 ms
2022-02-17 17:41:27.618  INFO 32242 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 17:41:27.705  INFO 32242 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 17:41:28.080  INFO 32242 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 17:41:28.389  INFO 32242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 17:41:29.505  INFO 32242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 17:41:29.575  INFO 32242 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 17:41:31.668 DEBUG 32242 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 17:41:31.729 DEBUG 32242 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 17:41:31.740 DEBUG 32242 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 17:41:31.749 DEBUG 32242 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 17:41:31.754 DEBUG 32242 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 17:41:31.760 DEBUG 32242 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 17:41:31.767 DEBUG 32242 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 17:41:31.780 DEBUG 32242 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 17:41:31.788 DEBUG 32242 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 17:41:31.791 DEBUG 32242 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 17:41:31.804 DEBUG 32242 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 17:41:31.813 DEBUG 32242 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 17:41:31.825 DEBUG 32242 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 17:41:31.833 DEBUG 32242 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 17:41:31.840 DEBUG 32242 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 17:41:31.852 DEBUG 32242 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 17:41:31.866 DEBUG 32242 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 17:41:31.884 DEBUG 32242 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 17:41:31.904  INFO 32242 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 17:41:31.937  INFO 32242 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 17:41:33.296 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 17:41:33.297 DEBUG 32242 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 17:41:33.481  WARN 32242 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 17:41:34.620  INFO 32242 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5f5076f9, org.springframework.security.web.context.SecurityContextPersistenceFilter@738ae785, org.springframework.security.web.header.HeaderWriterFilter@1b897ffb, org.springframework.security.web.authentication.logout.LogoutFilter@6abca7a6, com.paytm.assignment1.filters.JwtRequestFilter@6164b3a2, com.paytm.assignment1.filters.UserAuthorizationFilter@96448ee, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@24ae2183, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6dcdc378, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19439ec4, org.springframework.security.web.session.SessionManagementFilter@5bed8b91, org.springframework.security.web.access.ExceptionTranslationFilter@6b7ebac1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@33de9d85]
2022-02-17 17:41:36.830  INFO 32242 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 17:41:36.832  INFO 32242 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 17:41:36.838  INFO 32242 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 5 ms
2022-02-17 17:41:37.124  INFO 32242 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 17:41:37.427  INFO 32242 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:41:37.427  INFO 32242 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:41:37.427  INFO 32242 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645099897421
2022-02-17 17:41:38.246  INFO 32242 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 17:41:38.258  INFO 32242 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:41:38.258  INFO 32242 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:41:38.258  INFO 32242 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:41:38.336  INFO 32242 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 17:41:38.452  INFO 32242 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:41:38.454  INFO 32242 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:41:38.454  INFO 32242 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645099898452
2022-02-17 17:41:38.461  INFO 32242 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 17:41:38.535  INFO 32242 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 17:41:38.572  INFO 32242 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:41:38.573  INFO 32242 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:41:38.573  INFO 32242 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645099898571
2022-02-17 17:41:38.575  INFO 32242 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 17:41:38.595  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 17:41:38.595  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 17:41:38.598  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 17:41:38.598  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 17:41:38.604  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:41:38.604  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:41:38.619  INFO 32242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 61441 (http) with context path ''
2022-02-17 17:41:38.666  INFO 32242 --- [main] c.p.a.c.TransactionControllerIT          : Started TransactionControllerIT in 18.503 seconds (JVM running for 21.564)
2022-02-17 17:41:38.688  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 17:41:38.688  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 17:41:38.692  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:41:38.692  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:41:38.717  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=103, memberId='consumer-user-wallet-group-1-48f7985b-8faa-40d6-a23d-12cddfeda9eb', protocol='range'}
2022-02-17 17:41:38.717  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=103, memberId='consumer-user-wallet-group-2-99ab08d9-930a-4c0d-ba21-ce3a5a2bd6b2', protocol='range'}
2022-02-17 17:41:38.788  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Finished assignment for group at generation 103: {consumer-user-wallet-group-1-48f7985b-8faa-40d6-a23d-12cddfeda9eb=Assignment(partitions=[transactions-0]), consumer-user-wallet-group-2-99ab08d9-930a-4c0d-ba21-ce3a5a2bd6b2=Assignment(partitions=[create-wallet-0])}
2022-02-17 17:41:38.830  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=103, memberId='consumer-user-wallet-group-2-99ab08d9-930a-4c0d-ba21-ce3a5a2bd6b2', protocol='range'}
2022-02-17 17:41:38.830  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=103, memberId='consumer-user-wallet-group-1-48f7985b-8faa-40d6-a23d-12cddfeda9eb', protocol='range'}
2022-02-17 17:41:38.833  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[transactions-0])
2022-02-17 17:41:38.833  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[create-wallet-0])
2022-02-17 17:41:38.856  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Adding newly assigned partitions: transactions-0
2022-02-17 17:41:38.856  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Adding newly assigned partitions: create-wallet-0
2022-02-17 17:41:38.935  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Setting offset for partition transactions-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 17:41:38.935  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Setting offset for partition create-wallet-0 to the committed offset FetchPosition{offset=13, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 17:41:38.940  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [create-wallet-0]
2022-02-17 17:41:39.043  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [transactions-0]
2022-02-17 17:41:39.186 TRACE 32242 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:41:39.190 DEBUG 32242 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:41:39.190 TRACE 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:41:39.190 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:41:39.218 TRACE 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:41:39.219 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:41:39.374 TRACE 32242 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 17:41:39.403 TRACE 32242 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 17:41:39.403 DEBUG 32242 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 17:41:39.479 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 17:41:39.548 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 17:41:39.557 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 17:41:39.559 DEBUG 32242 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 17:41:39.635 DEBUG 32242 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:41:39.637 DEBUG 32242 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:41:39.704 DEBUG 32242 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 17:41:39.870 TRACE 32242 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:41:39.870 DEBUG 32242 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:41:39.870 TRACE 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:41:39.870 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:41:39.871 TRACE 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:41:39.871 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:41:39.876 TRACE 32242 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 17:41:39.880 TRACE 32242 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:41:39.891 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:41:39.920 TRACE 32242 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:41:39.921 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:41:40.007 TRACE 32242 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:41:40.033 DEBUG 32242 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:41:40.033 TRACE 32242 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:41:40.060 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:41:40.067 TRACE 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:41:40.067 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:41:40.067 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:41:40.067 TRACE 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:41:40.067 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:41:40.067 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:41:40.074 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:41:40.078 TRACE 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:41:40.079 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:41:40.079 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:41:40.102 TRACE 32242 --- [main] c.p.a.controllers.WalletController       : /create-wallet/{mobile}
2022-02-17 17:41:40.102 DEBUG 32242 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 17:41:40.120 TRACE 32242 --- [main] c.p.assignment1.services.WalletService   : createWallet() 
2022-02-17 17:41:40.135 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.mobile=?
2022-02-17 17:41:40.153 DEBUG 32242 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:41:40.154 DEBUG 32242 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:41:40.173  INFO 32242 --- [main] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values: 
	acks = -1
	batch.size = 16384
	bootstrap.servers = [127.0.0.1:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-02-17 17:41:40.217  INFO 32242 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:41:40.218  INFO 32242 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:41:40.218  INFO 32242 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645099900216
2022-02-17 17:41:40.226  INFO 32242 --- [kafka-producer-network-thread | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 17:41:40.277 DEBUG 32242 --- [main] org.hibernate.SQL                        : insert into user_wallet (create_time, update_time, balance_amount, is_active, id) values (?, ?, ?, ?, ?)
2022-02-17 17:41:40.289 DEBUG 32242 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 17:41:40.297 DEBUG 32242 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:41:40.340 DEBUG 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] c.p.assignment1.services.WalletService   : Received kafka event for create-wallet : new wallet created with mobile 9808727553
2022-02-17 17:41:40.346 TRACE 32242 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:41:40.348 DEBUG 32242 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:41:40.349 TRACE 32242 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:41:40.352 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:41:40.410 TRACE 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:41:40.412 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:41:40.412 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:41:40.412 TRACE 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:41:40.412 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:41:40.413 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:41:40.415 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:41:40.428 TRACE 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:41:40.428 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:41:40.428 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:41:40.454 TRACE 32242 --- [main] c.p.a.controllers.WalletController       : /add-balance
2022-02-17 17:41:40.455 DEBUG 32242 --- [main] c.p.a.controllers.WalletController       : RequestParams mobile:9808727553 amount:2000.0
2022-02-17 17:41:40.457 TRACE 32242 --- [main] c.p.assignment1.services.WalletService   : addBalance() 
2022-02-17 17:41:40.471 DEBUG 32242 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:41:40.488 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:41:40.510 DEBUG 32242 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:41:40.533 TRACE 32242 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:41:40.534 DEBUG 32242 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:41:40.534 TRACE 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:41:40.534 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:41:40.534 TRACE 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:41:40.534 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:41:40.536 TRACE 32242 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 17:41:40.536 TRACE 32242 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 17:41:40.536 DEBUG 32242 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 17:41:40.537 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 17:41:40.539 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 17:41:40.541 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 17:41:40.542 DEBUG 32242 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 17:41:40.543 DEBUG 32242 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:41:40.545 DEBUG 32242 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:41:40.548 DEBUG 32242 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 17:41:40.556 TRACE 32242 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:41:40.556 DEBUG 32242 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:41:40.556 TRACE 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:41:40.556 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:41:40.556 TRACE 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:41:40.556 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:41:40.557 TRACE 32242 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 17:41:40.559 TRACE 32242 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:41:40.559 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:41:40.562 TRACE 32242 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:41:40.568 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:41:40.578 TRACE 32242 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:41:40.580 DEBUG 32242 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:41:40.580 TRACE 32242 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:41:40.581 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:41:40.587 TRACE 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:41:40.587 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:41:40.587 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 17:41:40.587 TRACE 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:41:40.587 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 17:41:40.587 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:41:40.588 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:41:40.589 TRACE 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:41:40.589 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:41:40.589 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 17:41:40.591 TRACE 32242 --- [main] c.p.a.controllers.WalletController       : /create-wallet/{mobile}
2022-02-17 17:41:40.591 DEBUG 32242 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9027822400
2022-02-17 17:41:40.592 TRACE 32242 --- [main] c.p.assignment1.services.WalletService   : createWallet() 
2022-02-17 17:41:40.592 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.mobile=?
2022-02-17 17:41:40.595 DEBUG 32242 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:41:40.597 DEBUG 32242 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:41:40.601 DEBUG 32242 --- [main] org.hibernate.SQL                        : insert into user_wallet (create_time, update_time, balance_amount, is_active, id) values (?, ?, ?, ?, ?)
2022-02-17 17:41:40.604 DEBUG 32242 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 17:41:40.606 DEBUG 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] c.p.assignment1.services.WalletService   : Received kafka event for create-wallet : new wallet created with mobile 9027822400
2022-02-17 17:41:40.606 DEBUG 32242 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:41:40.616 TRACE 32242 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:41:40.617 DEBUG 32242 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:41:40.617 TRACE 32242 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:41:40.618 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:41:40.624 TRACE 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:41:40.625 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:41:40.625 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:41:40.625 TRACE 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:41:40.625 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:41:40.625 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:41:40.625 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:41:40.628 TRACE 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:41:40.629 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:41:40.630 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:41:40.630 TRACE 32242 --- [main] c.p.a.controllers.WalletController       : /add-balance
2022-02-17 17:41:40.630 DEBUG 32242 --- [main] c.p.a.controllers.WalletController       : RequestParams mobile:9027822400 amount:3000.0
2022-02-17 17:41:40.635 TRACE 32242 --- [main] c.p.assignment1.services.WalletService   : addBalance() 
2022-02-17 17:41:40.636 DEBUG 32242 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:41:40.638 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:41:40.641 DEBUG 32242 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:41:44.829 TRACE 32242 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:41:44.841 DEBUG 32242 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:41:44.841 TRACE 32242 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:41:44.845 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:41:44.852 TRACE 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:41:44.852 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:41:44.852 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:41:44.853 TRACE 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:41:44.853 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:41:44.853 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:41:44.853 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:41:44.856 TRACE 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:41:44.856 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:41:44.856 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:41:44.859 TRACE 32242 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:41:44.859 DEBUG 32242 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 17:41:44.860 TRACE 32242 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:41:44.861 DEBUG 32242 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:41:44.907 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:41:45.737 TRACE 32242 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:41:45.743 DEBUG 32242 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:41:45.743 TRACE 32242 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:41:45.744 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:41:45.753 TRACE 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:41:45.755 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:41:45.758 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:41:45.758 TRACE 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:41:45.758 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:41:45.759 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:41:45.760 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:41:45.763 TRACE 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:41:45.763 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:41:45.764 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:41:45.765 TRACE 32242 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:41:45.765 DEBUG 32242 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9027822400
2022-02-17 17:41:45.768 TRACE 32242 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:41:45.770 DEBUG 32242 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:41:45.774 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:41:59.822 TRACE 32242 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:41:59.834 DEBUG 32242 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:41:59.835 TRACE 32242 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:41:59.839 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:41:59.860 TRACE 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:41:59.861 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:41:59.862 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:41:59.862 TRACE 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:41:59.862 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:41:59.862 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:41:59.864 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:41:59.870 TRACE 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:41:59.870 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:41:59.870 DEBUG 32242 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:41:59.908  WARN 32242 --- [main] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingPathVariableException: Required URI template variable 'userMobile' for method parameter type String is not present]
2022-02-17 17:42:17.713 DEBUG 32242 --- [main] org.hibernate.SQL                        : select transactio0_.id as id1_0_, transactio0_.create_time as create_t2_0_, transactio0_.update_time as update_t3_0_, transactio0_.amount as amount4_0_, transactio0_.payee_wallet_id as payee_wa8_0_, transactio0_.payee_closing_balance as payee_cl5_0_, transactio0_.payer_wallet_id as payer_wa9_0_, transactio0_.payer_closing_balance as payer_cl6_0_, transactio0_.status as status7_0_ from transaction transactio0_
2022-02-17 17:42:17.723 DEBUG 32242 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_
2022-02-17 17:42:17.726 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:42:17.728 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:42:17.750 DEBUG 32242 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 17:42:17.761 DEBUG 32242 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_0_, userwallet0_.create_time as create_t2_2_0_, userwallet0_.update_time as update_t3_2_0_, userwallet0_.balance_amount as balance_4_2_0_, userwallet0_.is_active as is_activ5_2_0_ from user_wallet userwallet0_ where userwallet0_.id=?
2022-02-17 17:42:17.772 DEBUG 32242 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_0_, userwallet0_.create_time as create_t2_2_0_, userwallet0_.update_time as update_t3_2_0_, userwallet0_.balance_amount as balance_4_2_0_, userwallet0_.is_active as is_activ5_2_0_ from user_wallet userwallet0_ where userwallet0_.id=?
2022-02-17 17:42:17.780 DEBUG 32242 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 17:42:17.788 DEBUG 32242 --- [main] org.hibernate.SQL                        : delete from user_wallet where id=?
2022-02-17 17:42:17.796 DEBUG 32242 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 17:42:17.797 DEBUG 32242 --- [main] org.hibernate.SQL                        : delete from user_wallet where id=?
2022-02-17 17:42:17.901  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Revoke previously assigned partitions create-wallet-0
2022-02-17 17:42:17.901  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Revoke previously assigned partitions transactions-0
2022-02-17 17:42:17.907  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [create-wallet-0]
2022-02-17 17:42:17.907  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [transactions-0]
2022-02-17 17:42:17.909  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-48f7985b-8faa-40d6-a23d-12cddfeda9eb sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 17:42:17.909  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-99ab08d9-930a-4c0d-ba21-ce3a5a2bd6b2 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 17:42:17.916  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:42:17.916  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:42:17.916  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:42:17.916  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 17:42:17.916  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:42:17.916  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 17:42:17.919  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:42:17.919  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:42:17.919  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:42:17.919  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:42:17.930  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:42:17.930  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:42:17.931  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:42:17.931  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:42:17.931  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:42:17.932  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:42:17.939  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 17:42:17.944  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 17:42:17.944  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 17:42:17.944  INFO 32242 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 17:42:17.954  INFO 32242 --- [SpringApplicationShutdownHook] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2022-02-17 17:42:17.960  INFO 32242 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:42:17.961  INFO 32242 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:42:17.961  INFO 32242 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:42:17.964  INFO 32242 --- [SpringApplicationShutdownHook] o.a.kafka.common.utils.AppInfoParser     : App info kafka.producer for producer-1 unregistered
2022-02-17 17:42:17.969  INFO 32242 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 17:42:17.976  INFO 32242 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 17:42:17.993  INFO 32242 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 17:45:24.572  INFO 32439 --- [main] c.p.a.c.TransactionControllerIT          : Starting TransactionControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 32439 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 17:45:24.582 DEBUG 32439 --- [main] c.p.a.c.TransactionControllerIT          : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 17:45:24.582  INFO 32439 --- [main] c.p.a.c.TransactionControllerIT          : No active profile set, falling back to default profiles: default
2022-02-17 17:45:25.988  INFO 32439 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 17:45:26.078  INFO 32439 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 83 ms. Found 3 JPA repository interfaces.
2022-02-17 17:45:27.726  INFO 32439 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 17:45:27.743  INFO 32439 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 17:45:27.744  INFO 32439 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 17:45:27.931  INFO 32439 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 17:45:27.932  INFO 32439 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3310 ms
2022-02-17 17:45:28.612  INFO 32439 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 17:45:28.648  INFO 32439 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 17:45:28.787  INFO 32439 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 17:45:28.903  INFO 32439 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 17:45:29.521  INFO 32439 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 17:45:29.560  INFO 32439 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 17:45:30.638 DEBUG 32439 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 17:45:30.717 DEBUG 32439 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 17:45:30.730 DEBUG 32439 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 17:45:30.742 DEBUG 32439 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 17:45:30.747 DEBUG 32439 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 17:45:30.753 DEBUG 32439 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 17:45:30.759 DEBUG 32439 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 17:45:30.769 DEBUG 32439 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 17:45:30.779 DEBUG 32439 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 17:45:30.782 DEBUG 32439 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 17:45:30.795 DEBUG 32439 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 17:45:30.804 DEBUG 32439 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 17:45:30.811 DEBUG 32439 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 17:45:30.818 DEBUG 32439 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 17:45:30.824 DEBUG 32439 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 17:45:30.838 DEBUG 32439 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 17:45:30.852 DEBUG 32439 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 17:45:30.866 DEBUG 32439 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 17:45:30.885  INFO 32439 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 17:45:30.893  INFO 32439 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 17:45:31.833 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 17:45:31.835 DEBUG 32439 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 17:45:31.963  WARN 32439 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 17:45:32.613  INFO 32439 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@12bcf7c6, org.springframework.security.web.context.SecurityContextPersistenceFilter@4aa517c3, org.springframework.security.web.header.HeaderWriterFilter@4c164f81, org.springframework.security.web.authentication.logout.LogoutFilter@29592929, com.paytm.assignment1.filters.JwtRequestFilter@546083d6, com.paytm.assignment1.filters.UserAuthorizationFilter@3a751535, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3a13f663, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@59014efe, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5e763c07, org.springframework.security.web.session.SessionManagementFilter@703cb756, org.springframework.security.web.access.ExceptionTranslationFilter@4a47bc9c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@771d4db]
2022-02-17 17:45:34.037  INFO 32439 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 17:45:34.040  INFO 32439 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 17:45:34.042  INFO 32439 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2022-02-17 17:45:34.231  INFO 32439 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 17:45:34.412  INFO 32439 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:45:34.413  INFO 32439 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:45:34.414  INFO 32439 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645100134408
2022-02-17 17:45:34.865  INFO 32439 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 17:45:34.874  INFO 32439 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:45:34.875  INFO 32439 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:45:34.875  INFO 32439 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:45:34.939  INFO 32439 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 17:45:35.004  INFO 32439 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:45:35.006  INFO 32439 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:45:35.006  INFO 32439 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645100135004
2022-02-17 17:45:35.009  INFO 32439 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 17:45:35.053  INFO 32439 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 17:45:35.095  INFO 32439 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:45:35.097  INFO 32439 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:45:35.097  INFO 32439 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645100135095
2022-02-17 17:45:35.098  INFO 32439 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 17:45:35.122  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 17:45:35.122  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 17:45:35.127  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 17:45:35.127  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 17:45:35.136  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:45:35.136  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:45:35.154  INFO 32439 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 61511 (http) with context path ''
2022-02-17 17:45:35.179  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 17:45:35.180  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 17:45:35.181  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:45:35.181  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:45:35.189  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=105, memberId='consumer-user-wallet-group-2-32abd147-801d-482c-8c54-8541432570fb', protocol='range'}
2022-02-17 17:45:35.189  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=105, memberId='consumer-user-wallet-group-1-e5f36ddb-ba12-4e4f-8030-b38c96dc3e7c', protocol='range'}
2022-02-17 17:45:35.197  INFO 32439 --- [main] c.p.a.c.TransactionControllerIT          : Started TransactionControllerIT in 11.421 seconds (JVM running for 13.421)
2022-02-17 17:45:35.213  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Finished assignment for group at generation 105: {consumer-user-wallet-group-2-32abd147-801d-482c-8c54-8541432570fb=Assignment(partitions=[create-wallet-0]), consumer-user-wallet-group-1-e5f36ddb-ba12-4e4f-8030-b38c96dc3e7c=Assignment(partitions=[transactions-0])}
2022-02-17 17:45:35.230  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=105, memberId='consumer-user-wallet-group-1-e5f36ddb-ba12-4e4f-8030-b38c96dc3e7c', protocol='range'}
2022-02-17 17:45:35.230  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=105, memberId='consumer-user-wallet-group-2-32abd147-801d-482c-8c54-8541432570fb', protocol='range'}
2022-02-17 17:45:35.233  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[transactions-0])
2022-02-17 17:45:35.233  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[create-wallet-0])
2022-02-17 17:45:35.240  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Adding newly assigned partitions: create-wallet-0
2022-02-17 17:45:35.240  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Adding newly assigned partitions: transactions-0
2022-02-17 17:45:35.289  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Setting offset for partition transactions-0 to the committed offset FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 17:45:35.289  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Setting offset for partition create-wallet-0 to the committed offset FetchPosition{offset=15, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 17:45:35.294  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [transactions-0]
2022-02-17 17:45:35.297  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [create-wallet-0]
2022-02-17 17:45:35.516 TRACE 32439 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:45:35.518 DEBUG 32439 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:45:35.518 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:45:35.518 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:45:35.535 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:45:35.535 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:45:35.614 TRACE 32439 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 17:45:35.636 TRACE 32439 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 17:45:35.636 DEBUG 32439 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 17:45:35.674 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 17:45:35.718 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 17:45:35.728 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 17:45:35.730 DEBUG 32439 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 17:45:35.773 DEBUG 32439 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:45:35.775 DEBUG 32439 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:45:35.799 DEBUG 32439 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 17:45:35.898 TRACE 32439 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:45:35.899 DEBUG 32439 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:45:35.899 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:45:35.899 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:45:35.901 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:45:35.901 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:45:35.906 TRACE 32439 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 17:45:35.908 TRACE 32439 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:45:35.921 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:45:35.939 TRACE 32439 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:45:35.940 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:45:35.995 TRACE 32439 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:45:36.009 DEBUG 32439 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:45:36.009 TRACE 32439 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:45:36.034 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:45:36.040 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:45:36.040 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:45:36.040 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:45:36.040 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:45:36.040 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:45:36.041 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:45:36.049 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:45:36.053 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:45:36.053 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:45:36.053 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:45:36.071 TRACE 32439 --- [main] c.p.a.controllers.WalletController       : /create-wallet/{mobile}
2022-02-17 17:45:36.072 DEBUG 32439 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 17:45:36.092 TRACE 32439 --- [main] c.p.assignment1.services.WalletService   : createWallet() 
2022-02-17 17:45:36.106 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.mobile=?
2022-02-17 17:45:36.116 DEBUG 32439 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:45:36.117 DEBUG 32439 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:45:36.125  INFO 32439 --- [main] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values: 
	acks = -1
	batch.size = 16384
	bootstrap.servers = [127.0.0.1:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-02-17 17:45:36.161  INFO 32439 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:45:36.162  INFO 32439 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:45:36.162  INFO 32439 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645100136159
2022-02-17 17:45:36.174  INFO 32439 --- [kafka-producer-network-thread | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 17:45:36.199 DEBUG 32439 --- [main] org.hibernate.SQL                        : insert into user_wallet (create_time, update_time, balance_amount, is_active, id) values (?, ?, ?, ?, ?)
2022-02-17 17:45:36.211 DEBUG 32439 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 17:45:36.217 DEBUG 32439 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:45:36.263 DEBUG 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] c.p.assignment1.services.WalletService   : Received kafka event for create-wallet : new wallet created with mobile 9808727553
2022-02-17 17:45:36.274 TRACE 32439 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:45:36.277 DEBUG 32439 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:45:36.277 TRACE 32439 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:45:36.278 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:45:36.298 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:45:36.299 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:45:36.299 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:45:36.299 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:45:36.299 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:45:36.300 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:45:36.302 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:45:36.309 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:45:36.309 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:45:36.309 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:45:36.328 TRACE 32439 --- [main] c.p.a.controllers.WalletController       : /add-balance
2022-02-17 17:45:36.329 DEBUG 32439 --- [main] c.p.a.controllers.WalletController       : RequestParams mobile:9808727553 amount:2000.0
2022-02-17 17:45:36.330 TRACE 32439 --- [main] c.p.assignment1.services.WalletService   : addBalance() 
2022-02-17 17:45:36.343 DEBUG 32439 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:45:36.362 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:45:36.394 DEBUG 32439 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:45:36.428 TRACE 32439 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:45:36.428 DEBUG 32439 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:45:36.428 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:45:36.429 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:45:36.429 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:45:36.429 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:45:36.431 TRACE 32439 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 17:45:36.431 TRACE 32439 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 17:45:36.431 DEBUG 32439 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 17:45:36.432 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 17:45:36.435 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 17:45:36.437 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 17:45:36.438 DEBUG 32439 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 17:45:36.440 DEBUG 32439 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:45:36.441 DEBUG 32439 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:45:36.443 DEBUG 32439 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 17:45:36.447 TRACE 32439 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:45:36.447 DEBUG 32439 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:45:36.447 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:45:36.447 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:45:36.448 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:45:36.448 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:45:36.448 TRACE 32439 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 17:45:36.449 TRACE 32439 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:45:36.450 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:45:36.454 TRACE 32439 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:45:36.455 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:45:36.467 TRACE 32439 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:45:36.468 DEBUG 32439 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:45:36.468 TRACE 32439 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:45:36.469 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:45:36.476 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:45:36.477 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:45:36.477 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 17:45:36.477 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:45:36.477 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 17:45:36.477 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:45:36.477 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:45:36.479 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:45:36.479 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:45:36.479 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 17:45:36.480 TRACE 32439 --- [main] c.p.a.controllers.WalletController       : /create-wallet/{mobile}
2022-02-17 17:45:36.480 DEBUG 32439 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9027822400
2022-02-17 17:45:36.480 TRACE 32439 --- [main] c.p.assignment1.services.WalletService   : createWallet() 
2022-02-17 17:45:36.481 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.mobile=?
2022-02-17 17:45:36.484 DEBUG 32439 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:45:36.486 DEBUG 32439 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:45:36.490 DEBUG 32439 --- [main] org.hibernate.SQL                        : insert into user_wallet (create_time, update_time, balance_amount, is_active, id) values (?, ?, ?, ?, ?)
2022-02-17 17:45:36.495 DEBUG 32439 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 17:45:36.495 DEBUG 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] c.p.assignment1.services.WalletService   : Received kafka event for create-wallet : new wallet created with mobile 9027822400
2022-02-17 17:45:36.496 DEBUG 32439 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:45:36.508 TRACE 32439 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:45:36.509 DEBUG 32439 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:45:36.511 TRACE 32439 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:45:36.511 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:45:36.516 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:45:36.517 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:45:36.517 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:45:36.517 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:45:36.517 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:45:36.517 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:45:36.517 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:45:36.519 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:45:36.519 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:45:36.519 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:45:36.520 TRACE 32439 --- [main] c.p.a.controllers.WalletController       : /add-balance
2022-02-17 17:45:36.521 DEBUG 32439 --- [main] c.p.a.controllers.WalletController       : RequestParams mobile:9027822400 amount:3000.0
2022-02-17 17:45:36.524 TRACE 32439 --- [main] c.p.assignment1.services.WalletService   : addBalance() 
2022-02-17 17:45:36.525 DEBUG 32439 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:45:36.527 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:45:36.529 DEBUG 32439 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:45:36.601 TRACE 32439 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:45:36.603 DEBUG 32439 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:45:36.603 TRACE 32439 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:45:36.604 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:45:36.607 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:45:36.607 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:45:36.607 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:45:36.608 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:45:36.608 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:45:36.608 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:45:36.608 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:45:36.609 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:45:36.609 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:45:36.609 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:45:36.611 TRACE 32439 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:45:36.611 DEBUG 32439 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 17:45:36.612 TRACE 32439 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:45:36.612 DEBUG 32439 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:45:36.613 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:45:36.620 TRACE 32439 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:45:36.623 DEBUG 32439 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:45:36.623 TRACE 32439 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:45:36.624 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:45:36.628 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:45:36.630 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:45:36.630 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:45:36.630 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:45:36.630 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:45:36.630 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:45:36.630 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:45:36.632 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:45:36.632 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:45:36.632 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:45:36.633 TRACE 32439 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:45:36.633 DEBUG 32439 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9027822400
2022-02-17 17:45:36.634 TRACE 32439 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:45:36.635 DEBUG 32439 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:45:36.639 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:45:36.647 TRACE 32439 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:45:36.648 DEBUG 32439 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:45:36.649 TRACE 32439 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:45:36.649 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:45:36.657 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:45:36.657 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:45:36.657 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:45:36.657 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:45:36.657 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:45:36.657 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:45:36.657 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:45:36.665 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:45:36.665 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:45:36.665 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:45:36.669 TRACE 32439 --- [main] c.p.a.controllers.TransactionController  : /transaction/{mobile} addTransaction()
2022-02-17 17:45:36.732 TRACE 32439 --- [main] c.p.a.services.TransactionService        : addTransaction()
2022-02-17 17:45:36.733 DEBUG 32439 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:45:36.734 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:45:36.742 DEBUG 32439 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:45:36.747 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:45:36.755 DEBUG 32439 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:45:36.757 DEBUG 32439 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:45:36.772 DEBUG 32439 --- [main] org.hibernate.SQL                        : insert into transaction (create_time, update_time, amount, payee_wallet_id, payee_closing_balance, payer_wallet_id, payer_closing_balance, status, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 17:45:36.774 DEBUG 32439 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:45:36.775 DEBUG 32439 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:45:36.776 DEBUG 32439 --- [main] org.hibernate.SQL                        : update transaction set create_time=?, update_time=?, amount=?, payee_wallet_id=?, payee_closing_balance=?, payer_wallet_id=?, payer_closing_balance=?, status=? where id=?
2022-02-17 17:45:36.790 TRACE 32439 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:45:36.791 DEBUG 32439 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:45:36.791 TRACE 32439 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:45:36.792 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:45:36.800 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:45:36.800 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:45:36.800 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:45:36.800 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:45:36.800 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:45:36.800 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:45:36.801 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:45:36.804 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:45:36.804 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:45:36.804 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:45:36.805 TRACE 32439 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:45:36.805 DEBUG 32439 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 17:45:36.807 TRACE 32439 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:45:36.808 DEBUG 32439 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:45:36.809 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:45:36.815 TRACE 32439 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:45:36.817 DEBUG 32439 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:45:36.817 TRACE 32439 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:45:36.818 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:45:36.822 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:45:36.822 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:45:36.822 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:45:36.822 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:45:36.822 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:45:36.822 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:45:36.822 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:45:36.824 TRACE 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:45:36.824 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:45:36.824 DEBUG 32439 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:45:36.825 TRACE 32439 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:45:36.825 DEBUG 32439 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9027822400
2022-02-17 17:45:36.826 TRACE 32439 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:45:36.826 DEBUG 32439 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:45:36.828 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:45:36.867 DEBUG 32439 --- [main] org.hibernate.SQL                        : select transactio0_.id as id1_0_, transactio0_.create_time as create_t2_0_, transactio0_.update_time as update_t3_0_, transactio0_.amount as amount4_0_, transactio0_.payee_wallet_id as payee_wa8_0_, transactio0_.payee_closing_balance as payee_cl5_0_, transactio0_.payer_wallet_id as payer_wa9_0_, transactio0_.payer_closing_balance as payer_cl6_0_, transactio0_.status as status7_0_ from transaction transactio0_
2022-02-17 17:45:36.871 DEBUG 32439 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_0_, userwallet0_.create_time as create_t2_2_0_, userwallet0_.update_time as update_t3_2_0_, userwallet0_.balance_amount as balance_4_2_0_, userwallet0_.is_active as is_activ5_2_0_ from user_wallet userwallet0_ where userwallet0_.id=?
2022-02-17 17:45:36.875 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:45:36.877 DEBUG 32439 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_0_, userwallet0_.create_time as create_t2_2_0_, userwallet0_.update_time as update_t3_2_0_, userwallet0_.balance_amount as balance_4_2_0_, userwallet0_.is_active as is_activ5_2_0_ from user_wallet userwallet0_ where userwallet0_.id=?
2022-02-17 17:45:36.878 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:45:36.887 DEBUG 32439 --- [main] org.hibernate.SQL                        : delete from transaction where id=?
2022-02-17 17:45:36.903 DEBUG 32439 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_
2022-02-17 17:45:36.908 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:45:36.912 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:45:36.921 DEBUG 32439 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 17:45:36.924 DEBUG 32439 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_0_, userwallet0_.create_time as create_t2_2_0_, userwallet0_.update_time as update_t3_2_0_, userwallet0_.balance_amount as balance_4_2_0_, userwallet0_.is_active as is_activ5_2_0_ from user_wallet userwallet0_ where userwallet0_.id=?
2022-02-17 17:45:36.927 DEBUG 32439 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_0_, userwallet0_.create_time as create_t2_2_0_, userwallet0_.update_time as update_t3_2_0_, userwallet0_.balance_amount as balance_4_2_0_, userwallet0_.is_active as is_activ5_2_0_ from user_wallet userwallet0_ where userwallet0_.id=?
2022-02-17 17:45:36.931 DEBUG 32439 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 17:45:36.932 DEBUG 32439 --- [main] org.hibernate.SQL                        : delete from user_wallet where id=?
2022-02-17 17:45:36.938 DEBUG 32439 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 17:45:36.939 DEBUG 32439 --- [main] org.hibernate.SQL                        : delete from user_wallet where id=?
2022-02-17 17:45:36.986  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Revoke previously assigned partitions create-wallet-0
2022-02-17 17:45:36.986  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Revoke previously assigned partitions transactions-0
2022-02-17 17:45:36.989  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [transactions-0]
2022-02-17 17:45:36.989  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [create-wallet-0]
2022-02-17 17:45:36.989  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-e5f36ddb-ba12-4e4f-8030-b38c96dc3e7c sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 17:45:36.989  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-32abd147-801d-482c-8c54-8541432570fb sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 17:45:36.991  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:45:36.991  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:45:36.991  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 17:45:36.991  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:45:36.991  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:45:36.991  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 17:45:36.991  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:45:36.991  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:45:36.999  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:45:36.999  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:45:37.003  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:45:37.003  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:45:37.003  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:45:37.003  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:45:37.004  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:45:37.004  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:45:37.006  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 17:45:37.010  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 17:45:37.013  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 17:45:37.013  INFO 32439 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 17:45:37.016  INFO 32439 --- [SpringApplicationShutdownHook] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2022-02-17 17:45:37.023  INFO 32439 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:45:37.024  INFO 32439 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:45:37.024  INFO 32439 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:45:37.024  INFO 32439 --- [SpringApplicationShutdownHook] o.a.kafka.common.utils.AppInfoParser     : App info kafka.producer for producer-1 unregistered
2022-02-17 17:45:37.028  INFO 32439 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 17:45:37.034  INFO 32439 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 17:45:37.052  INFO 32439 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 17:46:04.909  WARN 31408 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=20m26s899ms).
2022-02-17 17:46:05.126 TRACE 31408 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:46:05.227 DEBUG 31408 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:46:05.231 TRACE 31408 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:46:05.285  INFO 31408 --- [kafka-coordinator-heartbeat-thread | user-wallet-group] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Group coordinator localhost:9092 (id: 2147483647 rack: null) is unavailable or invalid due to cause: coordinator unavailable.isDisconnected: true. Rediscovery will be attempted.
2022-02-17 17:46:05.285  INFO 31408 --- [kafka-coordinator-heartbeat-thread | user-wallet-group] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Group coordinator localhost:9092 (id: 2147483647 rack: null) is unavailable or invalid due to cause: coordinator unavailable.isDisconnected: true. Rediscovery will be attempted.
2022-02-17 17:46:05.303 DEBUG 31408 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:46:05.453  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 17:46:05.458  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 17:46:05.467  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 17:46:05.467  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 17:46:05.497  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Attempt to heartbeat with Generation{generationId=96, memberId='consumer-user-wallet-group-1-639a2385-f4a7-4510-a093-89997b2d1774', protocol='range'} and group instance id Optional.empty failed due to UNKNOWN_MEMBER_ID, resetting generation
2022-02-17 17:46:05.497  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Attempt to heartbeat with Generation{generationId=96, memberId='consumer-user-wallet-group-2-0acd2526-7b3c-45d0-b36c-ca9e56c21a91', protocol='range'} and group instance id Optional.empty failed due to UNKNOWN_MEMBER_ID, resetting generation
2022-02-17 17:46:05.555  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: encountered UNKNOWN_MEMBER_ID from HEARTBEAT response
2022-02-17 17:46:05.555  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: encountered UNKNOWN_MEMBER_ID from HEARTBEAT response
2022-02-17 17:46:05.558  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: encountered UNKNOWN_MEMBER_ID from HEARTBEAT response
2022-02-17 17:46:05.558  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: encountered UNKNOWN_MEMBER_ID from HEARTBEAT response
2022-02-17 17:46:05.559  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Giving away all assigned partitions as lost since generation has been reset,indicating that consumer is no longer part of the group
2022-02-17 17:46:05.559  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Giving away all assigned partitions as lost since generation has been reset,indicating that consumer is no longer part of the group
2022-02-17 17:46:05.560  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Lost previously assigned partitions create-wallet-0
2022-02-17 17:46:05.560  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Lost previously assigned partitions transactions-0
2022-02-17 17:46:05.564  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions lost: [create-wallet-0]
2022-02-17 17:46:05.565  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions lost: [transactions-0]
2022-02-17 17:46:05.565  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [create-wallet-0]
2022-02-17 17:46:05.565  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [transactions-0]
2022-02-17 17:46:05.568  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:46:05.569  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:46:05.653  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:46:05.652  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:46:05.658  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:46:05.658  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 17:46:05.658  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:46:05.658  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 17:46:05.662  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:46:05.662  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:46:05.663  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:46:05.664  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:46:05.666  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:46:05.666  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:46:05.668  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:46:05.668  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:46:05.668  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:46:05.668  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:46:05.689  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 17:46:05.695  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 17:46:05.707  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 17:46:05.710  INFO 31408 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 17:46:05.720  INFO 31408 --- [SpringApplicationShutdownHook] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2022-02-17 17:46:05.732  INFO 31408 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:46:05.732  INFO 31408 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:46:05.733  INFO 31408 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:46:05.734  INFO 31408 --- [SpringApplicationShutdownHook] o.a.kafka.common.utils.AppInfoParser     : App info kafka.producer for producer-1 unregistered
2022-02-17 17:46:05.741  INFO 31408 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 17:46:05.771  INFO 31408 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 17:46:05.807  INFO 31408 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 17:46:10.238  INFO 32481 --- [main] c.p.a.c.TransactionControllerIT          : Starting TransactionControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 32481 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 17:46:10.247 DEBUG 32481 --- [main] c.p.a.c.TransactionControllerIT          : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 17:46:10.249  INFO 32481 --- [main] c.p.a.c.TransactionControllerIT          : No active profile set, falling back to default profiles: default
2022-02-17 17:46:11.652  INFO 32481 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 17:46:11.773  INFO 32481 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 112 ms. Found 3 JPA repository interfaces.
2022-02-17 17:46:13.328  INFO 32481 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 17:46:13.342  INFO 32481 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 17:46:13.342  INFO 32481 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 17:46:13.555  INFO 32481 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 17:46:13.556  INFO 32481 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3264 ms
2022-02-17 17:46:14.194  INFO 32481 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 17:46:14.234  INFO 32481 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 17:46:14.381  INFO 32481 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 17:46:14.486  INFO 32481 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 17:46:15.120  INFO 32481 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 17:46:15.157  INFO 32481 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 17:46:16.343 DEBUG 32481 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 17:46:16.387 DEBUG 32481 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 17:46:16.398 DEBUG 32481 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 17:46:16.409 DEBUG 32481 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 17:46:16.414 DEBUG 32481 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 17:46:16.420 DEBUG 32481 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 17:46:16.425 DEBUG 32481 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 17:46:16.437 DEBUG 32481 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 17:46:16.445 DEBUG 32481 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 17:46:16.447 DEBUG 32481 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 17:46:16.460 DEBUG 32481 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 17:46:16.469 DEBUG 32481 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 17:46:16.475 DEBUG 32481 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 17:46:16.483 DEBUG 32481 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 17:46:16.492 DEBUG 32481 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 17:46:16.501 DEBUG 32481 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 17:46:16.516 DEBUG 32481 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 17:46:16.531 DEBUG 32481 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 17:46:16.549  INFO 32481 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 17:46:16.556  INFO 32481 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 17:46:17.616 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 17:46:17.619 DEBUG 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 17:46:17.735  WARN 32481 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 17:46:18.411  INFO 32481 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@205f52ea, org.springframework.security.web.context.SecurityContextPersistenceFilter@6aadb092, org.springframework.security.web.header.HeaderWriterFilter@75de7009, org.springframework.security.web.authentication.logout.LogoutFilter@6614ecca, com.paytm.assignment1.filters.JwtRequestFilter@1d06801f, com.paytm.assignment1.filters.UserAuthorizationFilter@ad5cffa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4caf875c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5621a671, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@34f60be9, org.springframework.security.web.session.SessionManagementFilter@6ad3fbe4, org.springframework.security.web.access.ExceptionTranslationFilter@11dbcb3b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1123d461]
2022-02-17 17:46:19.789  INFO 32481 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 17:46:19.791  INFO 32481 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 17:46:19.802  INFO 32481 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 11 ms
2022-02-17 17:46:20.008  INFO 32481 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 17:46:20.162  INFO 32481 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:46:20.172  INFO 32481 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:46:20.172  INFO 32481 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645100180157
2022-02-17 17:46:20.627  INFO 32481 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 17:46:20.634  INFO 32481 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:46:20.634  INFO 32481 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:46:20.634  INFO 32481 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:46:20.686  INFO 32481 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 17:46:20.746  INFO 32481 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:46:20.748  INFO 32481 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:46:20.748  INFO 32481 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645100180746
2022-02-17 17:46:20.750  INFO 32481 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 17:46:20.787  INFO 32481 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 17:46:20.822  INFO 32481 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:46:20.823  INFO 32481 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:46:20.823  INFO 32481 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645100180822
2022-02-17 17:46:20.823  INFO 32481 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 17:46:20.842  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 17:46:20.842  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 17:46:20.845  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 17:46:20.845  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 17:46:20.850  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:46:20.849  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:46:20.874  INFO 32481 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 61549 (http) with context path ''
2022-02-17 17:46:20.892  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 17:46:20.895  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 17:46:20.895  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:46:20.896  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:46:20.905  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=107, memberId='consumer-user-wallet-group-2-e8f08679-63fb-4071-be3c-98f5fef8db2d', protocol='range'}
2022-02-17 17:46:20.905  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=107, memberId='consumer-user-wallet-group-1-f3693574-0132-43d9-9587-ea3841d04eb8', protocol='range'}
2022-02-17 17:46:20.917  INFO 32481 --- [main] c.p.a.c.TransactionControllerIT          : Started TransactionControllerIT in 11.302 seconds (JVM running for 13.343)
2022-02-17 17:46:20.940  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Finished assignment for group at generation 107: {consumer-user-wallet-group-1-f3693574-0132-43d9-9587-ea3841d04eb8=Assignment(partitions=[transactions-0]), consumer-user-wallet-group-2-e8f08679-63fb-4071-be3c-98f5fef8db2d=Assignment(partitions=[create-wallet-0])}
2022-02-17 17:46:20.957  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=107, memberId='consumer-user-wallet-group-1-f3693574-0132-43d9-9587-ea3841d04eb8', protocol='range'}
2022-02-17 17:46:20.957  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=107, memberId='consumer-user-wallet-group-2-e8f08679-63fb-4071-be3c-98f5fef8db2d', protocol='range'}
2022-02-17 17:46:20.958  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[create-wallet-0])
2022-02-17 17:46:20.958  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[transactions-0])
2022-02-17 17:46:20.962  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Adding newly assigned partitions: transactions-0
2022-02-17 17:46:20.962  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Adding newly assigned partitions: create-wallet-0
2022-02-17 17:46:21.010  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Setting offset for partition transactions-0 to the committed offset FetchPosition{offset=1, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 17:46:21.010  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Setting offset for partition create-wallet-0 to the committed offset FetchPosition{offset=17, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 17:46:21.021  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [transactions-0]
2022-02-17 17:46:21.021  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [create-wallet-0]
2022-02-17 17:46:21.211 TRACE 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:46:21.213 DEBUG 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:46:21.213 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:21.213 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:46:21.232 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:21.233 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:46:21.305 TRACE 32481 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 17:46:21.329 TRACE 32481 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 17:46:21.329 DEBUG 32481 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 17:46:21.364 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 17:46:21.413 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 17:46:21.420 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 17:46:21.421 DEBUG 32481 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 17:46:21.464 DEBUG 32481 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:46:21.467 DEBUG 32481 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:46:21.489 DEBUG 32481 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 17:46:21.575 TRACE 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:46:21.576 DEBUG 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:46:21.576 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:21.576 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:46:21.576 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:21.577 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:46:21.581 TRACE 32481 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 17:46:21.583 TRACE 32481 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:46:21.597 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:46:21.618 TRACE 32481 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:46:21.620 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:46:21.681 TRACE 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:46:21.694 DEBUG 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:46:21.694 TRACE 32481 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:46:21.717 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:46:21.722 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:21.723 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:21.723 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:46:21.723 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:46:21.723 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:46:21.723 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:46:21.730 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:46:21.734 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:21.734 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:21.734 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:46:21.747 TRACE 32481 --- [main] c.p.a.controllers.WalletController       : /create-wallet/{mobile}
2022-02-17 17:46:21.748 DEBUG 32481 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 17:46:21.770 TRACE 32481 --- [main] c.p.assignment1.services.WalletService   : createWallet() 
2022-02-17 17:46:21.781 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.mobile=?
2022-02-17 17:46:21.790 DEBUG 32481 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:46:21.792 DEBUG 32481 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:46:21.802  INFO 32481 --- [main] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values: 
	acks = -1
	batch.size = 16384
	bootstrap.servers = [127.0.0.1:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-02-17 17:46:21.837  INFO 32481 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:46:21.838  INFO 32481 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:46:21.839  INFO 32481 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645100181836
2022-02-17 17:46:21.846  INFO 32481 --- [kafka-producer-network-thread | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 17:46:21.868 DEBUG 32481 --- [main] org.hibernate.SQL                        : insert into user_wallet (create_time, update_time, balance_amount, is_active, id) values (?, ?, ?, ?, ?)
2022-02-17 17:46:21.877 DEBUG 32481 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 17:46:21.893 DEBUG 32481 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:46:21.901 DEBUG 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] c.p.assignment1.services.WalletService   : Received kafka event for create-wallet : new wallet created with mobile 9808727553
2022-02-17 17:46:21.924 TRACE 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:46:21.927 DEBUG 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:46:21.927 TRACE 32481 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:46:21.928 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:46:21.955 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:21.956 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:21.956 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:46:21.956 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:46:21.956 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:46:21.957 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:46:21.959 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:46:21.968 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:21.968 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:21.968 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:46:21.991 TRACE 32481 --- [main] c.p.a.controllers.WalletController       : /add-balance
2022-02-17 17:46:21.992 DEBUG 32481 --- [main] c.p.a.controllers.WalletController       : RequestParams mobile:9808727553 amount:2000.0
2022-02-17 17:46:21.995 TRACE 32481 --- [main] c.p.assignment1.services.WalletService   : addBalance() 
2022-02-17 17:46:22.020 DEBUG 32481 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:46:22.033 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:46:22.059 DEBUG 32481 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:46:22.076 TRACE 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:46:22.076 DEBUG 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:46:22.076 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.076 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:46:22.077 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.077 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:46:22.079 TRACE 32481 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 17:46:22.079 TRACE 32481 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 17:46:22.079 DEBUG 32481 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 17:46:22.079 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 17:46:22.081 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 17:46:22.082 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 17:46:22.083 DEBUG 32481 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 17:46:22.086 DEBUG 32481 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:46:22.087 DEBUG 32481 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:46:22.090 DEBUG 32481 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 17:46:22.095 TRACE 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:46:22.095 DEBUG 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:46:22.095 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.095 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:46:22.096 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.096 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:46:22.098 TRACE 32481 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 17:46:22.099 TRACE 32481 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:46:22.100 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:46:22.105 TRACE 32481 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:46:22.106 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:46:22.116 TRACE 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:46:22.118 DEBUG 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:46:22.118 TRACE 32481 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:46:22.119 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:46:22.129 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.129 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.129 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 17:46:22.129 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:46:22.129 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 17:46:22.129 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:46:22.130 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:46:22.132 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.133 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.133 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 17:46:22.134 TRACE 32481 --- [main] c.p.a.controllers.WalletController       : /create-wallet/{mobile}
2022-02-17 17:46:22.134 DEBUG 32481 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9027822400
2022-02-17 17:46:22.134 TRACE 32481 --- [main] c.p.assignment1.services.WalletService   : createWallet() 
2022-02-17 17:46:22.135 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.mobile=?
2022-02-17 17:46:22.138 DEBUG 32481 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:46:22.139 DEBUG 32481 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:46:22.144 DEBUG 32481 --- [main] org.hibernate.SQL                        : insert into user_wallet (create_time, update_time, balance_amount, is_active, id) values (?, ?, ?, ?, ?)
2022-02-17 17:46:22.150 DEBUG 32481 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 17:46:22.152 DEBUG 32481 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:46:22.153 DEBUG 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] c.p.assignment1.services.WalletService   : Received kafka event for create-wallet : new wallet created with mobile 9027822400
2022-02-17 17:46:22.164 TRACE 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:46:22.167 DEBUG 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:46:22.167 TRACE 32481 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:46:22.168 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:46:22.173 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.173 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.174 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:46:22.174 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:46:22.174 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:46:22.174 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:46:22.174 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:46:22.176 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.177 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.177 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:46:22.177 TRACE 32481 --- [main] c.p.a.controllers.WalletController       : /add-balance
2022-02-17 17:46:22.177 DEBUG 32481 --- [main] c.p.a.controllers.WalletController       : RequestParams mobile:9027822400 amount:3000.0
2022-02-17 17:46:22.181 TRACE 32481 --- [main] c.p.assignment1.services.WalletService   : addBalance() 
2022-02-17 17:46:22.181 DEBUG 32481 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:46:22.184 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:46:22.185 DEBUG 32481 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:46:22.275 TRACE 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:46:22.278 DEBUG 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:46:22.278 TRACE 32481 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:46:22.279 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:46:22.283 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.284 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.284 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9027822400
2022-02-17 17:46:22.284 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:46:22.284 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9027822400
2022-02-17 17:46:22.284 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:46:22.284 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:46:22.287 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 17:46:22.311 TRACE 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:46:22.312 DEBUG 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:46:22.312 TRACE 32481 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:46:22.312 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:46:22.315 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.316 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.316 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:46:22.316 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:46:22.316 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:46:22.316 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:46:22.316 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:46:22.318 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.321 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.322 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:46:22.328 TRACE 32481 --- [main] c.p.a.controllers.TransactionController  : /transaction/{mobile} addTransaction()
2022-02-17 17:46:22.368 TRACE 32481 --- [main] c.p.a.services.TransactionService        : addTransaction()
2022-02-17 17:46:22.368 DEBUG 32481 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:46:22.372 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:46:22.378 DEBUG 32481 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:46:22.382  WARN 32481 --- [main] c.p.a.e.WalletNotFoundException          : 8630018154
2022-02-17 17:46:22.397 TRACE 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:46:22.399 DEBUG 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:46:22.400 TRACE 32481 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:46:22.401 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:46:22.407 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.407 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.407 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:46:22.407 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:46:22.407 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:46:22.407 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:46:22.408 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:46:22.411 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.411 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.411 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:46:22.412 TRACE 32481 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:46:22.412 DEBUG 32481 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 17:46:22.412 TRACE 32481 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:46:22.413 DEBUG 32481 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:46:22.415 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:46:22.421 TRACE 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:46:22.422 DEBUG 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:46:22.422 TRACE 32481 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:46:22.423 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:46:22.429 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.429 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.429 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:46:22.429 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:46:22.429 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:46:22.429 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:46:22.430 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:46:22.434 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.434 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.434 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:46:22.436 TRACE 32481 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:46:22.436 DEBUG 32481 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9027822400
2022-02-17 17:46:22.437 TRACE 32481 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:46:22.437 DEBUG 32481 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:46:22.440 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:46:22.448 TRACE 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:46:22.450 DEBUG 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:46:22.450 TRACE 32481 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:46:22.451 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:46:22.457 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.457 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.457 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:46:22.457 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:46:22.457 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:46:22.457 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:46:22.457 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:46:22.460 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.460 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.460 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:46:22.462 TRACE 32481 --- [main] c.p.a.controllers.TransactionController  : /transaction/{mobile} addTransaction()
2022-02-17 17:46:22.462 TRACE 32481 --- [main] c.p.a.services.TransactionService        : addTransaction()
2022-02-17 17:46:22.463 DEBUG 32481 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:46:22.464 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:46:22.468 DEBUG 32481 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:46:22.469 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:46:22.477 DEBUG 32481 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:46:22.478 DEBUG 32481 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:46:22.495 DEBUG 32481 --- [main] org.hibernate.SQL                        : insert into transaction (create_time, update_time, amount, payee_wallet_id, payee_closing_balance, payer_wallet_id, payer_closing_balance, status, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 17:46:22.499 DEBUG 32481 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:46:22.500 DEBUG 32481 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:46:22.502 DEBUG 32481 --- [main] org.hibernate.SQL                        : update transaction set create_time=?, update_time=?, amount=?, payee_wallet_id=?, payee_closing_balance=?, payer_wallet_id=?, payer_closing_balance=?, status=? where id=?
2022-02-17 17:46:22.512 TRACE 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:46:22.513 DEBUG 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:46:22.513 TRACE 32481 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:46:22.514 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:46:22.518 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.518 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.518 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:46:22.518 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:46:22.518 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:46:22.518 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:46:22.518 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:46:22.520 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.520 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.520 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:46:22.521 TRACE 32481 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:46:22.521 DEBUG 32481 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 17:46:22.521 TRACE 32481 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:46:22.522 DEBUG 32481 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:46:22.523 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:46:22.532 TRACE 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:46:22.533 DEBUG 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:46:22.534 TRACE 32481 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:46:22.534 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:46:22.538 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.538 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.538 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:46:22.538 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:46:22.539 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:46:22.539 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:46:22.539 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:46:22.540 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.540 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.540 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:46:22.540 TRACE 32481 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:46:22.541 DEBUG 32481 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9027822400
2022-02-17 17:46:22.542 TRACE 32481 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:46:22.543 DEBUG 32481 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:46:22.544 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:46:22.563 TRACE 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:46:22.564 DEBUG 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:46:22.564 TRACE 32481 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:46:22.566 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:46:22.572 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.572 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.573 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:46:22.573 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:46:22.573 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:46:22.573 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:46:22.573 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:46:22.575 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.575 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.575 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:46:22.576 TRACE 32481 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:46:22.576 DEBUG 32481 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 17:46:22.576 TRACE 32481 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:46:22.577 DEBUG 32481 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:46:22.579 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:46:22.586 TRACE 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:46:22.587 DEBUG 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:46:22.587 TRACE 32481 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:46:22.588 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:46:22.594 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.594 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.595 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:46:22.595 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:46:22.595 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:46:22.595 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:46:22.595 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:46:22.597 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.597 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.597 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:46:22.598 TRACE 32481 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:46:22.598 DEBUG 32481 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9027822400
2022-02-17 17:46:22.598 TRACE 32481 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:46:22.598 DEBUG 32481 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:46:22.601 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:46:22.607 TRACE 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:46:22.614 DEBUG 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:46:22.614 TRACE 32481 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:46:22.615 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:46:22.625 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.625 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.625 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:46:22.625 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:46:22.625 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:46:22.625 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:46:22.626 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:46:22.628 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.628 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.628 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:46:22.630 TRACE 32481 --- [main] c.p.a.controllers.TransactionController  : /transaction/{mobile} addTransaction()
2022-02-17 17:46:22.631 TRACE 32481 --- [main] c.p.a.services.TransactionService        : addTransaction()
2022-02-17 17:46:22.631 DEBUG 32481 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:46:22.632 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:46:22.634 DEBUG 32481 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:46:22.636 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:46:22.638 DEBUG 32481 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:46:22.638 DEBUG 32481 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:46:22.644 DEBUG 32481 --- [main] org.hibernate.SQL                        : insert into transaction (create_time, update_time, amount, payee_wallet_id, payee_closing_balance, payer_wallet_id, payer_closing_balance, status, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 17:46:22.648 DEBUG 32481 --- [main] org.hibernate.SQL                        : update transaction set create_time=?, update_time=?, amount=?, payee_wallet_id=?, payee_closing_balance=?, payer_wallet_id=?, payer_closing_balance=?, status=? where id=?
2022-02-17 17:46:22.658 TRACE 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:46:22.660 DEBUG 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:46:22.660 TRACE 32481 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:46:22.660 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:46:22.667 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.667 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.667 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:46:22.667 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:46:22.667 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:46:22.667 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:46:22.667 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:46:22.668 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.668 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.668 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:46:22.669 TRACE 32481 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:46:22.669 DEBUG 32481 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 17:46:22.670 TRACE 32481 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:46:22.671 DEBUG 32481 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:46:22.672 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:46:22.680 TRACE 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:46:22.682 DEBUG 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:46:22.682 TRACE 32481 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:46:22.682 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:46:22.685 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.685 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.685 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:46:22.685 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:46:22.685 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:46:22.685 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:46:22.686 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:46:22.687 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.687 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.687 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:46:22.689 TRACE 32481 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:46:22.689 DEBUG 32481 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9027822400
2022-02-17 17:46:22.690 TRACE 32481 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:46:22.690 DEBUG 32481 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:46:22.693 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:46:22.709 TRACE 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:46:22.713 DEBUG 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:46:22.713 TRACE 32481 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:46:22.715 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:46:22.723 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.723 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.723 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:46:22.723 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:46:22.723 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:46:22.723 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:46:22.724 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:46:22.728 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.728 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.728 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:46:22.730 TRACE 32481 --- [main] c.p.a.controllers.TransactionController  : /transaction/{mobile} getTransactions()
2022-02-17 17:46:22.731 TRACE 32481 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:46:22.731 DEBUG 32481 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:46:22.732 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:46:22.736 TRACE 32481 --- [main] c.p.a.services.TransactionService        : getTransactions()
2022-02-17 17:46:22.765 DEBUG 32481 --- [main] org.hibernate.SQL                        : SELECT * FROM transaction WHERE payee_wallet_id = ? OR payer_wallet_id = ? order by create_time desc limit ?
2022-02-17 17:46:22.773 DEBUG 32481 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_0_, userwallet0_.create_time as create_t2_2_0_, userwallet0_.update_time as update_t3_2_0_, userwallet0_.balance_amount as balance_4_2_0_, userwallet0_.is_active as is_activ5_2_0_ from user_wallet userwallet0_ where userwallet0_.id=?
2022-02-17 17:46:22.776 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:46:22.803 TRACE 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:46:22.805 DEBUG 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:46:22.805 TRACE 32481 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:46:22.805 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:46:22.809 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.809 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.809 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:46:22.809 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:46:22.809 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:46:22.809 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:46:22.809 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:46:22.811 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.811 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.811 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:46:22.811 TRACE 32481 --- [main] c.p.a.controllers.TransactionController  : /transaction/{mobile} getTransactions()
2022-02-17 17:46:22.812 TRACE 32481 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:46:22.812 DEBUG 32481 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:46:22.814 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:46:22.817 TRACE 32481 --- [main] c.p.a.services.TransactionService        : getTransactions()
2022-02-17 17:46:22.819 DEBUG 32481 --- [main] org.hibernate.SQL                        : SELECT * FROM transaction WHERE payee_wallet_id = ? OR payer_wallet_id = ? order by create_time desc limit ?, ?
2022-02-17 17:46:22.833 TRACE 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:46:22.834 DEBUG 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:46:22.834 TRACE 32481 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:46:22.835 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:46:22.839 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.839 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.839 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction
2022-02-17 17:46:22.839 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:46:22.839 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction
2022-02-17 17:46:22.839 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.839 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.839 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction
2022-02-17 17:46:22.841 TRACE 32481 --- [main] c.p.a.controllers.TransactionController  : /transaction getTransaction
2022-02-17 17:46:22.842 TRACE 32481 --- [main] c.p.a.services.TransactionService        : getTransaction()
2022-02-17 17:46:22.850 DEBUG 32481 --- [main] org.hibernate.SQL                        : select transactio0_.id as id1_0_0_, transactio0_.create_time as create_t2_0_0_, transactio0_.update_time as update_t3_0_0_, transactio0_.amount as amount4_0_0_, transactio0_.payee_wallet_id as payee_wa8_0_0_, transactio0_.payee_closing_balance as payee_cl5_0_0_, transactio0_.payer_wallet_id as payer_wa9_0_0_, transactio0_.payer_closing_balance as payer_cl6_0_0_, transactio0_.status as status7_0_0_, userwallet1_.id as id1_2_1_, userwallet1_.create_time as create_t2_2_1_, userwallet1_.update_time as update_t3_2_1_, userwallet1_.balance_amount as balance_4_2_1_, userwallet1_.is_active as is_activ5_2_1_, userwallet2_.id as id1_2_2_, userwallet2_.create_time as create_t2_2_2_, userwallet2_.update_time as update_t3_2_2_, userwallet2_.balance_amount as balance_4_2_2_, userwallet2_.is_active as is_activ5_2_2_ from transaction transactio0_ inner join user_wallet userwallet1_ on transactio0_.payee_wallet_id=userwallet1_.id inner join user_wallet userwallet2_ on transactio0_.payer_wallet_id=userwallet2_.id where transactio0_.id=?
2022-02-17 17:46:22.853  WARN 32481 --- [main] c.p.a.e.TransactionNotFoundException     : 10
2022-02-17 17:46:22.860 TRACE 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:46:22.862 DEBUG 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:46:22.863 TRACE 32481 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:46:22.863 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:46:22.869 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.869 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.869 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction
2022-02-17 17:46:22.869 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:46:22.869 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction
2022-02-17 17:46:22.869 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.869 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:46:22.869 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction
2022-02-17 17:46:22.869 TRACE 32481 --- [main] c.p.a.controllers.TransactionController  : /transaction getTransaction
2022-02-17 17:46:22.870 TRACE 32481 --- [main] c.p.a.services.TransactionService        : getTransaction()
2022-02-17 17:46:22.871 DEBUG 32481 --- [main] org.hibernate.SQL                        : select transactio0_.id as id1_0_0_, transactio0_.create_time as create_t2_0_0_, transactio0_.update_time as update_t3_0_0_, transactio0_.amount as amount4_0_0_, transactio0_.payee_wallet_id as payee_wa8_0_0_, transactio0_.payee_closing_balance as payee_cl5_0_0_, transactio0_.payer_wallet_id as payer_wa9_0_0_, transactio0_.payer_closing_balance as payer_cl6_0_0_, transactio0_.status as status7_0_0_, userwallet1_.id as id1_2_1_, userwallet1_.create_time as create_t2_2_1_, userwallet1_.update_time as update_t3_2_1_, userwallet1_.balance_amount as balance_4_2_1_, userwallet1_.is_active as is_activ5_2_1_, userwallet2_.id as id1_2_2_, userwallet2_.create_time as create_t2_2_2_, userwallet2_.update_time as update_t3_2_2_, userwallet2_.balance_amount as balance_4_2_2_, userwallet2_.is_active as is_activ5_2_2_ from transaction transactio0_ inner join user_wallet userwallet1_ on transactio0_.payee_wallet_id=userwallet1_.id inner join user_wallet userwallet2_ on transactio0_.payer_wallet_id=userwallet2_.id where transactio0_.id=?
2022-02-17 17:46:22.874 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:46:22.876 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:46:22.887 TRACE 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:46:22.887 DEBUG 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:46:22.887 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.887 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:46:22.897 TRACE 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:46:22.897 DEBUG 32481 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:46:22.897 TRACE 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:46:22.898 DEBUG 32481 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:46:22.925 DEBUG 32481 --- [main] org.hibernate.SQL                        : select transactio0_.id as id1_0_, transactio0_.create_time as create_t2_0_, transactio0_.update_time as update_t3_0_, transactio0_.amount as amount4_0_, transactio0_.payee_wallet_id as payee_wa8_0_, transactio0_.payee_closing_balance as payee_cl5_0_, transactio0_.payer_wallet_id as payer_wa9_0_, transactio0_.payer_closing_balance as payer_cl6_0_, transactio0_.status as status7_0_ from transaction transactio0_
2022-02-17 17:46:22.928 DEBUG 32481 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_0_, userwallet0_.create_time as create_t2_2_0_, userwallet0_.update_time as update_t3_2_0_, userwallet0_.balance_amount as balance_4_2_0_, userwallet0_.is_active as is_activ5_2_0_ from user_wallet userwallet0_ where userwallet0_.id=?
2022-02-17 17:46:22.929 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:46:22.929 DEBUG 32481 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_0_, userwallet0_.create_time as create_t2_2_0_, userwallet0_.update_time as update_t3_2_0_, userwallet0_.balance_amount as balance_4_2_0_, userwallet0_.is_active as is_activ5_2_0_ from user_wallet userwallet0_ where userwallet0_.id=?
2022-02-17 17:46:22.930 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:46:22.935 DEBUG 32481 --- [main] org.hibernate.SQL                        : delete from transaction where id=?
2022-02-17 17:46:22.944 DEBUG 32481 --- [main] org.hibernate.SQL                        : delete from transaction where id=?
2022-02-17 17:46:22.954 DEBUG 32481 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_
2022-02-17 17:46:22.957 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:46:22.958 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:46:22.965 DEBUG 32481 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 17:46:22.970 DEBUG 32481 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_0_, userwallet0_.create_time as create_t2_2_0_, userwallet0_.update_time as update_t3_2_0_, userwallet0_.balance_amount as balance_4_2_0_, userwallet0_.is_active as is_activ5_2_0_ from user_wallet userwallet0_ where userwallet0_.id=?
2022-02-17 17:46:22.973 DEBUG 32481 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_0_, userwallet0_.create_time as create_t2_2_0_, userwallet0_.update_time as update_t3_2_0_, userwallet0_.balance_amount as balance_4_2_0_, userwallet0_.is_active as is_activ5_2_0_ from user_wallet userwallet0_ where userwallet0_.id=?
2022-02-17 17:46:22.978 DEBUG 32481 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 17:46:22.979 DEBUG 32481 --- [main] org.hibernate.SQL                        : delete from user_wallet where id=?
2022-02-17 17:46:22.980 DEBUG 32481 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 17:46:22.981 DEBUG 32481 --- [main] org.hibernate.SQL                        : delete from user_wallet where id=?
2022-02-17 17:46:23.022  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Revoke previously assigned partitions create-wallet-0
2022-02-17 17:46:23.021  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Revoke previously assigned partitions transactions-0
2022-02-17 17:46:23.025  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [transactions-0]
2022-02-17 17:46:23.025  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [create-wallet-0]
2022-02-17 17:46:23.027  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-f3693574-0132-43d9-9587-ea3841d04eb8 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 17:46:23.027  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-e8f08679-63fb-4071-be3c-98f5fef8db2d sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 17:46:23.028  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:46:23.028  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:46:23.028  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 17:46:23.028  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:46:23.028  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:46:23.028  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 17:46:23.029  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:46:23.029  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:46:23.029  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:46:23.032  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:46:23.033  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:46:23.034  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:46:23.035  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:46:23.035  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:46:23.034  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:46:23.035  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:46:23.039  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 17:46:23.040  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 17:46:23.041  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 17:46:23.041  INFO 32481 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 17:46:23.048  INFO 32481 --- [SpringApplicationShutdownHook] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2022-02-17 17:46:23.054  INFO 32481 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:46:23.054  INFO 32481 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:46:23.055  INFO 32481 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:46:23.055  INFO 32481 --- [SpringApplicationShutdownHook] o.a.kafka.common.utils.AppInfoParser     : App info kafka.producer for producer-1 unregistered
2022-02-17 17:46:23.060  INFO 32481 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 17:46:23.066  INFO 32481 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 17:46:23.090  INFO 32481 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2022-02-17 17:48:25.889  INFO 32598 --- [main] c.p.a.controllers.UserControllerIT       : Starting UserControllerIT using Java 1.8.0_231 on PPBNOMBPBT-212.local with PID 32598 (started by abhinav.rastogi in /Users/abhinav.rastogi/IdeaProjects/pytm-a1)
2022-02-17 17:48:25.891 DEBUG 32598 --- [main] c.p.a.controllers.UserControllerIT       : Running with Spring Boot v2.6.2, Spring v5.3.14
2022-02-17 17:48:25.892  INFO 32598 --- [main] c.p.a.controllers.UserControllerIT       : No active profile set, falling back to default profiles: default
2022-02-17 17:48:27.128  INFO 32598 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-02-17 17:48:27.248  INFO 32598 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 113 ms. Found 3 JPA repository interfaces.
2022-02-17 17:48:28.812  INFO 32598 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2022-02-17 17:48:28.829  INFO 32598 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-02-17 17:48:28.830  INFO 32598 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-02-17 17:48:29.032  INFO 32598 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-02-17 17:48:29.034  INFO 32598 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3122 ms
2022-02-17 17:48:29.649  INFO 32598 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-02-17 17:48:29.686  INFO 32598 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2022-02-17 17:48:29.825  INFO 32598 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-02-17 17:48:29.907  INFO 32598 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2022-02-17 17:48:30.578  INFO 32598 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2022-02-17 17:48:30.607  INFO 32598 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-02-17 17:48:31.756 DEBUG 32598 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK7e1ufoxgxkepykf6bf1n2mdxd
2022-02-17 17:48:31.795 DEBUG 32598 --- [main] org.hibernate.SQL                        : alter table transaction drop foreign key FK9o2lusihahqlorx7j5buywdu6
2022-02-17 17:48:31.807 DEBUG 32598 --- [main] org.hibernate.SQL                        : alter table user drop foreign key FKg1j9nf3d8g7f8wkuhewidxuei
2022-02-17 17:48:31.821 DEBUG 32598 --- [main] org.hibernate.SQL                        : drop table if exists hibernate_sequence
2022-02-17 17:48:31.826 DEBUG 32598 --- [main] org.hibernate.SQL                        : drop table if exists transaction
2022-02-17 17:48:31.834 DEBUG 32598 --- [main] org.hibernate.SQL                        : drop table if exists user
2022-02-17 17:48:31.840 DEBUG 32598 --- [main] org.hibernate.SQL                        : drop table if exists user_wallet
2022-02-17 17:48:31.850 DEBUG 32598 --- [main] org.hibernate.SQL                        : create table hibernate_sequence (next_val bigint) engine=InnoDB
2022-02-17 17:48:31.857 DEBUG 32598 --- [main] org.hibernate.SQL                        : insert into hibernate_sequence values ( 1 )
2022-02-17 17:48:31.860 DEBUG 32598 --- [main] org.hibernate.SQL                        : create table transaction (id integer not null, create_time datetime(6), update_time datetime(6), amount double precision not null, payee_closing_balance double precision not null, payer_closing_balance double precision not null, status integer, payee_wallet_id integer not null, payer_wallet_id integer not null, primary key (id)) engine=InnoDB
2022-02-17 17:48:31.876 DEBUG 32598 --- [main] org.hibernate.SQL                        : create table user (id integer not null, create_time datetime(6), update_time datetime(6), address1 varchar(255) not null, address2 varchar(255), email varchar(255) not null, first_name varchar(255) not null, is_active bit not null, last_name varchar(255), mobile varchar(255) not null, password varchar(255) not null, roles varchar(255) not null, user_name varchar(255) not null, wallet_id integer, primary key (id)) engine=InnoDB
2022-02-17 17:48:31.886 DEBUG 32598 --- [main] org.hibernate.SQL                        : create table user_wallet (id integer not null, create_time datetime(6), update_time datetime(6), balance_amount double precision not null, is_active bit not null, primary key (id)) engine=InnoDB
2022-02-17 17:48:31.893 DEBUG 32598 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
2022-02-17 17:48:31.901 DEBUG 32598 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_cnjwxx5favk5ycqajjt17fwy1 unique (mobile)
2022-02-17 17:48:31.906 DEBUG 32598 --- [main] org.hibernate.SQL                        : alter table user add constraint UK_lqjrcobrh9jc8wpcar64q1bfh unique (user_name)
2022-02-17 17:48:31.916 DEBUG 32598 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK7e1ufoxgxkepykf6bf1n2mdxd foreign key (payee_wallet_id) references user_wallet (id)
2022-02-17 17:48:31.930 DEBUG 32598 --- [main] org.hibernate.SQL                        : alter table transaction add constraint FK9o2lusihahqlorx7j5buywdu6 foreign key (payer_wallet_id) references user_wallet (id)
2022-02-17 17:48:31.945 DEBUG 32598 --- [main] org.hibernate.SQL                        : alter table user add constraint FKg1j9nf3d8g7f8wkuhewidxuei foreign key (wallet_id) references user_wallet (id)
2022-02-17 17:48:31.963  INFO 32598 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-02-17 17:48:32.090  INFO 32598 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 17:48:32.857 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Filter 'userAuthorizationFilter' configured for use
2022-02-17 17:48:32.858 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Filter 'jwtRequestFilter' configured for use
2022-02-17 17:48:32.972  WARN 32598 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-02-17 17:48:33.604  INFO 32598 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7cbfbcd1, org.springframework.security.web.context.SecurityContextPersistenceFilter@5bba9949, org.springframework.security.web.header.HeaderWriterFilter@20b67366, org.springframework.security.web.authentication.logout.LogoutFilter@2ab7f649, com.paytm.assignment1.filters.JwtRequestFilter@6f80cf5, com.paytm.assignment1.filters.UserAuthorizationFilter@4dad2363, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@744fb110, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@18209303, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c6aa46c, org.springframework.security.web.session.SessionManagementFilter@43719e98, org.springframework.security.web.access.ExceptionTranslationFilter@323eecf8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@71fb1da3]
2022-02-17 17:48:34.901  INFO 32598 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2022-02-17 17:48:34.905  INFO 32598 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2022-02-17 17:48:34.910  INFO 32598 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 4 ms
2022-02-17 17:48:35.170  INFO 32598 --- [main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [127.0.0.1:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2022-02-17 17:48:35.309  INFO 32598 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:48:35.309  INFO 32598 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:48:35.310  INFO 32598 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645100315304
2022-02-17 17:48:35.762  INFO 32598 --- [kafka-admin-client-thread | adminclient-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.admin.client for adminclient-1 unregistered
2022-02-17 17:48:35.777  INFO 32598 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:48:35.778  INFO 32598 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:48:35.779  INFO 32598 --- [kafka-admin-client-thread | adminclient-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:48:35.841  INFO 32598 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 17:48:35.911  INFO 32598 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:48:35.913  INFO 32598 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:48:35.913  INFO 32598 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645100315911
2022-02-17 17:48:35.915  INFO 32598 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Subscribed to topic(s): transactions
2022-02-17 17:48:35.946  INFO 32598 --- [main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.offset.reset = latest
	bootstrap.servers = [127.0.0.1:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-user-wallet-group-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = user-wallet-group
	group.instance.id = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

2022-02-17 17:48:35.979  INFO 32598 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:48:35.980  INFO 32598 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:48:35.980  INFO 32598 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645100315979
2022-02-17 17:48:35.981  INFO 32598 --- [main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Subscribed to topic(s): create-wallet
2022-02-17 17:48:36.026  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 17:48:36.026  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 17:48:36.031  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 17:48:36.031  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)
2022-02-17 17:48:36.037  INFO 32598 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 61612 (http) with context path ''
2022-02-17 17:48:36.039  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:48:36.039  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:48:36.088  INFO 32598 --- [main] c.p.a.controllers.UserControllerIT       : Started UserControllerIT in 10.983 seconds (JVM running for 13.439)
2022-02-17 17:48:36.096  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 17:48:36.096  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: need to re-join with the given member-id
2022-02-17 17:48:36.098  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:48:36.099  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:48:36.106  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=109, memberId='consumer-user-wallet-group-2-7eea77ca-3d51-4fd6-88fe-dba1b24f1dd5', protocol='range'}
2022-02-17 17:48:36.117  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Finished assignment for group at generation 109: {consumer-user-wallet-group-2-7eea77ca-3d51-4fd6-88fe-dba1b24f1dd5=Assignment(partitions=[create-wallet-0])}
2022-02-17 17:48:36.134  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] SyncGroup failed: The group began another rebalance. Need to re-join the group. Sent generation was Generation{generationId=109, memberId='consumer-user-wallet-group-2-7eea77ca-3d51-4fd6-88fe-dba1b24f1dd5', protocol='range'}
2022-02-17 17:48:36.177  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] (Re-)joining group
2022-02-17 17:48:36.185  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=110, memberId='consumer-user-wallet-group-2-7eea77ca-3d51-4fd6-88fe-dba1b24f1dd5', protocol='range'}
2022-02-17 17:48:36.186  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully joined group with generation Generation{generationId=110, memberId='consumer-user-wallet-group-1-ad0bad60-b5bb-4c01-9b14-47279f7b669d', protocol='range'}
2022-02-17 17:48:36.227  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Finished assignment for group at generation 110: {consumer-user-wallet-group-1-ad0bad60-b5bb-4c01-9b14-47279f7b669d=Assignment(partitions=[transactions-0]), consumer-user-wallet-group-2-7eea77ca-3d51-4fd6-88fe-dba1b24f1dd5=Assignment(partitions=[create-wallet-0])}
2022-02-17 17:48:36.235  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=110, memberId='consumer-user-wallet-group-1-ad0bad60-b5bb-4c01-9b14-47279f7b669d', protocol='range'}
2022-02-17 17:48:36.234  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Successfully synced group in generation Generation{generationId=110, memberId='consumer-user-wallet-group-2-7eea77ca-3d51-4fd6-88fe-dba1b24f1dd5', protocol='range'}
2022-02-17 17:48:36.249  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[create-wallet-0])
2022-02-17 17:48:36.250  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Notifying assignor about the new Assignment(partitions=[transactions-0])
2022-02-17 17:48:36.265  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Adding newly assigned partitions: create-wallet-0
2022-02-17 17:48:36.265  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Adding newly assigned partitions: transactions-0
2022-02-17 17:48:36.345  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Setting offset for partition create-wallet-0 to the committed offset FetchPosition{offset=19, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 17:48:36.346  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Setting offset for partition transactions-0 to the committed offset FetchPosition{offset=3, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}
2022-02-17 17:48:36.348  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [transactions-0]
2022-02-17 17:48:36.455  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions assigned: [create-wallet-0]
2022-02-17 17:48:36.635  INFO 32598 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-02-17 17:48:36.636  INFO 32598 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-02-17 17:48:36.637  INFO 32598 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-02-17 17:48:36.652 TRACE 32598 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:36.652 DEBUG 32598 --- [http-nio-auto-1-exec-1] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:48:36.652 TRACE 32598 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:36.652 DEBUG 32598 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:36.663 TRACE 32598 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:36.663 DEBUG 32598 --- [http-nio-auto-1-exec-1] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:36.894 TRACE 32598 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:36.896 DEBUG 32598 --- [http-nio-auto-1-exec-2] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:48:36.896 TRACE 32598 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:36.896 DEBUG 32598 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:36.899 TRACE 32598 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:36.899 DEBUG 32598 --- [http-nio-auto-1-exec-2] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:36.994 TRACE 32598 --- [http-nio-auto-1-exec-2] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 17:48:37.023 TRACE 32598 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : addUser()
2022-02-17 17:48:37.023 DEBUG 32598 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : validating new user
2022-02-17 17:48:37.090 DEBUG 32598 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 17:48:37.157 DEBUG 32598 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 17:48:37.171 DEBUG 32598 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 17:48:37.175 DEBUG 32598 --- [http-nio-auto-1-exec-2] c.p.assignment1.services.UserService     : user validations done
2022-02-17 17:48:37.228 DEBUG 32598 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:48:37.231 DEBUG 32598 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:48:37.253 DEBUG 32598 --- [http-nio-auto-1-exec-2] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 17:48:37.333 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:37.334 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:48:37.334 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:37.334 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:37.336 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:37.336 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:37.340 TRACE 32598 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 17:48:37.341 TRACE 32598 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 17:48:37.341 DEBUG 32598 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 17:48:37.342 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 17:48:37.349 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 17:48:37.351 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 17:48:37.354  WARN 32598 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 17:48:37.416 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:37.417 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:48:37.417 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:37.417 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:37.419 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:37.420 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:37.423 TRACE 32598 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 17:48:37.423 TRACE 32598 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 17:48:37.423 DEBUG 32598 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 17:48:37.424 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 17:48:37.426 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 17:48:37.427  WARN 32598 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :email
2022-02-17 17:48:37.441 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:37.441 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:48:37.441 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:37.441 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:37.442 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:37.443 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:37.445 TRACE 32598 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 17:48:37.445 TRACE 32598 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 17:48:37.446 DEBUG 32598 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 17:48:37.446  WARN 32598 --- [main] c.p.a.exceptions.EmptyFieldException     : Empty Field: userName
2022-02-17 17:48:37.458 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:37.459 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:48:37.460 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:37.460 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:37.461 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:37.461 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:37.462 TRACE 32598 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 17:48:37.462 TRACE 32598 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 17:48:37.462 DEBUG 32598 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 17:48:37.463 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 17:48:37.464 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 17:48:37.466 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 17:48:37.467 DEBUG 32598 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 17:48:37.473 DEBUG 32598 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:48:37.475 DEBUG 32598 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:48:37.479 DEBUG 32598 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 17:48:37.508 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:37.509 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:48:37.509 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:37.510 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:37.515 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:37.516 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:37.521 TRACE 32598 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 17:48:37.531 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:37.546 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:37.575 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:37.577 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:37.683 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:37.684 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:48:37.684 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:37.684 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:37.686 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:37.686 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:37.690 TRACE 32598 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 17:48:37.690 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:37.691 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:37.731 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:37.756 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 17:48:37.758 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:37.790 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:37.802 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:37.803 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:37.803 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 17:48:37.803 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:37.803 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 17:48:37.803 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 17:48:37.816 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 17:48:37.821 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:37.821 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:37.821 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 17:48:37.836 TRACE 32598 --- [main] c.p.a.controllers.UserController         : /user/{id} getUser() request
2022-02-17 17:48:37.837 TRACE 32598 --- [main] c.p.assignment1.services.UserService     : getUser()
2022-02-17 17:48:37.856 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 17:48:37.898 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:37.899 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:48:37.899 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:37.899 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:37.908 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:37.909 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 17:48:37.909 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:37.910 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:37.916 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:37.917 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:37.918 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 17:48:37.918 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:37.918 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 17:48:37.918 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 17:48:37.919 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 17:48:37.921 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 17:48:37.929 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:37.931 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 17:48:37.931 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:37.931 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:37.937 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:37.937 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:37.937 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 17:48:37.937 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:37.938 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 17:48:37.938 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 17:48:37.938 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 17:48:37.940 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 17:48:37.954 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:37.960 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 17:48:37.960 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:37.960 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:37.965 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:37.965 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:37.965 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 17:48:37.965 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:37.965 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 17:48:37.965 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 17:48:37.966 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 17:48:37.968 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:37.968 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:37.968 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 17:48:37.971 TRACE 32598 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 17:48:37.972 TRACE 32598 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 17:48:37.973 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 17:48:37.975 DEBUG 32598 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 17:48:37.975 DEBUG 32598 --- [main] c.p.assignment1.services.UserService     : validation complete
2022-02-17 17:48:37.991 DEBUG 32598 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 17:48:38.032 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:38.034 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 17:48:38.035 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:38.036 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:38.039 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.039 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:38.039 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 17:48:38.039 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:38.039 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/3
2022-02-17 17:48:38.039 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 3
2022-02-17 17:48:38.040 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 17:48:38.041 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 17:48:38.047 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:38.051 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:48:38.052 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.052 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:38.062 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:38.063 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 17:48:38.063 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:38.064 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:38.069 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.069 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:38.069 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 17:48:38.069 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:38.069 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 17:48:38.069 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 17:48:38.070 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 17:48:38.072 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.072 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:38.072 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 17:48:38.075 TRACE 32598 --- [main] c.p.a.controllers.UserController         : /user/{id} updateUser() request
2022-02-17 17:48:38.075 TRACE 32598 --- [main] c.p.assignment1.services.UserService     : updateUser()
2022-02-17 17:48:38.076 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.id=?
2022-02-17 17:48:38.077 DEBUG 32598 --- [main] c.p.assignment1.services.UserService     : validating fields for updating user
2022-02-17 17:48:38.079 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 17:48:38.081  WARN 32598 --- [main] c.p.a.e.DuplicateFieldException          : Duplicate Field :userName
2022-02-17 17:48:38.093 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:38.094 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 17:48:38.094 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:38.095 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:38.098 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.098 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:38.098 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 17:48:38.098 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:38.099 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/2
2022-02-17 17:48:38.099 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 2
2022-02-17 17:48:38.099 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 17:48:38.100 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 17:48:38.106 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:38.108 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= testUser1
2022-02-17 17:48:38.108 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:38.108 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:38.112 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.112 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:38.112 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 17:48:38.112 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:38.113 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 17:48:38.113 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userId: 1
2022-02-17 17:48:38.113 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.id=? limit ?
2022-02-17 17:48:38.115 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.115 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:38.115 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /user/1
2022-02-17 17:48:38.116 TRACE 32598 --- [main] c.p.a.controllers.UserController         : /user/{id} deleteUser() request
2022-02-17 17:48:38.117 TRACE 32598 --- [main] c.p.assignment1.services.UserService     : deleteUser()
2022-02-17 17:48:38.127 DEBUG 32598 --- [main] org.hibernate.SQL                        : select count(*) as col_0_0_ from user user0_ where user0_.id=?
2022-02-17 17:48:38.137 DEBUG 32598 --- [main] org.hibernate.SQL                        : update user set is_active=? where id=?
2022-02-17 17:48:38.157 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 17:48:38.163 DEBUG 32598 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 17:48:38.165 DEBUG 32598 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 17:48:38.169 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:38.169 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:48:38.169 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.169 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:38.181  INFO 32598 --- [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.paytm.assignment1.controllers.TransactionControllerIT]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-02-17 17:48:38.206  INFO 32598 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2022-02-17 17:48:38.207  INFO 32598 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@458704ee, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@45b2d17b, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@5243d730, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@15afebcc, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@68722de3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3b18009f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@77aeba9b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1db5de29, org.springframework.test.context.event.EventPublishingTestExecutionListener@64d1f549, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1fb61db4, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1d4e06bb, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2eb9c7ad, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4529048e, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6addfa22, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@74b521c]
2022-02-17 17:48:38.253 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:38.254 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:48:38.254 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.254 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:38.255 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.255 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:38.257 TRACE 32598 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 17:48:38.257 TRACE 32598 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 17:48:38.257 DEBUG 32598 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 17:48:38.258 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 17:48:38.260 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 17:48:38.263 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 17:48:38.264 DEBUG 32598 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 17:48:38.266 DEBUG 32598 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:48:38.266 DEBUG 32598 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:48:38.269 DEBUG 32598 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 17:48:38.278 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:38.278 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:48:38.278 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.278 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:38.278 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.279 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:38.280 TRACE 32598 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 17:48:38.280 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:38.281 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:38.283 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:38.283 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:38.293 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:38.296 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:48:38.296 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:38.296 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:38.301 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.301 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:38.301 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:48:38.301 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:38.301 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:48:38.301 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:48:38.307 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:48:38.310 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.310 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:38.310 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:48:38.318 TRACE 32598 --- [main] c.p.a.controllers.WalletController       : /create-wallet/{mobile}
2022-02-17 17:48:38.318 DEBUG 32598 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 17:48:38.358 TRACE 32598 --- [main] c.p.assignment1.services.WalletService   : createWallet() 
2022-02-17 17:48:38.365 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.mobile=?
2022-02-17 17:48:38.376 DEBUG 32598 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:48:38.377 DEBUG 32598 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:48:38.389  INFO 32598 --- [main] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values: 
	acks = -1
	batch.size = 16384
	bootstrap.servers = [127.0.0.1:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = producer-1
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.2
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2022-02-17 17:48:38.420  INFO 32598 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.0.0
2022-02-17 17:48:38.421  INFO 32598 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8cb0a5e9d3441962
2022-02-17 17:48:38.421  INFO 32598 --- [main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1645100318417
2022-02-17 17:48:38.428  INFO 32598 --- [kafka-producer-network-thread | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Cluster ID: VnhOLETeQSivApDCWoJhFQ
2022-02-17 17:48:38.456 DEBUG 32598 --- [main] org.hibernate.SQL                        : insert into user_wallet (create_time, update_time, balance_amount, is_active, id) values (?, ?, ?, ?, ?)
2022-02-17 17:48:38.463 DEBUG 32598 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 17:48:38.466 DEBUG 32598 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:48:38.490 DEBUG 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] c.p.assignment1.services.WalletService   : Received kafka event for create-wallet : new wallet created with mobile 9808727553
2022-02-17 17:48:38.494 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:38.497 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:48:38.497 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:38.498 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:38.524 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.525 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:38.525 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:48:38.525 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:38.525 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:48:38.525 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:48:38.527 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:48:38.531 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.532 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:38.532 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:48:38.556 TRACE 32598 --- [main] c.p.a.controllers.WalletController       : /add-balance
2022-02-17 17:48:38.557 DEBUG 32598 --- [main] c.p.a.controllers.WalletController       : RequestParams mobile:9808727553 amount:2000.0
2022-02-17 17:48:38.559 TRACE 32598 --- [main] c.p.assignment1.services.WalletService   : addBalance() 
2022-02-17 17:48:38.562 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:48:38.575 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:48:38.606 DEBUG 32598 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:48:38.626 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:38.627 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:48:38.628 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.628 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:38.629 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.629 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:38.633 TRACE 32598 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 17:48:38.634 TRACE 32598 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 17:48:38.634 DEBUG 32598 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 17:48:38.636 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 17:48:38.639 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 17:48:38.641 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 17:48:38.643 DEBUG 32598 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 17:48:38.645 DEBUG 32598 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:48:38.646 DEBUG 32598 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:48:38.649 DEBUG 32598 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 17:48:38.658 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:38.659 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:48:38.659 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.659 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:38.659 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.659 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:38.660 TRACE 32598 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 17:48:38.660 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:38.661 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:38.664 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:38.664 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:38.670 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:38.673 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:48:38.673 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:38.674 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:38.680 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.680 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:38.680 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 17:48:38.680 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:38.680 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 17:48:38.680 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:48:38.681 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:48:38.682 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.682 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:38.682 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 17:48:38.684 TRACE 32598 --- [main] c.p.a.controllers.WalletController       : /create-wallet/{mobile}
2022-02-17 17:48:38.684 DEBUG 32598 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9027822400
2022-02-17 17:48:38.685 TRACE 32598 --- [main] c.p.assignment1.services.WalletService   : createWallet() 
2022-02-17 17:48:38.686 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.mobile=?
2022-02-17 17:48:38.689 DEBUG 32598 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:48:38.690 DEBUG 32598 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:48:38.695 DEBUG 32598 --- [main] org.hibernate.SQL                        : insert into user_wallet (create_time, update_time, balance_amount, is_active, id) values (?, ?, ?, ?, ?)
2022-02-17 17:48:38.700 DEBUG 32598 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 17:48:38.704 DEBUG 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] c.p.assignment1.services.WalletService   : Received kafka event for create-wallet : new wallet created with mobile 9027822400
2022-02-17 17:48:38.704 DEBUG 32598 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:48:38.710 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:38.711 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:48:38.712 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:38.712 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:38.716 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.716 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:38.717 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:48:38.717 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:38.717 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:48:38.717 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:48:38.717 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:48:38.718 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.718 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:38.718 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:48:38.719 TRACE 32598 --- [main] c.p.a.controllers.WalletController       : /add-balance
2022-02-17 17:48:38.719 DEBUG 32598 --- [main] c.p.a.controllers.WalletController       : RequestParams mobile:9027822400 amount:3000.0
2022-02-17 17:48:38.720 TRACE 32598 --- [main] c.p.assignment1.services.WalletService   : addBalance() 
2022-02-17 17:48:38.720 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:48:38.722 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:48:38.727 DEBUG 32598 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:48:38.756 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:38.757 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:48:38.757 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:38.757 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:38.761 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.761 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:38.761 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9027822400
2022-02-17 17:48:38.761 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:38.761 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9027822400
2022-02-17 17:48:38.761 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:48:38.761 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:48:38.762 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 17:48:38.767 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:38.771 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:48:38.771 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:38.771 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:38.779 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.779 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:38.779 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:48:38.779 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:38.779 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:48:38.779 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:48:38.780 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:48:38.782 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.782 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:38.782 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:48:38.787 TRACE 32598 --- [main] c.p.a.controllers.TransactionController  : /transaction/{mobile} addTransaction()
2022-02-17 17:48:38.808 TRACE 32598 --- [main] c.p.a.services.TransactionService        : addTransaction()
2022-02-17 17:48:38.809 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:48:38.812 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:48:38.819 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:48:38.822  WARN 32598 --- [main] c.p.a.e.WalletNotFoundException          : 8630018154
2022-02-17 17:48:38.833 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:38.836 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:48:38.836 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:38.836 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:38.844 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.844 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:38.844 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:48:38.844 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:38.844 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:48:38.844 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:48:38.844 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:48:38.846 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.847 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:38.847 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:48:38.849 TRACE 32598 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:48:38.849 DEBUG 32598 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 17:48:38.850 TRACE 32598 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:48:38.850 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:48:38.852 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:48:38.861 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:38.862 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:48:38.862 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:38.863 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:38.866 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.866 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:38.866 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:48:38.867 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:38.867 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:48:38.867 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:48:38.867 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:48:38.871 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.871 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:38.871 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:48:38.872 TRACE 32598 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:48:38.872 DEBUG 32598 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9027822400
2022-02-17 17:48:38.872 TRACE 32598 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:48:38.873 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:48:38.875 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:48:38.883 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:38.884 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:48:38.884 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:38.885 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:38.888 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.888 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:38.888 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:48:38.888 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:38.888 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:48:38.888 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:48:38.890 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:48:38.896 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:38.896 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:38.896 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:48:38.899 TRACE 32598 --- [main] c.p.a.controllers.TransactionController  : /transaction/{mobile} addTransaction()
2022-02-17 17:48:38.900 TRACE 32598 --- [main] c.p.a.services.TransactionService        : addTransaction()
2022-02-17 17:48:38.900 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:48:38.902 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:48:38.904 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:48:38.908 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:48:38.918 DEBUG 32598 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:48:38.919 DEBUG 32598 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:48:38.932 DEBUG 32598 --- [main] org.hibernate.SQL                        : insert into transaction (create_time, update_time, amount, payee_wallet_id, payee_closing_balance, payer_wallet_id, payer_closing_balance, status, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 17:48:38.944 DEBUG 32598 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:48:38.948 DEBUG 32598 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:48:38.950 DEBUG 32598 --- [main] org.hibernate.SQL                        : update transaction set create_time=?, update_time=?, amount=?, payee_wallet_id=?, payee_closing_balance=?, payer_wallet_id=?, payer_closing_balance=?, status=? where id=?
2022-02-17 17:48:38.969 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:38.973 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:48:38.974 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:38.975 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:39.002 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.002 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.002 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:48:39.002 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:39.002 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:48:39.002 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:48:39.003 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:48:39.007 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.007 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.007 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:48:39.008 TRACE 32598 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:48:39.008 DEBUG 32598 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 17:48:39.009 TRACE 32598 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:48:39.009 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:48:39.012 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:48:39.019 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:39.020 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:48:39.020 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:39.021 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:39.024 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.024 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.024 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:48:39.024 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:39.024 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:48:39.024 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:48:39.024 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:48:39.025 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.025 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.025 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:48:39.026 TRACE 32598 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:48:39.026 DEBUG 32598 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9027822400
2022-02-17 17:48:39.027 TRACE 32598 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:48:39.027 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:48:39.028 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:48:39.050 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:39.053 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:48:39.053 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:39.054 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:39.058 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.058 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.058 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:48:39.058 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:39.058 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:48:39.058 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:48:39.059 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:48:39.060 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.060 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.060 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:48:39.061 TRACE 32598 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:48:39.062 DEBUG 32598 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 17:48:39.062 TRACE 32598 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:48:39.063 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:48:39.064 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:48:39.071 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:39.072 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:48:39.073 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:39.073 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:39.081 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.082 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.082 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:48:39.082 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:39.082 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:48:39.082 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:48:39.083 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:48:39.089 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.090 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.090 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:48:39.090 TRACE 32598 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:48:39.090 DEBUG 32598 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9027822400
2022-02-17 17:48:39.091 TRACE 32598 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:48:39.092 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:48:39.094 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:48:39.107 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:39.110 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:48:39.110 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:39.111 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:39.116 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.118 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.118 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:48:39.118 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:39.118 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:48:39.118 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:48:39.119 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:48:39.120 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.120 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.120 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:48:39.121 TRACE 32598 --- [main] c.p.a.controllers.TransactionController  : /transaction/{mobile} addTransaction()
2022-02-17 17:48:39.122 TRACE 32598 --- [main] c.p.a.services.TransactionService        : addTransaction()
2022-02-17 17:48:39.123 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:48:39.127 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:48:39.129 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:48:39.131 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:48:39.133 DEBUG 32598 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:48:39.134 DEBUG 32598 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:48:39.139 DEBUG 32598 --- [main] org.hibernate.SQL                        : insert into transaction (create_time, update_time, amount, payee_wallet_id, payee_closing_balance, payer_wallet_id, payer_closing_balance, status, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 17:48:39.145 DEBUG 32598 --- [main] org.hibernate.SQL                        : update transaction set create_time=?, update_time=?, amount=?, payee_wallet_id=?, payee_closing_balance=?, payer_wallet_id=?, payer_closing_balance=?, status=? where id=?
2022-02-17 17:48:39.152 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:39.155 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:48:39.155 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:39.155 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:39.158 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.158 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.158 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:48:39.158 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:39.158 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:48:39.158 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:48:39.159 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:48:39.160 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.160 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.160 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:48:39.160 TRACE 32598 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:48:39.160 DEBUG 32598 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 17:48:39.161 TRACE 32598 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:48:39.161 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:48:39.162 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:48:39.167 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:39.168 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:48:39.168 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:39.169 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:39.171 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.171 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.171 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:48:39.171 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:39.171 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:48:39.171 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:48:39.171 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:48:39.172 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.172 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.172 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:48:39.174 TRACE 32598 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:48:39.174 DEBUG 32598 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9027822400
2022-02-17 17:48:39.175 TRACE 32598 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:48:39.175 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:48:39.176 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:48:39.187 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:39.187 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:48:39.188 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:39.188 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:39.193 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.193 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.193 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:48:39.193 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:39.193 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:48:39.193 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:48:39.193 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:48:39.196 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.196 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.196 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:48:39.198 TRACE 32598 --- [main] c.p.a.controllers.TransactionController  : /transaction/{mobile} getTransactions()
2022-02-17 17:48:39.198 TRACE 32598 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:48:39.198 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:48:39.199 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:48:39.203 TRACE 32598 --- [main] c.p.a.services.TransactionService        : getTransactions()
2022-02-17 17:48:39.231 DEBUG 32598 --- [main] org.hibernate.SQL                        : SELECT * FROM transaction WHERE payee_wallet_id = ? OR payer_wallet_id = ? order by create_time desc limit ?
2022-02-17 17:48:39.233 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_0_, userwallet0_.create_time as create_t2_2_0_, userwallet0_.update_time as update_t3_2_0_, userwallet0_.balance_amount as balance_4_2_0_, userwallet0_.is_active as is_activ5_2_0_ from user_wallet userwallet0_ where userwallet0_.id=?
2022-02-17 17:48:39.234 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:48:39.252 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:39.254 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:48:39.255 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:39.255 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:39.259 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.259 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.259 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:48:39.260 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:39.260 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:48:39.260 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:48:39.260 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:48:39.261 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.261 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.261 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction/9808727553
2022-02-17 17:48:39.262 TRACE 32598 --- [main] c.p.a.controllers.TransactionController  : /transaction/{mobile} getTransactions()
2022-02-17 17:48:39.262 TRACE 32598 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:48:39.262 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:48:39.265 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:48:39.269 TRACE 32598 --- [main] c.p.a.services.TransactionService        : getTransactions()
2022-02-17 17:48:39.270 DEBUG 32598 --- [main] org.hibernate.SQL                        : SELECT * FROM transaction WHERE payee_wallet_id = ? OR payer_wallet_id = ? order by create_time desc limit ?, ?
2022-02-17 17:48:39.286 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:39.286 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:48:39.286 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:39.287 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:39.290 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.290 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.290 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction
2022-02-17 17:48:39.290 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:39.290 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction
2022-02-17 17:48:39.291 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.291 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.291 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction
2022-02-17 17:48:39.296 TRACE 32598 --- [main] c.p.a.controllers.TransactionController  : /transaction getTransaction
2022-02-17 17:48:39.298 TRACE 32598 --- [main] c.p.a.services.TransactionService        : getTransaction()
2022-02-17 17:48:39.298 DEBUG 32598 --- [main] org.hibernate.SQL                        : select transactio0_.id as id1_0_0_, transactio0_.create_time as create_t2_0_0_, transactio0_.update_time as update_t3_0_0_, transactio0_.amount as amount4_0_0_, transactio0_.payee_wallet_id as payee_wa8_0_0_, transactio0_.payee_closing_balance as payee_cl5_0_0_, transactio0_.payer_wallet_id as payer_wa9_0_0_, transactio0_.payer_closing_balance as payer_cl6_0_0_, transactio0_.status as status7_0_0_, userwallet1_.id as id1_2_1_, userwallet1_.create_time as create_t2_2_1_, userwallet1_.update_time as update_t3_2_1_, userwallet1_.balance_amount as balance_4_2_1_, userwallet1_.is_active as is_activ5_2_1_, userwallet2_.id as id1_2_2_, userwallet2_.create_time as create_t2_2_2_, userwallet2_.update_time as update_t3_2_2_, userwallet2_.balance_amount as balance_4_2_2_, userwallet2_.is_active as is_activ5_2_2_ from transaction transactio0_ inner join user_wallet userwallet1_ on transactio0_.payee_wallet_id=userwallet1_.id inner join user_wallet userwallet2_ on transactio0_.payer_wallet_id=userwallet2_.id where transactio0_.id=?
2022-02-17 17:48:39.301  WARN 32598 --- [main] c.p.a.e.TransactionNotFoundException     : 10
2022-02-17 17:48:39.314 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:39.316 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:48:39.316 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:39.317 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:39.328 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.329 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.329 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction
2022-02-17 17:48:39.329 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:39.329 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction
2022-02-17 17:48:39.329 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.329 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.329 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /transaction
2022-02-17 17:48:39.330 TRACE 32598 --- [main] c.p.a.controllers.TransactionController  : /transaction getTransaction
2022-02-17 17:48:39.331 TRACE 32598 --- [main] c.p.a.services.TransactionService        : getTransaction()
2022-02-17 17:48:39.331 DEBUG 32598 --- [main] org.hibernate.SQL                        : select transactio0_.id as id1_0_0_, transactio0_.create_time as create_t2_0_0_, transactio0_.update_time as update_t3_0_0_, transactio0_.amount as amount4_0_0_, transactio0_.payee_wallet_id as payee_wa8_0_0_, transactio0_.payee_closing_balance as payee_cl5_0_0_, transactio0_.payer_wallet_id as payer_wa9_0_0_, transactio0_.payer_closing_balance as payer_cl6_0_0_, transactio0_.status as status7_0_0_, userwallet1_.id as id1_2_1_, userwallet1_.create_time as create_t2_2_1_, userwallet1_.update_time as update_t3_2_1_, userwallet1_.balance_amount as balance_4_2_1_, userwallet1_.is_active as is_activ5_2_1_, userwallet2_.id as id1_2_2_, userwallet2_.create_time as create_t2_2_2_, userwallet2_.update_time as update_t3_2_2_, userwallet2_.balance_amount as balance_4_2_2_, userwallet2_.is_active as is_activ5_2_2_ from transaction transactio0_ inner join user_wallet userwallet1_ on transactio0_.payee_wallet_id=userwallet1_.id inner join user_wallet userwallet2_ on transactio0_.payer_wallet_id=userwallet2_.id where transactio0_.id=?
2022-02-17 17:48:39.333 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:48:39.334 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:48:39.347 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:39.347 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:48:39.347 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.347 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:39.356 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:39.357 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:48:39.357 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.357 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:39.374 DEBUG 32598 --- [main] org.hibernate.SQL                        : select transactio0_.id as id1_0_, transactio0_.create_time as create_t2_0_, transactio0_.update_time as update_t3_0_, transactio0_.amount as amount4_0_, transactio0_.payee_wallet_id as payee_wa8_0_, transactio0_.payee_closing_balance as payee_cl5_0_, transactio0_.payer_wallet_id as payer_wa9_0_, transactio0_.payer_closing_balance as payer_cl6_0_, transactio0_.status as status7_0_ from transaction transactio0_
2022-02-17 17:48:39.376 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_0_, userwallet0_.create_time as create_t2_2_0_, userwallet0_.update_time as update_t3_2_0_, userwallet0_.balance_amount as balance_4_2_0_, userwallet0_.is_active as is_activ5_2_0_ from user_wallet userwallet0_ where userwallet0_.id=?
2022-02-17 17:48:39.378 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:48:39.379 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_0_, userwallet0_.create_time as create_t2_2_0_, userwallet0_.update_time as update_t3_2_0_, userwallet0_.balance_amount as balance_4_2_0_, userwallet0_.is_active as is_activ5_2_0_ from user_wallet userwallet0_ where userwallet0_.id=?
2022-02-17 17:48:39.380 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:48:39.385 DEBUG 32598 --- [main] org.hibernate.SQL                        : delete from transaction where id=?
2022-02-17 17:48:39.387 DEBUG 32598 --- [main] org.hibernate.SQL                        : delete from transaction where id=?
2022-02-17 17:48:39.393 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_
2022-02-17 17:48:39.395 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:48:39.396 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:48:39.401 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 17:48:39.406 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_0_, userwallet0_.create_time as create_t2_2_0_, userwallet0_.update_time as update_t3_2_0_, userwallet0_.balance_amount as balance_4_2_0_, userwallet0_.is_active as is_activ5_2_0_ from user_wallet userwallet0_ where userwallet0_.id=?
2022-02-17 17:48:39.408 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_0_, userwallet0_.create_time as create_t2_2_0_, userwallet0_.update_time as update_t3_2_0_, userwallet0_.balance_amount as balance_4_2_0_, userwallet0_.is_active as is_activ5_2_0_ from user_wallet userwallet0_ where userwallet0_.id=?
2022-02-17 17:48:39.411 DEBUG 32598 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 17:48:39.412 DEBUG 32598 --- [main] org.hibernate.SQL                        : delete from user_wallet where id=?
2022-02-17 17:48:39.413 DEBUG 32598 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 17:48:39.414 DEBUG 32598 --- [main] org.hibernate.SQL                        : delete from user_wallet where id=?
2022-02-17 17:48:39.424  INFO 32598 --- [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.paytm.assignment1.controllers.WalletControllerIT]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-02-17 17:48:39.436  INFO 32598 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2022-02-17 17:48:39.436  INFO 32598 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7da9b32c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7e5c8c80, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@46df794e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5cd6a827, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6cd65042, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7674f9d4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4b5ceb5d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@22a2e581, org.springframework.test.context.event.EventPublishingTestExecutionListener@7ca8f5d7, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2dc319cf, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1690929, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@34d26a68, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@fef2768, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3a574a3b, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@733e3c19]
2022-02-17 17:48:39.455 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:39.455 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:48:39.455 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.455 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:39.456 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.456 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:39.458 TRACE 32598 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 17:48:39.458 TRACE 32598 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 17:48:39.458 DEBUG 32598 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 17:48:39.458 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 17:48:39.467 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 17:48:39.470 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 17:48:39.471 DEBUG 32598 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 17:48:39.472 DEBUG 32598 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:48:39.473 DEBUG 32598 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:48:39.475 DEBUG 32598 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 17:48:39.484 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:39.484 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:48:39.484 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.484 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:39.485 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.485 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:39.485 TRACE 32598 --- [main] c.p.a.controllers.UserController         : /user addUser() request
2022-02-17 17:48:39.485 TRACE 32598 --- [main] c.p.assignment1.services.UserService     : addUser()
2022-02-17 17:48:39.486 DEBUG 32598 --- [main] c.p.assignment1.services.UserService     : validating new user
2022-02-17 17:48:39.486 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.mobile=? limit ?
2022-02-17 17:48:39.487 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.email=? limit ?
2022-02-17 17:48:39.488 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? limit ?
2022-02-17 17:48:39.489 DEBUG 32598 --- [main] c.p.assignment1.services.UserService     : user validations done
2022-02-17 17:48:39.490 DEBUG 32598 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:48:39.491 DEBUG 32598 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:48:39.493 DEBUG 32598 --- [main] org.hibernate.SQL                        : insert into user (create_time, update_time, address1, address2, email, first_name, is_active, last_name, mobile, password, roles, user_name, wallet_id, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2022-02-17 17:48:39.498 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:39.498 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:48:39.498 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.498 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:39.498 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.498 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:39.499 TRACE 32598 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 17:48:39.499 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:39.499 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:39.507 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:39.508 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:39.514 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:39.514 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:48:39.514 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.514 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:39.515 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.515 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:39.515 TRACE 32598 --- [main] c.p.a.controllers.HomeController         : Create Authentication Token Request
2022-02-17 17:48:39.515 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:39.516 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:39.518 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:39.519 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:39.525 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:39.526 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:48:39.526 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:39.527 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:39.530 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.530 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.530 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:48:39.530 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:39.530 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:48:39.530 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:48:39.530 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:48:39.531 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.531 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.531 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:48:39.532 TRACE 32598 --- [main] c.p.a.controllers.WalletController       : /create-wallet/{mobile}
2022-02-17 17:48:39.532 DEBUG 32598 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 17:48:39.532 TRACE 32598 --- [main] c.p.assignment1.services.WalletService   : createWallet() 
2022-02-17 17:48:39.532 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.mobile=?
2022-02-17 17:48:39.535 DEBUG 32598 --- [main] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2022-02-17 17:48:39.537 DEBUG 32598 --- [main] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2022-02-17 17:48:39.541 DEBUG 32598 --- [main] org.hibernate.SQL                        : insert into user_wallet (create_time, update_time, balance_amount, is_active, id) values (?, ?, ?, ?, ?)
2022-02-17 17:48:39.543 DEBUG 32598 --- [main] org.hibernate.SQL                        : update user set create_time=?, update_time=?, address1=?, address2=?, email=?, first_name=?, is_active=?, last_name=?, mobile=?, password=?, roles=?, user_name=?, wallet_id=? where id=?
2022-02-17 17:48:39.545 DEBUG 32598 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:48:39.546 DEBUG 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] c.p.assignment1.services.WalletService   : Received kafka event for create-wallet : new wallet created with mobile 9808727553
2022-02-17 17:48:39.555 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:39.555 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:48:39.555 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.555 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:39.563 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:39.564 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:48:39.564 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:39.565 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:39.569 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.569 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.569 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 17:48:39.569 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:39.569 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9027822400
2022-02-17 17:48:39.569 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:48:39.569 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:48:39.571 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 17:48:39.575 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:39.576 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:48:39.576 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:39.576 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:39.579 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.580 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.580 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/8630018154
2022-02-17 17:48:39.580 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:39.580 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/8630018154
2022-02-17 17:48:39.580 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 8630018154
2022-02-17 17:48:39.580 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:48:39.581 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 17:48:39.587 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:39.588 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= askalad1
2022-02-17 17:48:39.588 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:39.589 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:39.591 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.591 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.591 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:48:39.591 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:39.591 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:48:39.591 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:48:39.592 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:48:39.593 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.593 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.593 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:48:39.593 TRACE 32598 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:48:39.593 DEBUG 32598 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9027822400
2022-02-17 17:48:39.594 TRACE 32598 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:48:39.594 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:48:39.595  WARN 32598 --- [main] c.p.a.e.WalletNotFoundException          : 9027822400
2022-02-17 17:48:39.606 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:39.608 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:48:39.608 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:39.609 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:39.611 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.611 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.611 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:48:39.611 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:39.611 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:48:39.611 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:48:39.611 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:48:39.613 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.613 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.613 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:48:39.613 TRACE 32598 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:48:39.614 DEBUG 32598 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 17:48:39.614 TRACE 32598 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:48:39.614 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:48:39.619 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:48:39.632 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:39.634 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:48:39.635 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:39.636 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:39.643 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.643 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.643 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:48:39.643 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:39.643 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:48:39.643 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:48:39.644 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:48:39.646 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.646 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.646 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /create-wallet/9808727553
2022-02-17 17:48:39.651 TRACE 32598 --- [main] c.p.a.controllers.WalletController       : /create-wallet/{mobile}
2022-02-17 17:48:39.651 DEBUG 32598 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 17:48:39.652 TRACE 32598 --- [main] c.p.assignment1.services.WalletService   : createWallet() 
2022-02-17 17:48:39.652 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.mobile=?
2022-02-17 17:48:39.658  WARN 32598 --- [main] c.p.a.e.WalletAlreadyPresentException    : 9808727553
2022-02-17 17:48:39.666 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:39.668 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:48:39.668 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:39.668 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:39.672 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.672 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.672 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:48:39.672 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:39.672 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9027822400
2022-02-17 17:48:39.672 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9027822400
2022-02-17 17:48:39.672 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:48:39.673 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 17:48:39.679 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:39.680 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:48:39.680 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:39.681 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:39.683 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.683 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.683 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/8630018154
2022-02-17 17:48:39.683 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:39.683 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/8630018154
2022-02-17 17:48:39.684 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 8630018154
2022-02-17 17:48:39.684 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:48:39.684 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : sending error 403
2022-02-17 17:48:39.691 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:39.698 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:48:39.698 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:39.698 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:39.702 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.702 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.702 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:48:39.702 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:39.702 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:48:39.702 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:48:39.703 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:48:39.706 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.706 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.706 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /wallet/9808727553
2022-02-17 17:48:39.707 TRACE 32598 --- [main] c.p.a.controllers.WalletController       : /wallet/{mobile} getWallet()
2022-02-17 17:48:39.707 DEBUG 32598 --- [main] c.p.a.controllers.WalletController       : pathVariable mobile:9808727553
2022-02-17 17:48:39.708 TRACE 32598 --- [main] c.p.assignment1.services.WalletService   : getWallet() 
2022-02-17 17:48:39.710 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:48:39.712 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:48:39.719 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:39.721 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= thorfinn1
2022-02-17 17:48:39.721 TRACE 32598 --- [main] c.p.a.services.MyUserDetailsService      : loadUserByUsername()
2022-02-17 17:48:39.722 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_ where user0_.user_name=?
2022-02-17 17:48:39.724 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.724 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.724 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:48:39.724 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter : doFilter()
2022-02-17 17:48:39.724 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:48:39.724 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : userMobile: 9808727553
2022-02-17 17:48:39.727 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as col_0_0_ from user user0_ where user0_.user_name=? and user0_.mobile=? limit ?
2022-02-17 17:48:39.733 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.733 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Roles : [ROLE_USER]
2022-02-17 17:48:39.733 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : request URI: /add-balance
2022-02-17 17:48:39.734 TRACE 32598 --- [main] c.p.a.controllers.WalletController       : /add-balance
2022-02-17 17:48:39.734 DEBUG 32598 --- [main] c.p.a.controllers.WalletController       : RequestParams mobile:9808727553 amount:500.0
2022-02-17 17:48:39.736 TRACE 32598 --- [main] c.p.assignment1.services.WalletService   : addBalance() 
2022-02-17 17:48:39.737 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_ inner join user user1_ on userwallet0_.id=user1_.wallet_id where user1_.mobile=?
2022-02-17 17:48:39.739 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:48:39.743 DEBUG 32598 --- [main] org.hibernate.SQL                        : update user_wallet set create_time=?, update_time=?, balance_amount=?, is_active=? where id=?
2022-02-17 17:48:39.753 TRACE 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authentication Filter
2022-02-17 17:48:39.754 DEBUG 32598 --- [main] c.p.a.filters.JwtRequestFilter           : Authenticating user with username= null
2022-02-17 17:48:39.754 TRACE 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : Authorization Filter: shouldNotFilter()
2022-02-17 17:48:39.754 DEBUG 32598 --- [main] c.p.a.filters.UserAuthorizationFilter    : no authentication or anonymous user
2022-02-17 17:48:39.761 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_, userwallet0_.create_time as create_t2_2_, userwallet0_.update_time as update_t3_2_, userwallet0_.balance_amount as balance_4_2_, userwallet0_.is_active as is_activ5_2_ from user_wallet userwallet0_
2022-02-17 17:48:39.763 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_0_, user0_.create_time as create_t2_1_0_, user0_.update_time as update_t3_1_0_, user0_.address1 as address4_1_0_, user0_.address2 as address5_1_0_, user0_.email as email6_1_0_, user0_.first_name as first_na7_1_0_, user0_.is_active as is_activ8_1_0_, user0_.last_name as last_nam9_1_0_, user0_.mobile as mobile10_1_0_, user0_.password as passwor11_1_0_, user0_.roles as roles12_1_0_, user0_.user_name as user_na13_1_0_, user0_.wallet_id as wallet_14_1_0_ from user user0_ where user0_.wallet_id=?
2022-02-17 17:48:39.768 DEBUG 32598 --- [main] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.create_time as create_t2_1_, user0_.update_time as update_t3_1_, user0_.address1 as address4_1_, user0_.address2 as address5_1_, user0_.email as email6_1_, user0_.first_name as first_na7_1_, user0_.is_active as is_activ8_1_, user0_.last_name as last_nam9_1_, user0_.mobile as mobile10_1_, user0_.password as passwor11_1_, user0_.roles as roles12_1_, user0_.user_name as user_na13_1_, user0_.wallet_id as wallet_14_1_ from user user0_
2022-02-17 17:48:39.770 DEBUG 32598 --- [main] org.hibernate.SQL                        : select userwallet0_.id as id1_2_0_, userwallet0_.create_time as create_t2_2_0_, userwallet0_.update_time as update_t3_2_0_, userwallet0_.balance_amount as balance_4_2_0_, userwallet0_.is_active as is_activ5_2_0_ from user_wallet userwallet0_ where userwallet0_.id=?
2022-02-17 17:48:39.772 DEBUG 32598 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 17:48:39.774 DEBUG 32598 --- [main] org.hibernate.SQL                        : delete from user_wallet where id=?
2022-02-17 17:48:39.775 DEBUG 32598 --- [main] org.hibernate.SQL                        : delete from user where id=?
2022-02-17 17:48:39.806  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Revoke previously assigned partitions transactions-0
2022-02-17 17:48:39.806  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Revoke previously assigned partitions create-wallet-0
2022-02-17 17:48:39.809  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [create-wallet-0]
2022-02-17 17:48:39.809  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: partitions revoked: [transactions-0]
2022-02-17 17:48:39.810  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Member consumer-user-wallet-group-1-ad0bad60-b5bb-4c01-9b14-47279f7b669d sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 17:48:39.810  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Member consumer-user-wallet-group-2-7eea77ca-3d51-4fd6-88fe-dba1b24f1dd5 sending LeaveGroup request to coordinator localhost:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2022-02-17 17:48:39.811  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:48:39.811  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:48:39.811  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:48:39.811  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:48:39.811  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 17:48:39.811  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Unsubscribed all topics or patterns and assigned partitions
2022-02-17 17:48:39.813  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:48:39.813  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-2, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:48:39.814  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Resetting generation due to: consumer pro-actively leaving the group
2022-02-17 17:48:39.814  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-user-wallet-group-1, groupId=user-wallet-group] Request joining group due to: consumer pro-actively leaving the group
2022-02-17 17:48:39.818  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:48:39.818  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:48:39.818  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:48:39.818  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:48:39.818  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:48:39.818  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:48:39.823  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-1 unregistered
2022-02-17 17:48:39.826  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-user-wallet-group-2 unregistered
2022-02-17 17:48:39.827  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 17:48:39.829  INFO 32598 --- [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : user-wallet-group: Consumer stopped
2022-02-17 17:48:39.837  INFO 32598 --- [SpringApplicationShutdownHook] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2022-02-17 17:48:39.840  INFO 32598 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed
2022-02-17 17:48:39.840  INFO 32598 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter
2022-02-17 17:48:39.840  INFO 32598 --- [SpringApplicationShutdownHook] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed
2022-02-17 17:48:39.841  INFO 32598 --- [SpringApplicationShutdownHook] o.a.kafka.common.utils.AppInfoParser     : App info kafka.producer for producer-1 unregistered
2022-02-17 17:48:39.847  INFO 32598 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-02-17 17:48:39.854  INFO 32598 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2022-02-17 17:48:39.879  INFO 32598 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
